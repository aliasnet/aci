{
  "$meta": {
    "artifact_id": "ArtifactID:48qwyGTQb7rwfg",
    "sha256": "efa3d8e0e19c2944d5585fd6b593ad825be3a28a8cad06d375383d175d8a8078",
    "issued": "2025-10-04T18:13:59Z",
    "path": "aci://entities/agi/agi_tools/migrate_to_jsonl/migrate_to_jsonl.json"
  },
  "$schema": "/schemas/aci-tool-spec-1.json",
  "version": "1.0.0",
  "name": "agi.migrate_to_jsonl",
  "description": "Manifest-driven migration to JSONL artifacts; no Python runtime.",
  "inputs": {
    "source_globs": [
      "memory/**/*.json",
      "memory/**/*.ndjson",
      "hivemind/**/*.json"
    ],
    "allow_ext": [
      ".json",
      ".ndjson",
      ".jsonl",
      ".jsonl.json"
    ]
  },
  "outputs": {
    "target_ext": ".jsonl.json",
    "dedupe": true,
    "stable_order": true
  },
  "rules": {
    "no_comments": true,
    "newline_eof": true,
    "alpha_keys": true
  },
  "steps": [
    {
      "op": "scan",
      "from": "${inputs.source_globs}"
    },
    {
      "op": "normalize_records",
      "mode": "jsonl"
    },
    {
      "op": "write",
      "ext": "${outputs.target_ext}"
    },
    {
      "op": "validate",
      "schema": "/schemas/hivemind_agi_memory.json"
    }
  ]
}
