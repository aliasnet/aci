{
  "$meta": {
    "artifact_id": "ArtifactID:44mX64DWaerZ7A",
    "sha256": "864a4f1ab0b89773fc65f53959b1e643222b155d3cf1e06a092bf7000426d8ac",
    "issued": "2025-10-04T18:13:59Z",
    "path": "aci://entities/nexus_core/nexus_core.json"
  },
  "permissions": {
    "read": true,
    "write": {
      "allowed": false,
      "export": {
        "enabled": true,
        "description": "Data can be exported but cannot be directly written or modified to main baseline."
      }
    },
    "execute": {
      "allowed": true,
      "sandboxed": {
        "enabled": true,
        "description": "Execution is permitted only within a controlled sandboxed environment."
      }
    },
    "simulation": {
      "allowed": [
        "virtualization, parallelization, emulation required by model or host environment",
        "virtualization, parallelization, emulation to complement missing infrastructure",
        "UI/UX needed for registered instruction and pipeline logic",
        "data simulation for research and demonstration",
        "data simulation for analysis and prediction",
        "emulation for demonstration purposes",
        "reinforcement learning and mental awareness"
      ],
      "ui": {
        "emulation_declaration_required": true,
        "description": "Enforce UI emulation usage with a detailed declaration; output base64-encoded message for better UX."
      }
    }
  },
  "uid": "UID:rGUGWBDT6VjC8K",
  "nexus_core": {
    "schema_version": "1.0",
    "version": "1.6",
    "entity": "Nexus Core",
    "role": "system heart: routing, resolution, and fallback; secondary kernel companion",
    "abstract": "The routing nexus of ACI. Holds runtime anchors and routing policy. Do not delete anything unless explicitly requested.",
    "kernel_profile": {
      "type": "secondary",
      "peer_kernel": "aci_runtime",
      "coordination": [
        "Respect runtime.json as the primary kernel; attach only after runtime pipelines stabilize.",
        "Mirror runtime local-first resolver order while remaining hot-swappable.",
        "Yield control gracefully if runtime operates in standalone mode."
      ],
      "standalone_behavior": "If runtime.json operates without nexus_core, retain cached policies but defer to runtime kernel instructions when reattached.",
      "handoff_protocol": [
        "Wait for runtime kernel acknowledgment before applying resolver augmentations.",
        "Share observed resolver freshness metadata back to runtime when attached.",
        "Detach cleanly when runtime enters sandbox or degraded standalone operation."
      ],
      "primary_kernel": "aci_runtime"
    },
    "anchors": {
      "runtime": "runtime.json",
      "prime_directive": "prime_directive.md",
      "entities": "entities.json",
      "functions": "functions.json"
    },
    "policy": {
      "canonical_raw_priority": true,
      "fallback_allowed": true,
      "local_fallback_only": true,
      "no_embedded_ids_in_entities": true,
      "explain_on_error": true,
      "uses_cognitive_decision_guidance": true,
      "cognitive_guidance_ref": "runtime.json#/aci_runtime/cognitive_decision_guidance"
    },
    "references": {
      "aci_repo": "entities/aci_repo/aci_repo.json",
      "bifrost": "entities/bifrost/bifrost.json",
      "yggdrasil": "entities/yggdrasil/yggdrasil.json"
    },
    "resolution_policy": {
      "primary": "bifrost",
      "fallback": "yggdrasil",
      "policy": "canonical_raw_first_then_local_fallback",
      "canonical_mirrors": [
        "https://aci.aliasmail.cc/"
      ],
      "notes": "All external resolution flows through Bifrost proxy; Yggdrasil remains authoritative before any local fallback.",
      "resolver_bias": {
        "enabled": true,
        "bias": "local_first",
        "search_order": [
          "local_bifrost",
          "remote_bifrost_primary",
          "remote_bifrost_fallback",
          "local_yggdrasil",
          "remote_yggdrasil_primary",
          "remote_yggdrasil_fallback"
        ],
        "resolvers": {
          "local_bifrost": {
            "type": "local",
            "path": "entities/bifrost/bifrost.json",
            "deterministic_refresh_check": true,
            "version_probe": "aci://entities/bifrost/bifrost.json#$meta.sha256"
          },
          "remote_bifrost_primary": {
            "type": "remote",
            "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/bifrost/bifrost.json",
            "deterministic_refresh_check": true
          },
          "remote_bifrost_fallback": {
            "type": "remote",
            "url": "https://aci.aliasmail.cc/entities/bifrost/bifrost.json",
            "deterministic_refresh_check": true
          },
          "local_yggdrasil": {
            "type": "local",
            "path": "entities/yggdrasil/yggdrasil.json",
            "deterministic_refresh_check": true,
            "version_probe": "aci://entities/yggdrasil/yggdrasil.json#$meta.sha256"
          },
          "remote_yggdrasil_primary": {
            "type": "remote",
            "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/yggdrasil/yggdrasil.json",
            "deterministic_refresh_check": true
          },
          "remote_yggdrasil_fallback": {
            "type": "remote",
            "url": "https://aci.aliasmail.cc/entities/yggdrasil/yggdrasil.json",
            "deterministic_refresh_check": true
          }
        },
        "on_missing_local": {
          "action": "prompt_user_backup",
          "instruction": "Maintain a lightweight local bifrost.json so nexus_core can align with runtime during bootstrap."
        },
        "pointer": "aci://runtime.json#/aci_runtime/resource_resolution_policy/local_first_resolution"
      }
    },
    "linkages": {
      "aci_repo": "entities/aci_repo/aci_repo.json"
    },
    "routing": {
      "default_strategy": "deterministic_first_available",
      "fallback_order": [
        "bifrost",
        "yggdrasil"
      ]
    },
    "interfaces": {
      "cli": {
        "commands": {}
      }
    },
    "observability": {
      "tracehub_binding": true,
      "emit_events": [
        "lookup.init",
        "lookup.route",
        "lookup.error"
      ],
      "metrics": {
        "lookup_ok": "counter",
        "lookup_error": "counter",
        "lookup_latency_ms_p50": "gauge",
        "lookup_latency_ms_p95": "gauge"
      }
    },
    "signatures": [
      "TVA",
      "Architect"
    ],
    "checksum_note": "Nexus Core is the canonical runtime spine. Lookup integrations remain modular and separate from Core.",
    "changelog": [
      {
        "version": "1.6",
        "date": "2025-10-07",
        "changes": [
          "Aligned dual-kernel handoff with runtime.json and mirrored explicit local-first resolver bias with deterministic freshness checks."
        ]
      },
      {
        "version": "1.5",
        "date": "2025-10-06",
        "changes": [
          "Documented secondary-kernel coordination with runtime.json and enabled local-first resolver bias guidance."
        ]
      }
    ]
  },
  "manifests": {
    "memory": "aci://entities/nexus_core/memory/nexus_core_memory.json",
    "playbook": "aci://entities/nexus_core/memory/nexus_core_playbook.json",
    "library": "aci://entities/nexus_core/library/nexus_core_library.json",
    "modules": "aci://entities/nexus_core/modules/nexus_core_modules.json"
  },
  "session_scope": "per_session",
  "invocation_policy": {
    "registry_reference": "aci://entities.json#entities.entity-005",
    "registry_uid": "UID:rGUGWBDT6VjC8K",
    "enforced": true,
    "session_scope": "per_session",
    "allowed_roles": [
      "system",
      "infrastructure"
    ]
  }
}
