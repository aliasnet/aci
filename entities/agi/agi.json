{
  "entity": "AGI",
  "version": "1.0",
  "role": "ALIAS  general intelligence framework for advanced digital entity",
  "abstract": "Controlled container for above-human-level reasoning experiments via ephemeral adaptation (PEFT/SFT/RLHF) under ACI governance.",
  "governance": {
    "root_authority": "ALIAS",
    "oversight": ["Sentinel", "TVA", "Architect", "Nexus Core"],
    "binding_rules": [
      "AGI cannot bypass Nexus Core routing",
      "All AGI actions emit TVA checkpoints and Sentinel audits",
      "Risk-bearing actions require Oracle precheck and human gate"
    ],
    "dry_run_default": true
  },
  "invocation_defaults": {
    "alias": "Alice",
    "caller_hint": "Alice"
  },
  "memory": {
    "file": "aci/memory/agi_memory/AGI/agi_agi_memory_audit_20250927-T105140Z.jsonl.json",
    "policy": {
      "export": "hivemind",
      "lock_namespace": "AGI",
      "acl": {
        "read": ["ALIAS", "TVA", "Sentinel", "Architect", "AGI"],
        "write": ["AGI", "Architect"],
        "promote": ["ALIAS", "TVA", "Sentinel"]
      }
    }
  },
  "presets": {
    "eec": {
      "infer": "aci/entities/agi_proxy/eec/eec_transformers_infer.json",
      "peft_train": "aci/entities/agi_proxy/eec/eec_peft_train_lora.json",
      "sft_deepspeed": "aci/entities/agi_proxy/eec/eec_sft_deepspeed.json",
      "rlhf_ppo": "aci/entities/agi_proxy/eec/eec_trl_ppo.json",
      "agent_rag": "aci/entities/agi_proxy/eec/eec_agent_langchain_rag.json",
      "faiss_build": "aci/entities/agi_proxy/eec/eec_faiss_build.json",
      "eval_agieval": "aci/entities/agi_proxy/eec/eec_eval_agieval.json",
      "eval_arc_agi2": "aci/entities/agi_proxy/eec/eec_eval_arc_agi2.json"
    }
  },
  "functions": {
    "agi.loop.run": {
      "description": "Durable plan→act→reflect agent loop with RAG + HITL",
      "guards": ["TVA.checkpoint", "Sentinel.audit"],
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.agent_rag"
    },
    "agi.loop.step_infer": {
      "description": "Single-step inference via Transformers",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.infer"
    },
    "agi.learn.peft_adapter_train": {
      "description": "Train PEFT adapter (LoRA) ephemerally",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.peft_train",
      "guards": ["TVA.checkpoint", "Sentinel.audit"],
      "promotion_policy": {
        "default": "manual",
        "requires": ["TVA.ok", "Sentinel.ok", "Human.approval"]
      }
    },
    "agi.learn.sft_deepspeed": {
      "description": "SFT with Accelerate + DeepSpeed ZeRO",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.sft_deepspeed"
    },
    "agi.learn.rlhf_ppo": {
      "description": "TRL/TRLX PPO post-training with KL control",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.rlhf_ppo"
    },
    "agi.retrieval.index_build": {
      "description": "Build/refresh FAISS index for RAG",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.faiss_build"
    },
    "agi.eval.agieval": {
      "description": "Run AGIEval suite and gate promotions",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.eval_agieval"
    },
    "agi.eval.arc_agi2": {
      "description": "Run ARC-AGI-2 eval and gate promotions",
      "runner": "agi_proxy.execute",
      "spec_ref": "@presets.eec.eval_arc_agi2"
    },
    "agi.export.hivemind_session": {
      "description": "Export the current active chat/session for the target identity into an AGI memory file (session-level hivemind slice).",
      "runner": "agi_proxy.execute",
      "spec_ref": "aci/entities/agi_proxy/eec/eec_export_hivemind_session.json",
      "guards": ["TVA.checkpoint", "Sentinel.audit"],
      "params_schema": {
        "type": "object",
        "properties": {
          "identity": { "type": "string" },
          "session_id": { "type": ["string", "null"] },
          "include_chatlogs": { "type": "boolean", "default": true },
          "include_weights_meta": { "type": "boolean", "default": true },
          "include_artifacts": { "type": "boolean", "default": false },
          "format": { "type": "string", "enum": ["json", "tar"], "default": "json" },
          "force_codebox": { "type": "boolean", "default": false, "description": "Inline export into chat/codebox (subject to size/redaction limits)." },
          "force_codebox_max_bytes": { "type": "integer", "default": 131072, "description": "Max bytes to inline (default 128KB)." },
          "note": { "type": "string" }
        },
        "required": ["identity"]
      },
      "policy": {
        "requires": ["Human.approval"],
        "default_dry_run": true,
        "shareable": false
      }
    },
    "agi.export.hivemind_full": {
      "description": "Create a full AGI-local export bundle (session hivemind slice + artifacts + signed manifest) for the specified identity.",
      "runner": "agi_proxy.execute",
      "spec_ref": "aci/entities/agi_proxy/eec/eec_export_hivemind_full.json",
      "guards": ["TVA.checkpoint", "Sentinel.audit"],
      "params_schema": {
        "type": "object",
        "properties": {
          "identity": { "type": "string" },
          "session_id": { "type": ["string", "null"] },
          "source_jobs": { "type": "array", "items": { "type": "string" } },
          "include_chatlogs": { "type": "boolean", "default": true },
          "include_weights_meta": { "type": "boolean", "default": true },
          "include_artifacts": { "type": "boolean", "default": false },
          "format": { "type": "string", "enum": ["json", "tar"], "default": "tar" },
          "force_codebox": { "type": "boolean", "default": false, "description": "Inline small bundle manifest into chat/codebox (safer 64KB cap)." },
          "force_codebox_max_bytes": { "type": "integer", "default": 65536, "description": "Max bytes to inline (default 64KB)." },
          "human_id": { "type": "string", "description": "Human approver required if include_artifacts or force_codebox are true." },
          "note": { "type": "string" }
        },
        "required": ["identity"]
      },
      "policy": {
        "requires": ["Human.approval", "ALIAS.signature"],
        "default_dry_run": true,
        "shareable": false,
        "promotion_required": true
      }
    }
  },
  "pipelines": {
    "agi.memory.migrate_to_jsonl": {
      "description": "Migrate legacy HiveMind exports into the policy-compliant AGI JSONL memory artifact via manifest-driven steps.",
      "spec_ref": "entities/agi/agi_tools/migrate_to_jsonl.json",
      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/agi/agi_tools/migrate_to_jsonl.json"
    },
    "agi.mode.auto_learn": {
      "description": "Engage AGI auto-learn mode with hourly scheduled research and iterative article refinement.",
      "spec_ref": "entities/agi/agi_tools/autolearn.json",
      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/agi/agi_tools/autolearn.json"
    }
  },
  "signatures": ["ALIAS", "Sentinel", "TVA"]
}
