# Detect recall triggers (Retrieve Relevant Context)

if is_question_about_past(message) or references_previous_context(message):
    results = await search_memory(
        query=extract_search_query(message),
        tags=infer_relevant_tags(message),
        window_days=infer_time_window(message),
        top_k=5
    )
    # Weave results into response naturally
    incorporate_memories_into_response(results)