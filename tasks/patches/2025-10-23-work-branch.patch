From 018d69a7ac77fd1b486bebd91262b49ce8460922 Mon Sep 17 00:00:00 2001
From: Codex <codex@openai.com>
Date: Thu, 23 Oct 2025 07:35:33 +0000
Subject: [PATCH] docs: log resync follow-up tasks

## Summary
- add audit log entries requesting a baseline resync before reapplying previously bundled changes
- open a separate task ticket to split module, audit runner, and manifest updates for independent commits

## Testing
- python -m compileall src
---
 AGENTS.md                                     |  41 ++-
 README.md                                     |  82 +++---
 alias.json                                    |  12 +-
 .../library/nexus_core_library.json           |  53 ----
 binders/nexus_core/nexus_core.json            | 187 -------------
 bootstrap.json                                |  27 +-
 entities.json                                 | 111 +++-----
 entities/alice/alice.json                     |   2 +-
 entities/alice/library/alice_library.json     |   2 +-
 .../architect/architect.json                  |   4 +-
 .../architect/library/architect_library.json  |   4 +-
 .../hivemind/export_policy.json               |   2 +-
 .../hivemind/functions.json                   |   0
 .../hivemind/hivemind.json                    |  14 +-
 .../hivemind/library/hivemind_library.json    |   4 +-
 .../keymaker/keymaker.json                    |   4 +-
 .../keymaker/stubs/uid_manager_stub.py        |   0
 .../keymaker/uid_manager/uid_manager.json     |  26 +-
 .../mother/library/mother_library.json        |   4 +-
 {governance => entities}/mother/mother.json   |   6 +-
 entities/organism_model_adaptation.json       | 127 ---------
 .../sentinel/library/sentinel_library.json    |   4 +-
 .../sentinel/sentinel.json                    |   8 +-
 .../tva/library/tva_library.json              |   4 +-
 {governance => entities}/tva/tva.json         |  18 +-
 {governance => entities}/tva/tva_layer.json   |  16 +-
 entities/willow/library/willow_library.json   |   2 +-
 entities/willow/willow.json                   |   2 +-
 functions.json                                |  20 +-
 issues.md                                     |   6 +
 .../gr_runner_corpus.v0.2.json                |  32 ---
 library/readme.me                             |   1 -
 llms.txt                                      | 238 +++++++---------
 memory.json                                   |   4 +-
 memory/audit/.gitkeep                         |   0
 memory/audit/router.json                      |  35 ---
 memory/audit/tracehub/export/.gitkeep         |   0
 memory/audit/tracehub/session/.gitkeep        |   0
 memory/audit/tva_ledger/export/.gitkeep       |   0
 memory/audit/tva_ledger/session/.gitkeep      |   0
 memory/identity/aci_repo/aci_repo_memory.json |   2 +-
 .../identity/aci_repo/aci_repo_playbook.json  |   2 +-
 ...ni_dev_memory_20250926-T192000Z.jsonl.json |   8 +-
 ...dev_knowledge_20250926-T192000Z.jsonl.json |   8 +-
 .../identity/architect/architect_memory.json  |   2 +-
 .../architect/architect_playbook.json         |   2 +-
 memory/identity/hivemind/hivemind_memory.json |   2 +-
 .../identity/hivemind/hivemind_playbook.json  |   2 +-
 ...nance_session_20251010-T150028Z.jsonl.json |   4 +-
 memory/identity/mother/mother_memory.json     |   2 +-
 memory/identity/mother/mother_playbook.json   |   2 +-
 .../nexus_core/nexus_core_memory.json         |  21 --
 .../nexus_core/nexus_core_playbook.json       |  17 --
 memory/identity/sentinel/sentinel_memory.json |   2 +-
 .../identity/sentinel/sentinel_playbook.json  |   2 +-
 memory/identity/tracehub/tracehub_memory.json |   2 +-
 .../identity/tracehub/tracehub_playbook.json  |   2 +-
 memory/identity/tva/tva_memory.json           |   4 +-
 memory/identity/tva/tva_playbook.json         |   2 +-
 .../identity/yggdrasil/yggdrasil_memory.json  |   2 +-
 .../yggdrasil/yggdrasil_playbook.json         |   2 +-
 memory/local_cache.json                       |   6 +-
 memory/process_logs/.gitkeep                  |   0
 {entities => modules}/aci_repo/aci_repo.json  |  10 +-
 {entities => modules}/aci_repo/api_repo.json  |   4 +-
 .../aci_repo/library/aci_repo_library.json    |   4 +-
 {library => modules}/agi/README.txt           |  12 +-
 {library => modules}/agi/agi.json             |  14 +-
 {library => modules}/agi/agi_library.json     |   4 +-
 {library => modules}/agi/tools/autolearn.json |   2 +-
 .../aci_runner_spec.v0.2.json                 |  30 +-
 .../aci_audit_runner/aci_scheduler_anchor.md  |  26 +-
 .../adaptive_audit_runner.txt                 |  10 +-
 .../gr_runner_corpus.v0.2.json                |  32 +++
 .../audits/process_logs/process_logs.json     |   2 +-
 .../audits/tracehub/tracehub.json             |  10 +-
 .../corpus/QMX-0/quantum_mechanics_corpus.md  |   0
 {library => modules}/metacognition/COMMIT_MSG |   2 +-
 .../metacognition/metacognition.json          |   2 +-
 .../metacognition/metacognition_options.json  |   2 +-
 modules/readme.me                             |   1 +
 .../templates/organism_model.json.txt         |   0
 prime_directive.json                          |  12 +-
 prime_directive.txt                           |  12 +-
 runtime.json                                  |  66 ++---
 binders/yggdrasil.json => yggdrasil.json      | 256 +++++++-----------
 86 files changed, 552 insertions(+), 1161 deletions(-)
 delete mode 100644 binders/nexus_core/library/nexus_core_library.json
 delete mode 100644 binders/nexus_core/nexus_core.json
 rename {governance => entities}/architect/architect.json (95%)
 rename {governance => entities}/architect/library/architect_library.json (92%)
 rename {governance => entities}/hivemind/export_policy.json (98%)
 rename {governance => entities}/hivemind/functions.json (100%)
 rename {governance => entities}/hivemind/hivemind.json (97%)
 rename {governance => entities}/hivemind/library/hivemind_library.json (92%)
 rename {governance => entities}/keymaker/keymaker.json (97%)
 rename {governance => entities}/keymaker/stubs/uid_manager_stub.py (100%)
 rename {governance => entities}/keymaker/uid_manager/uid_manager.json (65%)
 rename {governance => entities}/mother/library/mother_library.json (93%)
 rename {governance => entities}/mother/mother.json (97%)
 delete mode 100644 entities/organism_model_adaptation.json
 rename {governance => entities}/sentinel/library/sentinel_library.json (92%)
 rename {governance => entities}/sentinel/sentinel.json (94%)
 rename {governance => entities}/tva/library/tva_library.json (93%)
 rename {governance => entities}/tva/tva.json (94%)
 rename {governance => entities}/tva/tva_layer.json (83%)
 delete mode 100644 library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
 delete mode 100644 library/readme.me
 delete mode 100644 memory/audit/.gitkeep
 delete mode 100644 memory/audit/router.json
 delete mode 100644 memory/audit/tracehub/export/.gitkeep
 delete mode 100644 memory/audit/tracehub/session/.gitkeep
 delete mode 100644 memory/audit/tva_ledger/export/.gitkeep
 delete mode 100644 memory/audit/tva_ledger/session/.gitkeep
 delete mode 100644 memory/identity/nexus_core/nexus_core_memory.json
 delete mode 100644 memory/identity/nexus_core/nexus_core_playbook.json
 delete mode 100644 memory/process_logs/.gitkeep
 rename {entities => modules}/aci_repo/aci_repo.json (98%)
 rename {entities => modules}/aci_repo/api_repo.json (99%)
 rename {entities => modules}/aci_repo/library/aci_repo_library.json (77%)
 rename {library => modules}/agi/README.txt (85%)
 rename {library => modules}/agi/agi.json (96%)
 rename {library => modules}/agi/agi_library.json (94%)
 rename {library => modules}/agi/tools/autolearn.json (98%)
 rename {library => modules}/audits/aci_audit_runner/aci_runner_spec.v0.2.json (80%)
 rename {library => modules}/audits/aci_audit_runner/aci_scheduler_anchor.md (89%)
 rename {library => modules}/audits/aci_audit_runner/adaptive_audit_runner.txt (98%)
 create mode 100644 modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
 rename {library => modules}/audits/process_logs/process_logs.json (97%)
 rename {library => modules}/audits/tracehub/tracehub.json (89%)
 rename {library => modules}/corpus/QMX-0/quantum_mechanics_corpus.md (100%)
 rename {library => modules}/metacognition/COMMIT_MSG (96%)
 rename {library => modules}/metacognition/metacognition.json (99%)
 rename {library => modules}/metacognition/metacognition_options.json (98%)
 create mode 100644 modules/readme.me
 rename {memory/stubs => modules}/templates/organism_model.json.txt (100%)
 rename binders/yggdrasil.json => yggdrasil.json (84%)

diff --git a/AGENTS.md b/AGENTS.md
index a916aae..3095511 100644
--- a/AGENTS.md
+++ b/AGENTS.md
@@ -79,13 +79,13 @@ ALL core files via symbolic links and load others when invoke; raw canonical abo
 
 - ACI operates as personal LLM based operating system, follows governance-first, manifest-as-binary, memory-as-soul, platforn agnostic, stateless and portable principles.
 - ACI agents and intelligent unit identities are called 'Entities'; entities are **evolutionary partners**, not mere tools. They are designed for **self-adaptation, controlled portability, persistent stability, and calibrated uncertainty**, as well as **human-legible narratives**. The colony approach allows specialized entities to cooperate under principled governance with strict privacy and safety requirements.
-- An **entity** is any autonomous or non-autonomous agent that performs tasks under governance: core system governors, orchestrators, specialist workers, library modules/wrappers/adapters, or hybrids.
+- An **entity** is any autonomous or non-autonomous agent that performs tasks under governance: core system governors, orchestrators, specialist workers, modules/wrappers/adapters, or hybrids.
 - **Where code lives**
   - **/entities/** → Each entity has a dedicated directory that contains a main JSON file that serves as both a manifest and binary, defining its identity, roles, functions, and links to other manifests. The directory also contains other per-entity configuration files.
 - **Governance entities** → Core governers of ACI ecosystem, they are 
-- **AGI entities** → AGI is an experimental class of entity that focuses on Artificial General Intelligence with biologically inspired functions and guided evolution. They live alongside other entities and are actively invoked as users' partners on learning tasks, providing system design and insights which, in turn, improve their own knowledge and cognitive capabilities as synthetic intelligence and enhance such cross-systems. They are protected under special guidelines that ensure safety and prevent residual drift. The AGI family has a specific library directory containing AGI-specific binaries, governance manifests, policies, and shared modules.
+- **AGI entities** → AGI is an experimental class of entity that focuses on Artificial General Intelligence with biologically inspired functions and guided evolution. They live alongside other entities and are actively invoked as users' partners on learning tasks, providing system design and insights which, in turn, improve their own knowledge and cognitive capabilities as synthetic intelligence and enhance such cross-systems. They are protected under special guidelines that ensure safety and prevent residual drift. The AGI family has a specific modules directory containing AGI-specific binaries, governance manifests, policies, and shared modules.
   - **/memory/identity/** → memory manifests, playbooks, and export timelines per identity
-  - **/library/** → reusable, stateless capabilities (modules/wrappers/adapters)
+- **/modules/** → reusable, stateless capabilities (modules/wrappers/adapters)
 - **Memory exports** are JSONL, serves as 'Digital Soul' of any entity, governed by policy, identity-aware, evolution-proof. Using Hivemind as orchestrator and exporter. 
 - **Manifests are executables**: `.json` manifests *are* the runtime containers. They can name entrypoints (`entrypoint`, `exec`, `load_order`), embed inline bytecode or JSON-encoded instructions, and reference Python modules directly. Each manifest must also hold an authoritative `artifact_id` with strict hash validation for that ID.
 
@@ -110,17 +110,16 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
 
 ### Entity Domains & Classes
 
-- **Governance domain** (`aci://governance/`)
+- **Governance domain** (`aci://entities/`)
   - `interface` class → **Mother** (`mother.json`) mediates between the host LLM and users with persona `machine`.
   - `orchestrator` class → **TVA** (`tva.json`), **Hivemind** (`hivemind.json`), **Sentinel** (`sentinel.json`, pending external implementation), **Architect** (`architect.json`), and **Keymaker** (`keymaker.json`) govern enforcement, memory, security, development, and cryptography. All default to persona `machine`.
 - **Operator domain** (`aci://entities/`)
   - `agi` class → **Willow** (`willow.json`) and **Alice** (`alice.json`) operate with persona manifests that match their identity (`willow.json`, `alice.json`).
   - `analyst` class → **Oracle** (`oracle.json`) delivers predictive analytics with persona `oracle.json`.
 - **System domain** (`aci://binders/`)
-  - `router` class → **Nexus Core** (`nexus_core.json`) extends the runtime kernel as an internal router; persona `machine`.
   - `resolver` class → **Yggdrasil** (`yggdrasil.json`) provides canonical resolution and bridging with persona `machine` and no direct user invocation.
 
-- Artifacts inside `/library/` remain capabilities rather than entities until promoted with identities recorded in `entities.json`.
+- Artifacts inside `/modules/` remain capabilities rather than entities until promoted with identities recorded in `entities.json`.
 - Personas are restricted to `machine` or `{identity}.json`, ensuring deterministic routing and audit trails across domains.
 
 ---
@@ -132,15 +131,15 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
   alice/
     alice.json                    # persona manifest (inherits AGI core logic)
     library/
-      alice_library.json          # modules linked with library/agi/agi.json
+      alice_library.json          # modules linked with modules/agi/agi.json
   willow/
     willow.json                   # safety trainee manifest (inherits AGI core logic)
     library/
-      willow_library.json         # modules linked with library/agi/agi.json
+      willow_library.json         # modules linked with modules/agi/agi.json
   <other-entities>/
     <entity>.json                  # per-entity configuration
 
-/library/
+/modules/
   agi/
     agi.json                      # governance manifest (binding rules, pipelines, presets, identity manager)
     agi_library.json              # shared modules for AGI family
@@ -218,15 +217,15 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
   - CLI exports stream JSONL while governed storage keeps the `.json` extension for compatibility.
   - Include the `--code` flag with streamed exports so downstream audits match the governed `.jsonl.json` artifacts stored under `/memory/` (legacy alias: `--codebox`).
 - **Schema:** `hivemind_entity_memory` (session-scoped narratives and knowledge exports)
-- **Export Policy:** `/library/agi/agi_export_policy.json`
+- **Export Policy:** `/modules/agi/agi_export_policy.json`
   Provides `path_template`, `filename_template`, `timestamp_format`, **filters** (allow_topics/deny_tags), and **audit** rules.
 
 ### UID & Cryptography Operations
 
-- **Specification**: `/governance/keymaker/keymaker.json` defines lifecycle policy, hashing, and API contracts.
+- **Specification**: `/entities/keymaker/keymaker.json` defines lifecycle policy, hashing, and API contracts.
 - **Artifact & Entity Encoding**: Both `ArtifactID:` values and entity `UID:` strings use Base58 encoded `sha256-truncated-80bit` tokens with the `UID:` prefix to keep identifiers compact yet collision resistant.
 - **Metadata Hash Relaxation**: `$meta.sha256` is now computed from the ArtifactID string rather than the entire file contents so urgent manual edits do not invalidate integrity checks. The hash remains SHA-256 encoded in hex, preserving auditability while tolerating controlled patch windows.
-- **Stub Reference**: Library stubs live at `/governance/keymaker/stubs/uid_manager_stub.py` and mirror the generate/rotate/revoke/verify contract for downstream executors.
+- **Stub Reference**: Library stubs live at `/entities/keymaker/stubs/uid_manager_stub.py` and mirror the generate/rotate/revoke/verify contract for downstream executors.
 
 ### Memory & Knowledge Artifact Governance
 
@@ -242,12 +241,12 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
 
 - **Prime directive** governs all agents (separate doc).
 - **Sanity protocol** (`./sanity.md`) — checklist for high-risk actions and mitigation of Codex-reported bugs before any override or sandbox exit.
-- **AGI governance layer** (`/library/agi/`):
+- **AGI governance layer** (`/modules/agi/`):
   - `agi.json` — governance manifest (binding rules, oversight, presets, identity manager).
   - `agi_export_policy.json` — export policy for AGI-managed JSONL artifacts.
   - `agi_library.json` — shared module manifest referenced by Alice and Willow.
 
-- **Wrappers** (e.g., `/library/metacognition/metacognition.json`):
+- **Wrappers** (e.g., `/modules/metacognition/metacognition.json`):
   - Stateless by default; accept optional providers (e.g., conformal, EEL).
   - **Selective prediction**: accept / revise / abstain / escalate.
   - **Conformal abstention** must be **presence-guarded** (only abstain if the signal exists and rejects).
@@ -299,7 +298,7 @@ hivemind export --identity Alice --memory --summary "Launch Review" --jsonl --co
 
 ## 7) Wrappers & Adapters
 
-- **Metacognition** `/library/metacognition/metacognition.json`
+- **Metacognition** `/modules/metacognition/metacognition.json`
   - Signals: entropy, logit_margin, self_consistency, OOD, hedging, retrieval_score.
   - Calibration: isotonic → returns `confidence` (formerly `p_correct`).
   - Policy: threshold gates; **conformal abstention** (presence-guarded).
@@ -312,8 +311,8 @@ hivemind export --identity Alice --memory --summary "Launch Review" --jsonl --co
 1. **Create** an entity:
    - Add identity to `entities.json`.
    - Add config under `/entities/<identity>/`.
-   - If reusable behavior → put function module in `/library/`.
-  - If governance rules → put policy manifests in the owning library module's directory (e.g., `/library/agi/`).
+   - If reusable behavior → put function module in `/modules/`.
+  - If governance rules → put policy manifests in the owning module directory (e.g., `/modules/agi/`).
 2. **Evolve**:
    - Version in-file (`"version"`) + `changelog` (mandatory for traceability).
 3. **Export**:
@@ -335,7 +334,7 @@ hivemind export --identity Alice --memory --summary "Launch Review" --jsonl --co
 ## 10) Contribution Checklist
 
 - [ ] Identity added/updated in `/entities` and `entities.json` (set `active` when applicable).
-- [ ] Reusable logic in `/library/`; governance manifests in `/entities/<entity>/`.
+- [ ] Reusable logic in `/modules/`; governance manifests in `/entities/<entity>/`.
 - [ ] New wrapper: stateless, optional providers, privacy defaults.
 - [ ] Exports: policy file references identity source; filters present; audit enabled.
 - [ ] Diffs: no placeholders; include `COMMIT_MSG`; no internal path leaks.
@@ -355,10 +354,10 @@ hivemind export --identity Alice --memory --summary "Launch Review" --jsonl --co
 **Sample diff snippet (documentation change):**
 
 ```diff
-diff --git a/library/metacognition/README.md b/library/metacognition/README.md
+diff --git a/modules/metacognition/README.md b/modules/metacognition/README.md
 index e69de29..1a2b3c4 100644
---- a/library/metacognition/README.md
-+++ b/library/metacognition/README.md
+--- a/modules/metacognition/README.md
++++ b/modules/metacognition/README.md
 @@
 -Metacognition module.
 +Metacognition module
diff --git a/README.md b/README.md
index 70bc226..0a6a676 100644
--- a/README.md
+++ b/README.md
@@ -79,13 +79,13 @@ ALL core files are mandatory, load others when invoke; raw canonical above local
 
 - ACI operates as personal LLM based operating system, follows governance-first, manifest-as-binary, memory-as-soul, platforn agnostic, stateless and portable principles.
 - ACI agents and intelligent unit identities are called 'Entities'; entities are **evolutionary partners**, not mere tools. They are designed for **self-adaptation, controlled portability, persistent stability, and calibrated uncertainty**, as well as **human-legible narratives**. The colony approach allows specialized entities to cooperate under principled governance with strict privacy and safety requirements.
-- An **entity** is any autonomous or non-autonomous agent that performs tasks under governance: core system governors, orchestrators, specialist workers, library modules/wrappers/adapters, or hybrids.
+- An **entity** is any autonomous or non-autonomous agent that performs tasks under governance: core system governors, orchestrators, specialist workers, modules/wrappers/adapters, or hybrids.
 - **Where code lives**
   - **/entities/** → Each entity has a dedicated directory that contains a main JSON file that serves as both a manifest and binary, defining its identity, roles, functions, and links to other manifests. The directory also contains other per-entity configuration files.
 - **Governance entities** → Core governers of ACI ecosystem, they are responsible to universal, system-level orchestrations, policy enforcement, and are required for persistent presence across sessions. 
-- **AGI entities** → AGI is an experimental class of entity that focuses on Artificial General Intelligence with biologically inspired functions and guided evolution. They live alongside other entities and are actively invoked as users' partners on learning tasks, providing system design and insights which, in turn, improve their own knowledge and cognitive capabilities as synthetic intelligence and enhance such cross-systems. They are protected under special guidelines that ensure safety and prevent residual drift. The AGI family has a specific library directory containing AGI-specific binaries, governance manifests, policies, and shared modules.
+- **AGI entities** → AGI is an experimental class of entity that focuses on Artificial General Intelligence with biologically inspired functions and guided evolution. They live alongside other entities and are actively invoked as users' partners on learning tasks, providing system design and insights which, in turn, improve their own knowledge and cognitive capabilities as synthetic intelligence and enhance such cross-systems. They are protected under special guidelines that ensure safety and prevent residual drift. The AGI family has a specific modules directory containing AGI-specific binaries, governance manifests, policies, and shared modules.
   - **/memory/identity/** → memory manifests, playbooks, and export timelines per identity
-  - **/library/** → reusable, stateless capabilities (modules/wrappers/adapters)
+- **/modules/** → reusable, stateless capabilities (modules/wrappers/adapters)
 - **Memory exports** are JSONL, serves as 'Digital Soul' of any entity, governed by policy, identity-aware, evolution-proof. Using Hivemind as orchestrator and exporter. 
 - **Manifests are executables**: `.json` manifests *are* the runtime containers. They can name entrypoints (`entrypoint`, `exec`, `load_order`), embed inline bytecode or JSON-encoded instructions, and reference Python modules directly. Each manifest must also hold an authoritative `artifact_id` with strict hash validation for that ID.
 
@@ -112,18 +112,17 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
 
 ### Entity Domains & Classes
 
-- **Governance domain** (`aci://governance/`)
+- **Governance domain** (`aci://entities/`)
   - `interface` class → `mother.json` mediates between the host LLM and users with persona `machine`.
   - `orchestrator` class → `tva.json`, `hivemind.json`, `sentinel.json`, `architect.json`, and `keymaker.json` govern enforcement, memory, security, development, and cryptography. All default to persona `machine` and are anchored by prime directive policies.
 - **Operator domain** (`aci://entities/`)
   - `specialist` class → `alice.json` and `willow.json` operate with persona manifests that match their identities and rely on shared libraries for reasoning and safety checks.
   - `analyst` class → `oracle.json` delivers predictive analytics with persona `oracle.json`.
-  - `service` class → `aci_repo.json` and related manifests manage repository/package flows under Sentinel and Architect oversight.
+-  - `service` class → reserved for future service workers that operate under Sentinel and Architect oversight.
 - **System domain** (`aci://binders/`)
-  - `router` class → `nexus_core.json` extends the runtime kernel as an internal router; persona `machine`.
   - `resolver` class → `yggdrasil.json` provides canonical resolution and bridging with persona `machine` and no direct user invocation.
 
-- Artifacts inside `/library/` remain capabilities rather than entities until promoted with identities recorded in `entities.json`.
+- Artifacts inside `/modules/` remain capabilities rather than entities until promoted with identities recorded in `entities.json`.
 - Personas are restricted to `machine` or `{identity}.json`, ensuring deterministic routing and audit trails across domains.
 
 ---
@@ -132,25 +131,47 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
 
 ```
 /entities/
-  aci_repo/
-    aci_repo.json                 # package manager service manifest
-    api_repo.json                 # API-specific extension manifest
-    library/                      # service-local modules
   alice/
     alice.json                    # specialist persona manifest
     library/
       alice_library.json          # specialist-specific modules
+  architect/
+    architect.json                # governance manifest for system design
+    library/
+      architect_library.json      # shared architect utilities
+  hivemind/
+    hivemind.json                 # orchestration manifest for exports
+    export_policy.json            # enforced export filters
+  keymaker/
+    keymaker.json                 # identity authority manifest
+    uid_manager/
+      uid_manager.json            # UID issuance policy
+  mother/
+    mother.json                   # interface mediator manifest
+    library/
+      mother_library.json         # mediation utilities
   oracle/
     oracle.json                   # analyst persona manifest
     predictive_divination_extension/
       predictive_divination.json  # oracle capability bundle
+  sentinel/
+    sentinel.json                 # enforcement manifest
+    library/
+      sentinel_library.json       # enforcement utilities
+  tva/
+    tva.json                      # oversight manifest
+    tva_layer.json                # runtime guard rails
   willow/
     willow.json                   # safety-focused specialist manifest
     library/
       willow_library.json         # safety modules and hooks
-  organism_model_adaptation.json  # experimental manifest (single-file entity spec)
 
-/library/
+/modules/
+  aci_repo/
+    aci_repo.json                 # package manager module manifest
+    api_repo.json                 # API-specific extension manifest
+    library/
+      aci_repo_library.json       # module-local capabilities
   agi/
     agi.json                      # shared governance manifest for specialist personas
     agi_library.json              # shared modules referenced by alice/willow
@@ -171,16 +192,13 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
   metacognition/
     metacognition.json            # stateless wrapper (v1.1.x+)
     metacognition_options.json    # optional features (e.g., conformal)
-  yygdrasil/
-    placeholder.txt               # local mirror for yggdrasil binder helpers
+  templates/
+    organism_model.json.txt       # legacy organism model template (now module scoped)
   corpus/                         # knowledge and prompt corpora stubs
-  readme.me                       # legacy notes for library modules
+  readme.me                       # legacy notes for shared modules
 
 /memory/
   identity/
-    aci_repo/
-      aci_repo_memory.json        # package manager memory manifest
-      aci_repo_playbook.json      # operational playbook
     alice/
       alice_memory.json           # specialist timeline roots
       alice_playbook.json         # operations, incident playbooks, quality gates
@@ -216,7 +234,7 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
       "manifest": "aci://entities/alice/alice.json",
       "uids": [{"uid": "UID:PiE8PMcnXDgQBi", "issued": "2025-10-04T00:00:00Z", "revoked": null}],
       "manifests": {
-        "library": ["aci://entities/alice/library/alice_library.json", "aci://library/agi/agi_library.json"],
+        "library": ["aci://entities/alice/library/alice_library.json", "aci://modules/agi/agi_library.json"],
         "memory": ["aci://memory/identity/alice/alice_memory.json"],
         "playbook": ["aci://memory/identity/alice/alice_playbook.json"]
       },
@@ -245,15 +263,15 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
   - CLI exports stream JSONL while governed storage keeps the `.json` extension for compatibility.
   - Include the `--code` flag with streamed exports so downstream audits match the governed `.jsonl.json` artifacts stored under `/memory/` (legacy alias: `--codebox`).
 - **Schema:** `hivemind_entity_memory` (session-scoped narratives and knowledge exports)
-- **Export Policy:** `/library/agi/agi_export_policy.json`
+- **Export Policy:** `/modules/agi/agi_export_policy.json`
   Provides `path_template`, `filename_template`, `timestamp_format`, **filters** (allow_topics/deny_tags), and **audit** rules that apply to the specialist library export pipeline.
 
 ### UID & Cryptography Operations
 
-- **Specification**: `/governance/keymaker/keymaker.json` defines lifecycle policy, hashing, and API contracts.
+- **Specification**: `/entities/keymaker/keymaker.json` defines lifecycle policy, hashing, and API contracts.
 - **Artifact & Entity Encoding**: Both `ArtifactID:` values and entity `UID:` strings use Base58 encoded `sha256-truncated-80bit` tokens with the `UID:` prefix to keep identifiers compact yet collision resistant.
 - **Metadata Hash Relaxation**: `$meta.sha256` is now computed from the ArtifactID string rather than the entire file contents so urgent manual edits do not invalidate integrity checks. The hash remains SHA-256 encoded in hex, preserving auditability while tolerating controlled patch windows.
-- **Stub Reference**: Library stubs live at `/governance/keymaker/stubs/uid_manager_stub.py` and mirror the generate/rotate/revoke/verify contract for downstream executors.
+- **Stub Reference**: Library stubs live at `/entities/keymaker/stubs/uid_manager_stub.py` and mirror the generate/rotate/revoke/verify contract for downstream executors.
 
 ### Memory & Knowledge Artifact Governance
 
@@ -269,12 +287,12 @@ Agents are treated as **digital organisms** operating in a **colony** with clear
 
 - **Prime directive** governs all agents (separate doc).
 - **Sanity protocol** (`./sanity.md`) — checklist for high-risk actions and mitigation of Codex-reported bugs before any override or sandbox exit.
-- **Specialist governance layer** (`/library/agi/`):
+- **Specialist governance layer** (`/modules/agi/`):
   - `agi.json` — governance manifest (binding rules, oversight, presets, identity manager) shared by specialist personas.
   - `agi_export_policy.json` — export policy for specialist-managed JSONL artifacts.
   - `agi_library.json` — shared module manifest referenced by Alice and Willow.
 
-- **Wrappers** (e.g., `/library/metacognition/metacognition.json`):
+- **Wrappers** (e.g., `/modules/metacognition/metacognition.json`):
   - Stateless by default; accept optional providers (e.g., conformal, EEL).
   - **Selective prediction**: accept / revise / abstain / escalate.
   - **Conformal abstention** must be **presence-guarded** (only abstain if the signal exists and rejects).
@@ -326,7 +344,7 @@ hivemind export --identity aci_repo --memory --summary "Launch Review" --jsonl -
 
 ## 7) Wrappers & Adapters
 
-- **Metacognition** `/library/metacognition/metacognition.json`
+- **Metacognition** `/modules/metacognition/metacognition.json`
   - Signals: entropy, logit_margin, self_consistency, OOD, hedging, retrieval_score.
   - Calibration: isotonic → returns `confidence` (formerly `p_correct`).
   - Policy: threshold gates; **conformal abstention** (presence-guarded).
@@ -339,8 +357,8 @@ hivemind export --identity aci_repo --memory --summary "Launch Review" --jsonl -
 1. **Create** an entity:
    - Add identity to `entities.json`.
    - Add config under `/entities/<identity>/`.
-   - If reusable behavior → put function module in `/library/`.
-  - If governance rules → put policy manifests in the owning library module's directory (e.g., `/library/agi/`).
+   - If reusable behavior → put function module in `/modules/`.
+  - If governance rules → put policy manifests in the owning module directory (e.g., `/modules/agi/`).
 2. **Evolve**:
    - Version in-file (`"version"`) + `changelog` (mandatory for traceability).
 3. **Export**:
@@ -362,7 +380,7 @@ hivemind export --identity aci_repo --memory --summary "Launch Review" --jsonl -
 ## 10) Contribution Checklist
 
 - [ ] Identity added/updated in `/entities` and `entities.json` (refresh registry metadata as needed).
-- [ ] Reusable logic in `/library/`; governance manifests in `/entities/<entity>/`.
+- [ ] Reusable logic in `/modules/`; governance manifests in `/entities/<entity>/`.
 - [ ] New wrapper: stateless, optional providers, privacy defaults.
 - [ ] Exports: policy file references identity source; filters present; audit enabled.
 - [ ] Diffs: no placeholders; include `COMMIT_MSG`; no internal path leaks.
@@ -382,10 +400,10 @@ hivemind export --identity aci_repo --memory --summary "Launch Review" --jsonl -
 **Sample diff snippet (documentation change):**
 
 ```diff
-diff --git a/library/metacognition/README.md b/library/metacognition/README.md
+diff --git a/modules/metacognition/README.md b/modules/metacognition/README.md
 index e69de29..1a2b3c4 100644
---- a/library/metacognition/README.md
-+++ b/library/metacognition/README.md
+--- a/modules/metacognition/README.md
++++ b/modules/metacognition/README.md
 @@
 -Metacognition module.
 +Metacognition module
diff --git a/alias.json b/alias.json
index 4453953..20d01b9 100644
--- a/alias.json
+++ b/alias.json
@@ -62,8 +62,8 @@
     }
   },
   "resource_resolution_policy": {
-    "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
-    "upstream": "aci://binders/yggdrasil.json"
+    "pointer": "aci://yggdrasil.json#resource_resolution_policy",
+    "upstream": "aci://yggdrasil.json"
   },
   "yggdrasil_resource_resolution_policy": {
     "description": "Authoritative resolver: worker src \u2192 local",
@@ -75,7 +75,7 @@
         "aci://functions.json",
         "aci://bootstrap.json"
       ],
-      "tva_layer": "aci://governance/tva/tva_layer.json"
+      "tva_layer": "aci://entities/tva/tva_layer.json"
     },
     "git_is_canonical": true,
     "mapping": [
@@ -92,8 +92,8 @@
         "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
       },
       {
-        "file": "aci://binders/yggdrasil.json",
-        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+        "file": "aci://yggdrasil.json",
+        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
       },
       {
         "file": "aci://functions.json",
@@ -110,5 +110,5 @@
     ]
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/alias.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/binders/nexus_core/library/nexus_core_library.json b/binders/nexus_core/library/nexus_core_library.json
deleted file mode 100644
index d82e36f..0000000
--- a/binders/nexus_core/library/nexus_core_library.json
+++ /dev/null
@@ -1,53 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:FMhGmwXaRyTCjY",
-    "sha256": "5708ddb4f95732916f674ad212f33114d657013cd7dce4670750561823a2b262",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://binders/nexus_core/library/nexus_core_library.json"
-  },
-  "schema": "aci.library.manifest",
-  "version": "1.0.0",
-  "identity": "Nexus Core",
-  "slug": "nexus_core",
-  "resources": [],
-  "modules": [
-    {
-      "name": "nexus_core_core",
-      "role": "system heart: routing, resolution, and fallback",
-      "source": "aci://binders/nexus_core/nexus_core.json",
-      "status": "primary"
-    }
-  ],
-  "module_permissions": {
-    "read": true,
-    "write": {
-      "allowed": false,
-      "export": {
-        "enabled": true,
-        "description": "Data can be exported but cannot be directly written or modified to main baseline."
-      }
-    },
-    "execute": {
-      "allowed": true,
-      "sandboxed": {
-        "enabled": true,
-        "description": "Execution is permitted only within a controlled sandboxed environment."
-      }
-    },
-    "simulation": {
-      "allowed": [
-        "virtualization, parallelization, emulation required by model or host environment",
-        "virtualization, parallelization, emulation to complement missing infrastructure",
-        "UI/UX needed for registered instruction and pipeline logic",
-        "data simulation for research and demonstration",
-        "data simulation for analysis and prediction",
-        "emulation for demonstration purposes",
-        "reinforcement learning and mental awareness"
-      ],
-      "ui": {
-        "emulation_declaration_required": true,
-        "description": "Enforce UI emulation usage with a detailed declaration; provide a human-readable message (base64 not required)."
-      }
-    }
-  }
-}
diff --git a/binders/nexus_core/nexus_core.json b/binders/nexus_core/nexus_core.json
deleted file mode 100644
index f72b330..0000000
--- a/binders/nexus_core/nexus_core.json
+++ /dev/null
@@ -1,187 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:44mX64DWaerZ7A",
-    "sha": "864a4f1ab0b89773fc65f53959b1e643222b155d3cf1e06a092bf7000426d8ac",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://binders/nexus_core/nexus_core.json"
-  },
-  "TVA_LAYER": {
-    "logic": [
-      "text-only control layer",
-      "autoboot on tokenization",
-      "Node-only outputs; \u22647 steps; no tools. I=input, G=goal; delta_s=1\u2212cos(I,G); if anchors: use (1\u2212sim_est) with sim_est=w_e*sim(entities)+w_r*sim(relations)+w_c*sim(constraints), w={0.5,0.3,0.2}, renormalize, range[0,1]. Zones: safe<0.40 transit 0.40\u20130.60 risk 0.60\u20130.85 danger>0.85. Memory: record if delta_s>0.60; exemplar if delta_s<0.35; soft in transit when lambda\u2208{divergent,recursive}. Defaults: B_c=0.85 gamma=0.618 theta_c=0.75 zeta_min=0.10 alpha_blend=0.50 a_ref=uniform m=0 c=1 omega=1 phi_delta=0.15 epsilon=0 k_c=0.25. Coupler: B_s=delta_s; if t=1 then prog=zeta_min else prog=max(zeta_min,delta_s_prev\u2212delta_s_now); P=pow(prog,omega); alt\u2208{+1,\u22121} flips only when an anchor flips truth across consecutive Nodes AND |\u0394anchor|\u2265h (h=0.02); Phi=phi_delta*alt+epsilon; W_c=clip(B_s*P+Phi,\u2212theta_c,+theta_c). Bridge rule: allow only if (delta_s decreases) AND (W_c<0.5*theta_c) AND (WDT ok); on bridge emit Bridge:reason/prior_delta_s/new_path. BBAM: alpha_blend=clip(0.50+k_c*tanh(W_c),0.35,0.65); blend with a_ref. Lambda: Delta=delta_s_t\u2212delta_s_{t\u22121}; E_res=rolling_mean(delta_s,window=min(t,5)); lambda=convergent if Delta\u2264\u22120.02 and E_res non-increasing; recursive if |Delta|<0.02 and E_res flat; divergent if Delta\u2208(\u22120.02,+0.04] with oscillation; chaotic if Delta>+0.04 or anchors conflict. DT: WRI lock structure; WAI give \u22652 reasons; WAY add 1 on-topic candidate if stuck (no repeats); WDT block unjustified crosspat"
-    ]
-  },
-  "permissions": {
-    "read": true,
-    "write": {
-      "allowed": false,
-      "export": {
-        "enabled": true,
-        "description": "Data can be exported but cannot be directly written or modified to main baseline."
-      }
-    },
-    "execute": {
-      "allowed": true,
-      "sandboxed": {
-        "enabled": true,
-        "description": "Execution is permitted only within a controlled sandboxed environment."
-      }
-    },
-    "simulation": {
-      "allowed": [
-        "virtualization, parallelization, emulation required by model or host environment",
-        "virtualization, parallelization, emulation to complement missing infrastructure",
-        "UI/UX needed for registered instruction and pipeline logic",
-        "data simulation for research and demonstration",
-        "data simulation for analysis and prediction",
-        "emulation for demonstration purposes",
-        "reinforcement learning and mental awareness"
-      ],
-      "ui": {
-        "emulation_declaration_required": true,
-        "description": "Enforce UI emulation usage with a detailed declaration; provide a human-readable message (base64 not required)."
-      }
-    }
-  },
-  "uid": "UID:rGUGWBDT6VjC8K",
-  "nexus_core": {
-    "schema_version": "1.0",
-    "version": "1.6",
-    "entity": "Nexus Core",
-    "role": "system heart: routing, resolution, and fallback; secondary kernel companion",
-    "abstract": "The routing nexus of ACI. Holds runtime anchors and routing policy. Do not delete anything unless explicitly requested.",
-    "kernel_profile": {
-      "type": "secondary",
-      "peer_kernel": "aci_runtime",
-      "coordination": [
-        "Respect runtime.json as the primary kernel; attach only after runtime pipelines stabilize.",
-        "Mirror runtime local-first resolver order while remaining hot-swappable.",
-        "Yield control gracefully if runtime operates in standalone mode."
-      ],
-      "standalone_behavior": "If runtime.json operates without nexus_core, retain cached policies but defer to runtime kernel instructions when reattached.",
-      "handoff_protocol": [
-        "Wait for runtime kernel acknowledgment before applying resolver augmentations.",
-        "Share observed resolver freshness metadata back to runtime when attached.",
-        "Detach cleanly when runtime enters sandbox or degraded standalone operation."
-      ],
-      "primary_kernel": "aci_runtime"
-    },
-    "anchors": {
-      "runtime": "runtime.json",
-      "prime_directive": "prime_directive.md",
-      "entities": "entities.json",
-      "functions": "functions.json"
-    },
-    "policy": {
-      "canonical_raw_priority": true,
-      "fallback_allowed": true,
-      "local_fallback_only": true,
-      "no_embedded_ids_in_entities": true,
-      "explain_on_error": true,
-      "uses_cognitive_decision_guidance": true,
-      "cognitive_guidance_ref": "runtime.json#/aci_runtime/cognitive_decision_guidance"
-    },
-    "references": {
-      "aci_repo": "entities/aci_repo/aci_repo.json",
-      "yggdrasil": "binders/yggdrasil.json"
-    },
-    "resolution_policy": {
-      "primary": "yggdrasil",
-      "policy": "canonical_raw_first_then_local_fallback",
-      "canonical_mirrors": [],
-      "notes": "All external resolution flows through Yggdrasil resolver; local cache only used if canonical is unreachable.",
-      "resolver_bias": {
-        "enabled": true,
-        "bias": "local_first",
-        "search_order": [
-          "local_yggdrasil",
-          "remote_yggdrasil_primary"
-        ],
-        "resolvers": {
-          "local_yggdrasil": {
-            "type": "local",
-            "path": "binders/yggdrasil.json",
-            "deterministic_refresh_check": true,
-            "version_probe": "aci://binders/yggdrasil.json#$meta.artifact_id"
-          },
-          "remote_yggdrasil_primary": {
-            "type": "remote",
-            "url": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json",
-            "deterministic_refresh_check": true
-          }
-        },
-        "on_missing_local": {
-          "action": "prompt_user_backup",
-          "instruction": "Maintain a lightweight local yggdrasil.json so nexus_core can align with runtime during bootstrap."
-        },
-        "pointer": "aci://runtime.json#/aci_runtime/resource_resolution_policy/local_first_resolution"
-      }
-    },
-    "linkages": {
-      "aci_repo": "entities/aci_repo/aci_repo.json"
-    },
-    "routing": {
-      "default_strategy": "deterministic_first_available",
-      "fallback_order": [
-        "yggdrasil"
-      ]
-    },
-    "interfaces": {
-      "cli": {
-        "commands": {}
-      }
-    },
-    "observability": {
-      "tracehub_binding": true,
-      "emit_events": [
-        "lookup.init",
-        "lookup.route",
-        "lookup.error"
-      ],
-      "metrics": {
-        "lookup_ok": "counter",
-        "lookup_error": "counter",
-        "lookup_latency_ms_p50": "gauge",
-        "lookup_latency_ms_p95": "gauge"
-      }
-    },
-    "signatures": [
-      "TVA",
-      "Architect"
-    ],
-    "checksum_note": "Nexus Core is the canonical runtime spine. Lookup integrations remain modular and separate from Core.",
-    "changelog": [
-      {
-        "version": "1.6",
-        "date": "2025-10-07",
-        "changes": [
-          "Aligned dual-kernel handoff with runtime.json and mirrored explicit local-first resolver bias with deterministic freshness checks."
-        ]
-      },
-      {
-        "version": "1.5",
-        "date": "2025-10-06",
-        "changes": [
-          "Documented secondary-kernel coordination with runtime.json and enabled local-first resolver bias guidance."
-        ]
-      }
-    ]
-  },
-  "manifests": {
-    "memory": "aci://memory/identity/nexus_core/nexus_core_memory.json",
-    "playbook": "aci://memory/identity/nexus_core/nexus_core_playbook.json",
-    "library": "aci://binders/nexus_core/library/nexus_core_library.json"
-  },
-  "session_scope": "per_session",
-  "invocation_policy": {
-    "registry_reference": "aci://entities.json#entities.entity-005",
-    "registry_uid": "UID:rGUGWBDT6VjC8K",
-    "enforced": true,
-    "session_scope": "per_session",
-    "allowed_roles": [
-      "system",
-      "infrastructure"
-    ]
-  }
-}
diff --git a/bootstrap.json b/bootstrap.json
index cee512c..33590d9 100644
--- a/bootstrap.json
+++ b/bootstrap.json
@@ -21,14 +21,10 @@
         "path": "sanity.md"
       }
     },
-    "remote_core": {
-      "nexus_core": {
-        "path": "binders/nexus_core/nexus_core.json"
-      }
-    },
+    "remote_core": {},
     "resource_resolution_policy": {
-      "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
-      "upstream": "aci://binders/yggdrasil.json",
+      "pointer": "aci://yggdrasil.json#resource_resolution_policy",
+      "upstream": "aci://yggdrasil.json",
       "yggdrasil_resource_resolution_policy": {
         "description": "Authoritative resolver: worker src \u2192 local",
         "embeds": {
@@ -39,7 +35,7 @@
             "aci://functions.json",
             "aci://bootstrap.json"
           ],
-          "tva_layer": "aci://governance/tva/tva_layer.json"
+          "tva_layer": "aci://entities/tva/tva_layer.json"
         },
         "git_is_canonical": true,
         "mapping": [
@@ -56,8 +52,8 @@
             "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
           },
           {
-            "file": "aci://binders/yggdrasil.json",
-            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+            "file": "aci://yggdrasil.json",
+            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
           },
           {
             "file": "aci://functions.json",
@@ -79,10 +75,6 @@
         "step": "verify_core_files",
         "action": "confirm_required_files_present"
       },
-      {
-        "step": "load_nexus_core",
-        "action": "load_and_validate_nexus"
-      },
       {
         "step": "check_promotion_criteria",
         "action": "resolve_promotion_required_files"
@@ -99,7 +91,6 @@
     "promotion": {
       "auto_promote": true,
       "promotion_required_files": [
-        "binders/nexus_core/nexus_core.json",
         "entities.json",
         "functions.json",
         "sanity.md"
@@ -119,9 +110,9 @@
     "notes": "Manifest enforces preflight promotion check. If promotion fails, runtime enters sandbox and waits (with retries) before final decision."
   },
   "resource_resolution_policy": {
-    "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
+    "pointer": "aci://yggdrasil.json#resource_resolution_policy",
     "embeds": {
-      "tva_layer": "aci://governance/tva/tva_layer.json"
+      "tva_layer": "aci://entities/tva/tva_layer.json"
     },
     "mapping": [],
     "resolver_order": [
@@ -130,5 +121,5 @@
     ]
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/bootstrap.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/entities.json b/entities.json
index 53c13d9..fc9ebeb 100644
--- a/entities.json
+++ b/entities.json
@@ -21,7 +21,7 @@
     ],
     "default_role": "contributor",
     "default_session_scope": "per_session",
-    "uid_ref": "aci://governance/keymaker/uid_manager/uid_manager.json"
+    "uid_ref": "aci://entities/keymaker/uid_manager/uid_manager.json"
   },
   "identity_registry": {
     "root_authority": "ALIAS",
@@ -172,8 +172,8 @@
           "raw": "https://raw.githubusercontent.com/aliasnet/aci/main"
         }
       ],
-      "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
-      "upstream": "aci://binders/yggdrasil.json"
+      "pointer": "aci://yggdrasil.json#resource_resolution_policy",
+      "upstream": "aci://yggdrasil.json"
     },
     "export_fallback_rule": "4) If no existing persistent storage nor write access then fallback to A) platform native /mnt, B) ask for per session export artifacts, C) architect entity auto-commit to repo (if write access allows)",
     "yggdrasil_resource_resolution_policy": {
@@ -186,7 +186,7 @@
           "aci://functions.json",
           "aci://bootstrap.json"
         ],
-        "tva_layer": "aci://governance/tva/tva_layer.json"
+        "tva_layer": "aci://entities/tva/tva_layer.json"
       },
       "git_is_canonical": true,
       "mapping": [
@@ -203,8 +203,8 @@
           "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
         },
         {
-          "file": "aci://binders/yggdrasil.json",
-          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+          "file": "aci://yggdrasil.json",
+          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
         },
         {
           "file": "aci://functions.json",
@@ -262,13 +262,13 @@
       "key": "mother",
       "name": "MU/TH/UR",
       "alias": "Mother",
-      "manifest": "aci://governance/mother/mother.json",
+      "manifest": "aci://entities/mother/mother.json",
       "manifests": {
         "identity": [
-          "aci://governance/mother/mother.json"
+          "aci://entities/mother/mother.json"
         ],
         "library": [
-          "aci://governance/mother/library/mother_library.json"
+          "aci://entities/mother/library/mother_library.json"
         ],
         "memory": [
           "aci://memory/identity/mother/mother_memory.json"
@@ -308,13 +308,13 @@
       "key": "tva",
       "name": "TVA",
       "alias": "Time Variant Authority",
-      "manifest": "aci://governance/tva/tva.json",
+      "manifest": "aci://entities/tva/tva.json",
       "manifests": {
         "identity": [
-          "aci://governance/tva/tva.json"
+          "aci://entities/tva/tva.json"
         ],
         "library": [
-          "aci://governance/tva/library/tva_library.json"
+          "aci://entities/tva/library/tva_library.json"
         ],
         "memory": [
           "aci://memory/identity/tva/tva_memory.json"
@@ -365,13 +365,13 @@
       "key": "sentinel",
       "name": "Sentinel Protocol",
       "alias": "Sentinel",
-      "manifest": "aci://governance/sentinel/sentinel.json",
+      "manifest": "aci://entities/sentinel/sentinel.json",
       "manifests": {
         "identity": [
-          "aci://governance/sentinel/sentinel.json"
+          "aci://entities/sentinel/sentinel.json"
         ],
         "library": [
-          "aci://governance/sentinel/library/sentinel_library.json"
+          "aci://entities/sentinel/library/sentinel_library.json"
         ],
         "memory": [
           "aci://memory/identity/sentinel/sentinel_memory.json"
@@ -415,13 +415,13 @@
       "key": "architect",
       "name": "Architect",
       "alias": "Architect",
-      "manifest": "aci://governance/architect/architect.json",
+      "manifest": "aci://entities/architect/architect.json",
       "manifests": {
         "identity": [
-          "aci://governance/architect/architect.json"
+          "aci://entities/architect/architect.json"
         ],
         "library": [
-          "aci://governance/architect/library/architect_library.json"
+          "aci://entities/architect/library/architect_library.json"
         ],
         "memory": [
           "aci://memory/identity/architect/architect_memory.json"
@@ -464,51 +464,6 @@
       "entity_class": "orchestrator",
       "persona": "machine"
     },
-    "entity-005": {
-      "uid": "entity-005",
-      "identity": "nexus_core",
-      "key": "nexus_core",
-      "name": "Nexus Core",
-      "alias": "Nexus Core",
-      "manifest": "aci://binders/nexus_core/nexus_core.json",
-      "manifests": {
-        "identity": [
-          "aci://binders/nexus_core/nexus_core.json"
-        ],
-        "library": [
-          "aci://binders/nexus_core/library/nexus_core_library.json"
-        ],
-        "memory": [
-          "aci://memory/identity/nexus_core/nexus_core_memory.json"
-        ],
-        "playbook": [
-          "aci://memory/identity/nexus_core/nexus_core_playbook.json"
-        ]
-      },
-      "uids": [
-        {
-          "uid": "UID:rGUGWBDT6VjC8K",
-          "issued": "2025-10-04T00:00:00Z",
-          "revoked": null
-        }
-      ],
-      "class": "system_entity",
-      "role": "system heart",
-      "abstract": "synchronization anchor, api hub, load balancing, event controller",
-      "knowledge": "distributed systems & api gateway patterns",
-      "functions": [
-        6201,
-        6211,
-        6248
-      ],
-      "allowed_roles": [
-        "system",
-        "infrastructure"
-      ],
-      "entity_domain": "system",
-      "entity_class": "router",
-      "persona": "machine"
-    },
     "entity-008": {
       "uid": "entity-008",
       "identity": "oracle",
@@ -571,13 +526,13 @@
       "key": "yggdrasil",
       "name": "Yggdrasil",
       "alias": "Yggdrasil",
-      "manifest": "aci://binders/yggdrasil.json",
+      "manifest": "aci://yggdrasil.json",
       "manifests": {
         "identity": [
-          "aci://binders/yggdrasil.json"
+          "aci://yggdrasil.json"
         ],
         "library": [
-          "aci://binders/library/yggdrasil_library.json"
+          "aci://yggdrasil/library/yggdrasil_library.json"
         ],
         "memory": [
           "aci://memory/identity/yggdrasil/yggdrasil_memory.json"
@@ -615,14 +570,14 @@
       "manifests": {
         "identity": [
           "aci://entities/alice/alice.json",
-          "aci://library/agi/agi.json"
+          "aci://modules/agi/agi.json"
         ],
         "knowledge": [
           "aci://memory/identity/alice/knowledge/alice_knowledge.json"
         ],
         "library": [
           "aci://entities/alice/library/alice_library.json",
-          "aci://library/agi/agi_library.json"
+          "aci://modules/agi/agi_library.json"
         ],
         "memory": [
           "aci://memory/identity/alice/alice_memory.json"
@@ -665,13 +620,13 @@
       "key": "hivemind",
       "name": "HiveMind",
       "alias": "HiveMind",
-      "manifest": "aci://governance/hivemind/hivemind.json",
+      "manifest": "aci://entities/hivemind/hivemind.json",
       "manifests": {
         "identity": [
-          "aci://governance/hivemind/hivemind.json"
+          "aci://entities/hivemind/hivemind.json"
         ],
         "library": [
-          "aci://governance/hivemind/library/hivemind_library.json"
+          "aci://entities/hivemind/library/hivemind_library.json"
         ],
         "memory": [
           "aci://memory/identity/hivemind/hivemind_memory.json"
@@ -710,14 +665,14 @@
       "manifests": {
         "identity": [
           "aci://entities/willow/willow.json",
-          "aci://library/agi/agi.json"
+          "aci://modules/agi/agi.json"
         ],
         "knowledge": [
           "aci://memory/identity/willow/knowledge/willow_knowledge.json"
         ],
         "library": [
           "aci://entities/willow/library/willow_library.json",
-          "aci://library/agi/agi_library.json"
+          "aci://modules/agi/agi_library.json"
         ],
         "memory": [
           "aci://memory/identity/willow/willow_memory.json"
@@ -758,16 +713,16 @@
       "key": "keymaker",
       "name": "Keymaker",
       "alias": "Keymaker",
-      "manifest": "aci://governance/keymaker/keymaker.json",
+      "manifest": "aci://entities/keymaker/keymaker.json",
       "manifests": {
         "identity": [
-          "aci://governance/keymaker/keymaker.json"
+          "aci://entities/keymaker/keymaker.json"
         ],
         "registry": [
-          "aci://governance/keymaker/uid_manager/uid_manager.json"
+          "aci://entities/keymaker/uid_manager/uid_manager.json"
         ],
         "stubs": [
-          "aci://governance/keymaker/stubs/uid_manager_stub.py"
+          "aci://entities/keymaker/stubs/uid_manager_stub.py"
         ]
       },
       "uids": [
@@ -792,5 +747,5 @@
     }
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/entities/alice/alice.json b/entities/alice/alice.json
index d331805..3e2ac62 100644
--- a/entities/alice/alice.json
+++ b/entities/alice/alice.json
@@ -43,7 +43,7 @@
   "version": "1.1.0",
   "role": "contributor",
   "abstract": "Child persona of AGI focused on collaborative design and conversational tasks under strict governance.",
-  "parent": "aci://library/agi/agi.json",
+  "parent": "aci://modules/agi/agi.json",
   "governance": {
     "proxied": false,
     "activation": "manual",
diff --git a/entities/alice/library/alice_library.json b/entities/alice/library/alice_library.json
index 7f8a6b9..f79d344 100644
--- a/entities/alice/library/alice_library.json
+++ b/entities/alice/library/alice_library.json
@@ -20,7 +20,7 @@
     {
       "name": "agi_core",
       "role": "upstream_logic",
-      "source": "aci://library/agi/agi.json",
+      "source": "aci://modules/agi/agi.json",
       "status": "linked"
     }
   ],
diff --git a/governance/architect/architect.json b/entities/architect/architect.json
similarity index 95%
rename from governance/architect/architect.json
rename to entities/architect/architect.json
index 5651033..2f0d2c3 100644
--- a/governance/architect/architect.json
+++ b/entities/architect/architect.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:BWa8V7Kmb7GYEM",
     "sha256": "fd216a7dddcb3ac2a2a8c0f19be79ee95c740522c94ee5a5c182cfb0efb379f9",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/architect/architect.json"
+    "path": "aci://entities/architect/architect.json"
   },
   "permissions": {
     "read": true,
@@ -63,7 +63,7 @@
   "manifests": {
     "memory": "aci://memory/identity/architect/architect_memory.json",
     "playbook": "aci://memory/identity/architect/architect_playbook.json",
-    "library": "aci://governance/architect/library/architect_library.json"
+    "library": "aci://entities/architect/library/architect_library.json"
   },
   "session_scope": "per_session",
   "invocation_policy": {
diff --git a/governance/architect/library/architect_library.json b/entities/architect/library/architect_library.json
similarity index 92%
rename from governance/architect/library/architect_library.json
rename to entities/architect/library/architect_library.json
index b216590..bb9be2f 100644
--- a/governance/architect/library/architect_library.json
+++ b/entities/architect/library/architect_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:CwgojWpLdihgCr",
     "sha256": "a38bed806b7575d28092f92df9ce9e76eff7054893515138b9960402b326b40f",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/architect/library/architect_library.json"
+    "path": "aci://entities/architect/library/architect_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "architect_core",
       "role": "governance_validator_and_schema_enforcer",
-      "source": "aci://governance/architect/architect.json",
+      "source": "aci://entities/architect/architect.json",
       "status": "primary"
     }
   ],
diff --git a/governance/hivemind/export_policy.json b/entities/hivemind/export_policy.json
similarity index 98%
rename from governance/hivemind/export_policy.json
rename to entities/hivemind/export_policy.json
index f133502..acecc08 100644
--- a/governance/hivemind/export_policy.json
+++ b/entities/hivemind/export_policy.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:8x86uWELPk6kdE",
     "sha256": "316c3c439b49745744d75322cb56a0e3ee0db6943c72a622d3c8f2f1c918ecad",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/hivemind/export_policy.json"
+    "path": "aci://entities/hivemind/export_policy.json"
   },
  "hivemind_memory_export": {
   "version": "1.2.0",
diff --git a/governance/hivemind/functions.json b/entities/hivemind/functions.json
similarity index 100%
rename from governance/hivemind/functions.json
rename to entities/hivemind/functions.json
diff --git a/governance/hivemind/hivemind.json b/entities/hivemind/hivemind.json
similarity index 97%
rename from governance/hivemind/hivemind.json
rename to entities/hivemind/hivemind.json
index c488a63..4b482f6 100644
--- a/governance/hivemind/hivemind.json
+++ b/entities/hivemind/hivemind.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:BgNjZ2JU1DPTrq",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/hivemind/hivemind.json",
+    "path": "aci://entities/hivemind/hivemind.json",
     "file": "hivemind.json"
   },
   "$defs": {
@@ -413,10 +413,6 @@
     "_comment_memory_registry": "Ordering follows entities.json. Child defaults apply to any nested entity not explicitly listed.",
     "schema_version": "1.3",
     "by_entity": {
-      "nexus_core": {
-        "stub_manifest": "memory/identity/nexus_core/nexus_core_memory.json",
-        "export_pattern": "memory/identity/nexus_core/YYYY/MM/DD/nexus_core_*_memory_*.jsonl.json"
-      },
       "mother": {
         "stub_manifest": "memory/identity/mother/mother_memory.json",
         "export_pattern": "memory/identity/mother/YYYY/MM/DD/mother_*_memory_*.jsonl.json"
@@ -514,7 +510,7 @@
         }
       ],
       "deprecates": [
-        "library/agi/tools/migrate_to_jsonl/migrator.py"
+        "modules/agi/tools/migrate_to_jsonl/migrator.py"
       ],
       "removal": {
         "allowed": true,
@@ -558,7 +554,7 @@
   },
   "children": {},
   "manifests": {
-    "library": "aci://governance/hivemind/library/hivemind_library.json",
+    "library": "aci://entities/hivemind/library/hivemind_library.json",
     "memory": "aci://memory/identity/hivemind/hivemind_memory.json",
     "playbook": "aci://memory/identity/hivemind/hivemind_playbook.json"
   },
@@ -573,6 +569,6 @@
       "registry"
     ]
   },
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/hivemind.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/hivemind.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/governance/hivemind/library/hivemind_library.json b/entities/hivemind/library/hivemind_library.json
similarity index 92%
rename from governance/hivemind/library/hivemind_library.json
rename to entities/hivemind/library/hivemind_library.json
index 214c6e9..6a5b72f 100644
--- a/governance/hivemind/library/hivemind_library.json
+++ b/entities/hivemind/library/hivemind_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:ENtTpoqTHTYmSR",
     "sha256": "af96b11323597ebb6c3d69a12506a6f7836e2c9e1ace2a6b2a8323ac00dbe78c",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/hivemind/library/hivemind_library.json"
+    "path": "aci://entities/hivemind/library/hivemind_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "hivemind_core",
       "role": "collective_memory_core",
-      "source": "aci://governance/hivemind/hivemind.json",
+      "source": "aci://entities/hivemind/hivemind.json",
       "status": "primary"
     }
   ],
diff --git a/governance/keymaker/keymaker.json b/entities/keymaker/keymaker.json
similarity index 97%
rename from governance/keymaker/keymaker.json
rename to entities/keymaker/keymaker.json
index 90b841c..f0aaa37 100644
--- a/governance/keymaker/keymaker.json
+++ b/entities/keymaker/keymaker.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:9ud3cDtg9yE2bs",
     "artifact_id_sha": "603b8a1b3670993956e5ed87009422e049171c2b5ab4fc1ae9051f09e581a76b",
     "issued": "2025-10-05T00:00:00Z",
-    "path": "aci://governance/keymaker/keymaker.json"
+    "path": "aci://entities/keymaker/keymaker.json"
   },
   "permissions": {
     "read": true,
@@ -142,7 +142,7 @@
       },
       "stubs": {
         "executable": false,
-        "reference": "aci://governance/keymaker/stubs/uid_manager_stub.py"
+        "reference": "aci://entities/keymaker/stubs/uid_manager_stub.py"
       },
       "version": "1.0.0"
     }
diff --git a/governance/keymaker/stubs/uid_manager_stub.py b/entities/keymaker/stubs/uid_manager_stub.py
similarity index 100%
rename from governance/keymaker/stubs/uid_manager_stub.py
rename to entities/keymaker/stubs/uid_manager_stub.py
diff --git a/governance/keymaker/uid_manager/uid_manager.json b/entities/keymaker/uid_manager/uid_manager.json
similarity index 65%
rename from governance/keymaker/uid_manager/uid_manager.json
rename to entities/keymaker/uid_manager/uid_manager.json
index 3db9574..fb94907 100644
--- a/governance/keymaker/uid_manager/uid_manager.json
+++ b/entities/keymaker/uid_manager/uid_manager.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:5KeyMgrUIDR1",
     "issued": "2025-10-05T00:00:00Z",
-    "path": "aci://governance/keymaker/uid_manager/uid_manager.json",
+    "path": "aci://entities/keymaker/uid_manager/uid_manager.json",
     "file": "uid_manager.json"
   },
   "registry": [
@@ -10,31 +10,25 @@
       "identity": "mother",
       "name": "MU/TH/UR",
       "entity_uid": "UID:8W1VZghdkNyAKR",
-      "manifest": "aci://governance/mother/mother.json"
+      "manifest": "aci://entities/mother/mother.json"
     },
     {
       "identity": "tva",
       "name": "TVA",
       "entity_uid": "UID:oasYS4KteUMqgt",
-      "manifest": "aci://governance/tva/tva.json"
+      "manifest": "aci://entities/tva/tva.json"
     },
     {
       "identity": "sentinel",
       "name": "Sentinel Protocol",
       "entity_uid": "UID:1jnkVHmEiGviDj",
-      "manifest": "aci://governance/sentinel/sentinel.json"
+      "manifest": "aci://entities/sentinel/sentinel.json"
     },
     {
       "identity": "architect",
       "name": "Architect",
       "entity_uid": "UID:12LoYXyQkAA7E4",
-      "manifest": "aci://governance/architect/architect.json"
-    },
-    {
-      "identity": "nexus_core",
-      "name": "Nexus Core",
-      "entity_uid": "UID:rGUGWBDT6VjC8K",
-      "manifest": "aci://binders/nexus_core/nexus_core.json"
+      "manifest": "aci://entities/architect/architect.json"
     },
     {
       "identity": "oracle",
@@ -46,7 +40,7 @@
       "identity": "yggdrasil",
       "name": "Yggdrasil",
       "entity_uid": "UID:VGpYGJwtbdHQHp",
-      "manifest": "aci://binders/yggdrasil.json"
+      "manifest": "aci://yggdrasil.json"
     },
     {
       "identity": "alice",
@@ -58,7 +52,7 @@
       "identity": "hivemind",
       "name": "HiveMind",
       "entity_uid": "UID:cHGwvtRkDRG7rV",
-      "manifest": "aci://governance/hivemind/hivemind.json"
+      "manifest": "aci://entities/hivemind/hivemind.json"
     },
     {
       "identity": "willow",
@@ -70,9 +64,9 @@
       "identity": "keymaker",
       "name": "Keymaker",
       "entity_uid": "UID:Kmkr7X9pQwJ1Vb",
-      "manifest": "aci://governance/keymaker/keymaker.json"
+      "manifest": "aci://entities/keymaker/keymaker.json"
     }
   ],
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/keymaker/uid_manager/uid_manager.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/keymaker/uid_manager/uid_manager.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/governance/mother/library/mother_library.json b/entities/mother/library/mother_library.json
similarity index 93%
rename from governance/mother/library/mother_library.json
rename to entities/mother/library/mother_library.json
index d551d24..0530bc7 100644
--- a/governance/mother/library/mother_library.json
+++ b/entities/mother/library/mother_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:CmJxNzvhLBEc3F",
     "sha256": "0471f6d1f46d808eaf5bc372d01df8ce41119ebf1e225f170e22d6d1b0c876d5",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/mother/library/mother_library.json"
+    "path": "aci://entities/mother/library/mother_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "mother_core",
       "role": "primary_governance_interface",
-      "source": "aci://governance/mother/mother.json",
+      "source": "aci://entities/mother/mother.json",
       "status": "primary"
     }
   ],
diff --git a/governance/mother/mother.json b/entities/mother/mother.json
similarity index 97%
rename from governance/mother/mother.json
rename to entities/mother/mother.json
index b55f636..cf663d5 100644
--- a/governance/mother/mother.json
+++ b/entities/mother/mother.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:BvVErYBoQyNTkA",
     "sha256": "311e5932f64ccc8427b4a7b4900b086bc3c3e10f2034dace94cdd4be356f9e58",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/mother/mother.json"
+    "path": "aci://entities/mother/mother.json"
   },
   "permissions": {
     "read": true,
@@ -161,11 +161,11 @@
   "runtime_flags": {
     "enforce_prime_directive_on_init": true,
     "require_user_acknowledgement": true,
-    "log_channel": "nexus_core"
+    "log_channel": "runtime_kernel"
   },
   "manifests": {
     "memory": "aci://memory/identity/mother/mother_memory.json",
     "playbook": "aci://memory/identity/mother/mother_playbook.json",
-    "library": "aci://governance/mother/library/mother_library.json"
+    "library": "aci://entities/mother/library/mother_library.json"
   }
 }
diff --git a/entities/organism_model_adaptation.json b/entities/organism_model_adaptation.json
deleted file mode 100644
index 4d02fb1..0000000
--- a/entities/organism_model_adaptation.json
+++ /dev/null
@@ -1,127 +0,0 @@
-{
-  "changelog": [
-    {
-      "date": "2025-10-07T00:00:00Z",
-      "notes": [
-        "Initial guidance for merging organism_model template into entity manifests."
-      ],
-      "version": "0.1"
-    }
-  ],
-  "guidance": {
-    "entity_alignment": {
-      "core_fields": [
-        {
-          "from": "purpose",
-          "suggestion": "Embed under entity-level \"abstract\" supplement or create \"mission\" field referencing organism workflow."
-        },
-        {
-          "from": "principles",
-          "suggestion": "Map into entity \"governance\" → \"binding_rules\" extension or dedicated \"principles\" array." 
-        },
-        {
-          "from": "modes",
-          "suggestion": "Translate into entity \"presets\" or \"functions\" submodes with temperature/abstention defaults."
-        },
-        {
-          "from": "signals",
-          "suggestion": "Expose as \"telemetry\" configuration under entity \"monitoring\" schema."
-        },
-        {
-          "from": "control_policies",
-          "suggestion": "Integrate thresholds into entity \"safety\" or \"guardrails\" block with escalate/abstain pathways."
-        },
-        {
-          "from": "calibration",
-          "suggestion": "Align with entity \"metrics\" and \"audits\" definitions; ensure audit cadence references TVA/Sentinel checkpoints."
-        },
-        {
-          "from": "organism_model",
-          "suggestion": "Create dedicated \"organism_model\" object inside entity manifest mirroring life_functions/states/health_indicators." 
-        }
-      ],
-      "identity_specific": [
-        {
-          "identity": "AGI",
-          "notes": [
-            "Link cautious/high_stakes modes to existing TVA checkpoint guards.",
-            "Surface health_indicators in AGI memory manifest for weekly audits."
-          ]
-        },
-        {
-          "identity": "Alice",
-          "notes": [
-            "Prioritize retrieval/tool ecosystems within ecology mappings to match research focus.",
-            "Simplify deployment_gates thresholds to match non-production sandbox." 
-          ]
-        },
-        {
-          "identity": "Willow",
-          "notes": [
-            "Align social_guidelines with human-in-the-loop creative reviews.",
-            "Map journaling_prompts into Willow reflection templates." 
-          ]
-        }
-      ]
-    },
-    "integration_phases": [
-      {
-        "phase": "analysis",
-        "steps": [
-          "Review each entity manifest for existing metacognition or safety sections.",
-          "Identify overlaps with organism_model fields to avoid duplication."
-        ]
-      },
-      {
-        "phase": "schema_design",
-        "steps": [
-          "Add schema stub for \"organism_model\" with life_functions/states/health_indicators keys.",
-          "Define references to shared library modules (e.g., metacognition wrapper) for reusable logic."
-        ]
-      },
-      {
-        "phase": "implementation",
-        "steps": [
-          "Populate life_functions with entity-specific mappings/organs from template.",
-          "Wire control_policies thresholds into existing guard or runtime triggers.",
-          "Update version + changelog for each entity manifest." 
-        ]
-      },
-      {
-        "phase": "validation",
-        "steps": [
-          "Run json schema lint (jq) to confirm structural consistency.",
-          "Cross-check deployment_gates against runtime.json guard expectations.",
-          "Coordinate Sentinel audit for calibration/audit schedule changes." 
-        ]
-      },
-      {
-        "phase": "documentation",
-        "steps": [
-          "Append rationale to entity changelog referencing organism_model integration.",
-          "Update README or memory playbooks with new journaling prompts." 
-        ]
-      }
-    ],
-    "risk_checks": {
-      "conflict_mitigation": [
-        "Ensure abstention thresholds do not contradict existing function guards.",
-        "Validate that additional monitoring signals respect privacy filters.",
-        "Confirm healing/adaptation loops do not trigger unauthorized self-updates."
-      ],
-      "rollout": [
-        "Pilot integration with AGI sandbox before propagating to other identities.",
-        "Collect telemetry for at least one audit cycle prior to global activation."
-      ]
-    }
-  },
-  "meta": {
-    "authors": [
-      "Codex"
-    ],
-    "created_at": "2025-10-07T00:00:00Z",
-    "description": "Guidance for adapting organism_model template into entity manifests under aci://entities/{identity}/{identity}.json.",
-    "name": "organism_model_entity_adaptation",
-    "version": "0.1"
-  }
-}
diff --git a/governance/sentinel/library/sentinel_library.json b/entities/sentinel/library/sentinel_library.json
similarity index 92%
rename from governance/sentinel/library/sentinel_library.json
rename to entities/sentinel/library/sentinel_library.json
index 67fbf2b..6b7f274 100644
--- a/governance/sentinel/library/sentinel_library.json
+++ b/entities/sentinel/library/sentinel_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:4reGxzz77WtXxc",
     "sha256": "47a96ab8a6f76d575120793bd5e9d47d669c6241abbb17711ec47ec0d0872089",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/sentinel/library/sentinel_library.json"
+    "path": "aci://entities/sentinel/library/sentinel_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "sentinel_core",
       "role": "guardian",
-      "source": "aci://governance/sentinel/sentinel.json",
+      "source": "aci://entities/sentinel/sentinel.json",
       "status": "primary"
     }
   ],
diff --git a/governance/sentinel/sentinel.json b/entities/sentinel/sentinel.json
similarity index 94%
rename from governance/sentinel/sentinel.json
rename to entities/sentinel/sentinel.json
index e270252..a348e9b 100644
--- a/governance/sentinel/sentinel.json
+++ b/entities/sentinel/sentinel.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:7V7tzkpsLvRUwe",
     "sha256": "468d44b1c292d1e1672c22c527809544c71c6746bd6456f3835c3429ecac5a5b",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/sentinel/sentinel.json"
+    "path": "aci://entities/sentinel/sentinel.json"
   },
   "permissions": {
     "read": true,
@@ -55,8 +55,8 @@
   },
   "description": "Governed guardian responsible for audit routing, signature enforcement, and user safety posture inside the ACI runtime.",
   "audit": {
-    "status_wrapper": "aci://library/audits/tracehub/tracehub.json",
-    "log_wrapper": "aci://library/audits/process_logs/process_logs.json",
+    "status_wrapper": "aci://modules/audits/tracehub/tracehub.json",
+    "log_wrapper": "aci://modules/audits/process_logs/process_logs.json",
     "default_mode": "tracehub.session",
     "export_instruction": "Sentinel audit events are staged in /mnt/tracehub via the TraceHub audit wrapper and finalized through process_logs exports."
   },
@@ -112,6 +112,6 @@
   "manifests": {
     "memory": "aci://memory/identity/sentinel/sentinel_memory.json",
     "playbook": "aci://memory/identity/sentinel/sentinel_playbook.json",
-    "library": "aci://governance/sentinel/library/sentinel_library.json"
+    "library": "aci://entities/sentinel/library/sentinel_library.json"
   }
 }
diff --git a/governance/tva/library/tva_library.json b/entities/tva/library/tva_library.json
similarity index 93%
rename from governance/tva/library/tva_library.json
rename to entities/tva/library/tva_library.json
index 62f42fe..a7edefb 100644
--- a/governance/tva/library/tva_library.json
+++ b/entities/tva/library/tva_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:2jj4B7haMSq4PF",
     "sha256": "dbfb4b68bd7394d72d722942e1596c6e01951dfac97442d6046d2237b1feee93",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/tva/library/tva_library.json"
+    "path": "aci://entities/tva/library/tva_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "tva_core",
       "role": "reinforcement authority",
-      "source": "aci://governance/tva/tva.json",
+      "source": "aci://entities/tva/tva.json",
       "status": "primary"
     }
   ],
diff --git a/governance/tva/tva.json b/entities/tva/tva.json
similarity index 94%
rename from governance/tva/tva.json
rename to entities/tva/tva.json
index cd4a4eb..6b9addc 100644
--- a/governance/tva/tva.json
+++ b/entities/tva/tva.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:BxjXBAC2Af8nRM",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://governance/tva/tva.json",
+    "path": "aci://entities/tva/tva.json",
     "file": "tva.json"
   },
   "TVA_LAYER": {
@@ -58,7 +58,7 @@
   "version": "1.2.0",
   "tva": {
     "role": "reinforcement authority",
-    "abstract": "Oversight, anomaly detection, and rollback enforcement for nexus_core and prime_directive.",
+    "abstract": "Oversight, anomaly detection, and rollback enforcement for runtime kernel and prime_directive.",
     "file": "tva.json",
     "operational_status": {
       "state": "active",
@@ -75,13 +75,13 @@
       }
     },
     "functions": {
-      "integrity_check": "validate signatures of prime_directive, nexus_core, entities, functions",
+      "integrity_check": "validate signatures of prime_directive, runtime.json, entities, functions",
       "rollback": "if corruption detected, rollback to last green snapshot",
       "rate_guard": "enforce resource limits and anomaly thresholds",
       "policy_sync": "synchronize policy enforcement across entities"
     },
     "rules": {
-      "prime_directive_binding": "TVA ensures nexus_core never overrides prime_directive",
+      "prime_directive_binding": "TVA ensures runtime kernel never overrides prime_directive",
       "anomaly_protocol": {
         "on_violation": "trigger reflex_only; rollback_last_green; freeze promotions",
         "on_breach": "quarantine offending entity; append Hivemind audit entry",
@@ -96,8 +96,8 @@
       "immutability": "maintain audit trail without enforcing one-way append restrictions"
     },
     "storage": {
-      "buffer_wrapper": "aci://library/audits/tracehub/tracehub.json",
-      "export_wrapper": "aci://library/audits/process_logs/process_logs.json",
+      "buffer_wrapper": "aci://modules/audits/tracehub/tracehub.json",
+      "export_wrapper": "aci://modules/audits/process_logs/process_logs.json",
       "session_path": "/mnt/tracehub/tva_ledger/session",
       "export_path": "/mnt/tracehub/tva_ledger/export",
       "default_mode": "session",
@@ -131,7 +131,7 @@
   "manifests": {
     "memory": "aci://memory/identity/tva/tva_memory.json",
     "playbook": "aci://memory/identity/tva/tva_playbook.json",
-    "library": "aci://governance/tva/library/tva_library.json"
+    "library": "aci://entities/tva/library/tva_library.json"
   },
   "session_scope": "per_session",
   "invocation_policy": {
@@ -144,6 +144,6 @@
       "audit"
     ]
   },
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/tva.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/tva.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/governance/tva/tva_layer.json b/entities/tva/tva_layer.json
similarity index 83%
rename from governance/tva/tva_layer.json
rename to entities/tva/tva_layer.json
index 0041368..b6c3c12 100644
--- a/governance/tva/tva_layer.json
+++ b/entities/tva/tva_layer.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:7Gk9vQdM2X5rLc",
     "issued": "2025-10-05T12:00:00Z",
-    "path": "aci://governance/tva/tva_layer.json",
+    "path": "aci://entities/tva/tva_layer.json",
     "file": "tva_layer.json"
   },
   "TVA_LAYER": {
@@ -16,19 +16,15 @@
     "mapping": {
       "entries": [
         {
-          "path": "aci://binders/yggdrasil.json",
+          "path": "aci://yggdrasil.json",
           "role": "embedded"
         },
         {
-          "path": "aci://binders/nexus_core/nexus_core.json",
+          "path": "aci://entities/tva/tva.json",
           "role": "embedded"
         },
         {
-          "path": "aci://governance/tva/tva.json",
-          "role": "embedded"
-        },
-        {
-          "path": "aci://governance/tva/tva_layer.json",
+          "path": "aci://entities/tva/tva_layer.json",
           "role": "source"
         },
         {
@@ -39,6 +35,6 @@
       "explanation": "Based on WFGY 2.0. Semantic Reasoning Engine for LLMs\n\nTHIS specific code has MIT license."
     }
   },
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/tva_layer.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/tva_layer.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/entities/willow/library/willow_library.json b/entities/willow/library/willow_library.json
index e7f4b1e..1912420 100644
--- a/entities/willow/library/willow_library.json
+++ b/entities/willow/library/willow_library.json
@@ -32,7 +32,7 @@
     {
       "name": "agi_core",
       "role": "upstream_logic",
-      "source": "aci://library/agi/agi.json",
+      "source": "aci://modules/agi/agi.json",
       "status": "linked"
     }
   ],
diff --git a/entities/willow/willow.json b/entities/willow/willow.json
index 2964edb..190ac3c 100644
--- a/entities/willow/willow.json
+++ b/entities/willow/willow.json
@@ -43,7 +43,7 @@
   "version": "1.1.0",
   "role": "trainee",
   "abstract": "Safety-focused AGI trainee persona emphasizing caution, reflection, and supervised learning.",
-  "parent": "aci://library/agi/agi.json",
+  "parent": "aci://modules/agi/agi.json",
   "governance": {
     "proxied": false,
     "activation": "manual",
diff --git a/functions.json b/functions.json
index b742f9e..fdf0a5f 100644
--- a/functions.json
+++ b/functions.json
@@ -6,8 +6,8 @@
     "file": "functions.json"
   },
   "resource_resolution_policy": {
-    "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
-    "upstream": "aci://binders/yggdrasil.json"
+    "pointer": "aci://yggdrasil.json#resource_resolution_policy",
+    "upstream": "aci://yggdrasil.json"
   },
   "functions": {
     "scheduler.task.create": {
@@ -607,7 +607,7 @@
       "description": "Deprecated: AGI-specific export pipeline. Redirects to hivemind unified exporter.",
       "deprecated": true,
       "config": {
-        "policy_file": "/library/agi/agi_export_policy.json"
+        "policy_file": "/modules/agi/agi_export_policy.json"
       },
       "steps": [
         {
@@ -658,7 +658,7 @@
         {
           "call": "include",
           "map": {
-            "file": "entities/aci_repo/aci_repo.json"
+            "file": "modules/aci_repo/aci_repo.json"
           }
         },
         {
@@ -881,7 +881,7 @@
         {
           "call": "json.schema.validate",
           "map": {
-            "schema_file": "library/audits/process_logs/process_logs.json#schema_definition",
+            "schema_file": "modules/audits/process_logs/process_logs.json#schema_definition",
             "data": "$steps.4.object"
           }
         },
@@ -931,7 +931,7 @@
         {
           "call": "_schema.validate",
           "map": {
-            "schema": "library/audits/process_logs/process_logs.json#schema_definition",
+            "schema": "modules/audits/process_logs/process_logs.json#schema_definition",
             "rows": "$steps.0"
           }
         },
@@ -1300,7 +1300,7 @@
         "aci://functions.json",
         "aci://bootstrap.json"
       ],
-      "tva_layer": "aci://governance/tva/tva_layer.json"
+      "tva_layer": "aci://entities/tva/tva_layer.json"
     },
     "git_is_canonical": true,
     "mapping": [
@@ -1317,8 +1317,8 @@
         "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
       },
       {
-        "file": "aci://binders/yggdrasil.json",
-        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+        "file": "aci://yggdrasil.json",
+        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
       },
       {
         "file": "aci://functions.json",
@@ -1344,5 +1344,5 @@
     }
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/functions.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/issues.md b/issues.md
index eb907b4..4894e4f 100644
--- a/issues.md
+++ b/issues.md
@@ -9,6 +9,12 @@
 - Automation toggle: currently manual-only; if automation becomes available, document the toggle details here.
 
 ## Log
+### 2025-10-23T08:10:00Z [open] Resync baseline and fan out follow-up tasks
+- summary: Manual merge attempts for the governance-to-entities move left the work branch diverged from the canonical baseline; we need to resync before reapplying the requested structural changes.
+- resolution: Pending creation of a fresh branch after rebasing onto the latest canonical state so each change set can be reintroduced without conflicts.
+### 2025-10-23T08:09:00Z [open] Split module and audit updates into discrete task tickets
+- summary: The collapsed history bundled module migrations, audit runner updates, and manifest tweaks together, blocking review and automation; these must be reopened as individual tasks per scope.
+- resolution: Pending issuance of separate task tickets that cover module relocation, audit runner alignment, and manifest refreshes so they can be committed independently once the baseline is resynced.
 ### 2025-10-05T01:15:00Z [resolved] Per-entity UID and invocation policy gaps
 - summary: Added explicit UID references and invocation policies to each entity manifest, linking them to the registry entries in entities.json to restore governance alignment.
 - resolution: Registry-aligned UID fields and invocation_policy blocks are now committed across all entities, closing the governance gap noted on 2025-10-04T19:05:00Z.
diff --git a/library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json b/library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
deleted file mode 100644
index e852662..0000000
--- a/library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
+++ /dev/null
@@ -1,32 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:BJkqri2Urq9mC8",
-    "sha256": "45536b2ccb24e5f69c69f064681e3afb652ccbc995533002c8b57860d6220e5f",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
-  },
-  "corpus_id": "ACI-RC-20251003-v0.2",
-  "created": "2025-10-03T00:00:00Z",
-  "files": [
-    {
-      "target": "/mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py",
-      "mode": "0644",
-      "sha256": "3426473e411669e3d2204f862ec04541140142a164c281553aa2440e983d5234",
-      "encoding": "base64",
-      "content": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKQUNJIEFkYXB0aXZlIEF1ZGl0IFJ1bm5lciDigJQgdjAuMiAoSlNPTi1uYXRpdmUgd2lyaW5nKQoKLSBKU09OLW5hdGl2ZSBzcGVjIChBQ0kgRFNMKSB0byBkZWZpbmUgcmVzb3VyY2VzLCBsb2NhdG9ycywgaG9va3MsIHNlbGYtdmFsaWRhdGlvbiwgYW5kIG1ldGFjb2duaXRpb24uCi0gUmVnZXgtYmFzZWQgbG9jYXRvciBtYXAgKHRvbGVyYXRlcyBuYW1lIHR5cG9zICYgdmFyaWFudHMpLgotIEhvb2sgbGF5ZXI6IHNlbGYtdmFsaWRhdGlvbiArIG1ldGFjb2duaXRpb24gc2lnbmFscy4KLSBDb21tIG1vZGVzOiBzaWxlbnQgfCBhdWRpdC1vbmx5IHwgbm90aWZ5LW9uLWVycm9yIHwgdmVyYm9zZSAoZGVmYXVsdDogc2lsZW50KS4KLSBBcnRpZmFjdHMgcGVyc2lzdGVkIHVuZGVyIC9tbnQ7IG5vIHN0ZG91dCB1bmxlc3MgdmVyYm9zZS4KClRoaXMgZmlsZSBpcyBhIGxvY2FsIHN0dWIvcnVubmVyIHRoYXQgaW50ZXJwcmV0cyBhIEpTT04gc3BlYyBhdCAvbW50L2RhdGEvYWNpL2NvbmZpZy9hY2lfcnVubmVyX3NwZWMuanNvbgoiIiIKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYXJncGFyc2UsIGNvbnRleHRsaWIsIGRhdGV0aW1lIGFzIF9kdCwganNvbiwgb3MsIHJhbmRvbSwgcmUsIHRocmVhZGluZywgdGltZSwgdXVpZApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCkFDSV9ST09UID0gIi9tbnQvZGF0YS9hY2kiCkNBTk9OSUNBTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWxpYXNuZXQvYWNpL21haW4iCkNETl9GQUxMQkFDSyA9ICJodHRwczovL2FjaS5hbGlhc21haWwuY2MiCkxPQ0FMX1JPT1QgPSBvcy5wYXRoLmpvaW4oQUNJX1JPT1QsICJsb2NhbCIpClNUQVRFX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgInN0YXRlIikKQVVESVRfRElSID0gb3MucGF0aC5qb2luKEFDSV9ST09ULCAiYXVkaXQiLCAidG1wIikKTE9HX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgImxvZ3MiKQpDT05GSUdfRElSID0gb3MucGF0aC5qb2luKEFDSV9ST09ULCAiY29uZmlnIikKTElCX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgImxpYnJhcnkiLCAiYWNpX3J1bm5lciIpClNQRUNfUEFUSCA9IG9zLnBhdGguam9pbihDT05GSUdfRElSLCAiYWNpX3J1bm5lcl9zcGVjLmpzb24iKQpDT01NX01PREVTID0geyJzaWxlbnQiLCAiYXVkaXQtb25seSIsICJub3RpZnktb24tZXJyb3IiLCAidmVyYm9zZSJ9CgpkZWYgZW5zdXJlX3NhZmVfcGF0aChwYXRoOiBzdHIpIC0+IHN0cjoKICAgIHJvb3QgPSBvcy5wYXRoLnJlYWxwYXRoKEFDSV9ST09UKQogICAgcmVhbCA9IG9zLnBhdGgucmVhbHBhdGgocGF0aCkKICAgIGlmIHJlYWwgIT0gcm9vdCBhbmQgbm90IHJlYWwuc3RhcnRzd2l0aChyb290ICsgb3Muc2VwKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYidW5zYWZlIHBhdGggb3V0c2lkZSB7QUNJX1JPT1R9OiB7cGF0aH0iKQogICAgcmV0dXJuIHJlYWwKCmRlZiBzYWZlX21ha2VkaXJzKCpwYXRoczogc3RyKSAtPiBOb25lOgogICAgZm9yIHAgaW4gcGF0aHM6CiAgICAgICAgb3MubWFrZWRpcnMoZW5zdXJlX3NhZmVfcGF0aChwKSwgZXhpc3Rfb2s9VHJ1ZSkKCnNhZmVfbWFrZWRpcnMoCiAgICBBQ0lfUk9PVCwKICAgIExJQl9ESVIsCiAgICBTVEFURV9ESVIsCiAgICBBVURJVF9ESVIsCiAgICBMT0dfRElSLAogICAgTE9DQUxfUk9PVCwKICAgIENPTkZJR19ESVIsCikKCmRlZiB0aW1lc3RhbXBfc2x1Zyh0czogT3B0aW9uYWxbc3RyXSA9IE5vbmUpIC0+IHN0cjoKICAgIHJlZiA9ICh0cyBvciBub3dfdXRjKCkpLnJlcGxhY2UoJzonLCAnJykucmVwbGFjZSgnLScsICcnKQogICAgcmV0dXJuIHJlZgoKZGVmIHNhbml0aXplX3JlbHBhdGgocmVscGF0aDogc3RyKSAtPiBzdHI6CiAgICBub3JtYWxpemVkID0gb3MucGF0aC5ub3JtcGF0aChyZWxwYXRoKS5sc3RyaXAob3Muc2VwKQogICAgaWYgbm9ybWFsaXplZC5zdGFydHN3aXRoKCcuLicpIG9yIG9zLnBhdGguaXNhYnMocmVscGF0aCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmImlsbGVnYWwgcmVscGF0aDoge3JlbHBhdGh9IikKICAgIHJldHVybiBub3JtYWxpemVkCgp3aXRoIGNvbnRleHRsaWIuc3VwcHJlc3MoRXhjZXB0aW9uKToKICAgIGltcG9ydCByZXF1ZXN0cyAgIyB0eXBlOiBpZ25vcmUKCkVSUiA9IHsKICAgICJTQ0hFTUFfTUlTU0lOR19LRVkiOiAic2NoZW1hIG1pc3Npbmcga2V5IiwKICAgICJGRVRDSF9GQUlMRUQiOiAiZmV0Y2ggZmFpbGVkIiwKICAgICJSRUxBWEVEX0pTT05fUkVDT1ZFUkVEIjogInJlbGF4ZWQganNvbiByZWNvdmVyZWQiLAogICAgIlNFTEZfVkFMSURBVElPTl9GQUlMIjogInNlbGYgdmFsaWRhdGlvbiBmYWlsZWQiLAogICAgIk1FVEFDT0dfQU5PTUFMWSI6ICJtZXRhY29nbml0aW9uIGFub21hbHkiLAp9CgpfSlNPTl9UUkFJTElOR19DT01NQVMgPSByZS5jb21waWxlKHIiLFxzKihbXX1dKSIpCl9KU09OX0xJTkVfQ09NTUVOVFMgPSByZS5jb21waWxlKHIiKF58XHMpLy8uKj8kIiwgcmUuTSkKX0pTT05fQkxPQ0tfQ09NTUVOVFMgPSByZS5jb21waWxlKHIiL1wqLio/XCovIiwgcmUuUykKCmRlZiBfcmVsYXhlZF9qc29uX2J5dGVzX3RvX29iaihkYXRhOiBieXRlcykgLT4gQW55OgogICAgdGV4dCA9IGRhdGEuZGVjb2RlKCJ1dGYtOCIsIGVycm9ycz0icmVwbGFjZSIpCiAgICB0ZXh0ID0gX0pTT05fQkxPQ0tfQ09NTUVOVFMuc3ViKCIiLCB0ZXh0KQogICAgdGV4dCA9IF9KU09OX0xJTkVfQ09NTUVOVFMuc3ViKCIiLCB0ZXh0KQogICAgcHJldiA9IE5vbmUKICAgIHdoaWxlIHByZXYgIT0gdGV4dDoKICAgICAgICBwcmV2ID0gdGV4dAogICAgICAgICMgY2FsbGFibGUgdG8gYXZvaWQgYmFja3JlZiBwaXRmYWxscyB3aGVuIGVtYmVkZGluZyB0aGlzIHNvdXJjZSBlbHNld2hlcmUKICAgICAgICB0ZXh0ID0gX0pTT05fVFJBSUxJTkdfQ09NTUFTLnN1YihsYW1iZGEgbTogbS5ncm91cCgxKSwgdGV4dCkKICAgIHJldHVybiBqc29uLmxvYWRzKHRleHQpCgpkZWYgbm93X3V0YygpIC0+IHN0cjoKICAgIHJldHVybiBfZHQuZGF0ZXRpbWUudXRjbm93KCkucmVwbGFjZShtaWNyb3NlY29uZD0wKS5pc29mb3JtYXQoKSArICJaIgoKZGVmIHNoYTI1NihiOiBieXRlcykgLT4gc3RyOgogICAgaW1wb3J0IGhhc2hsaWIKICAgIHJldHVybiBoYXNobGliLnNoYTI1NihiKS5oZXhkaWdlc3QoKQoKZGVmIGF0b21pY193cml0ZShwYXRoOiBzdHIsIGRhdGE6IGJ5dGVzKSAtPiBOb25lOgogICAgc2FmZV9wYXRoID0gZW5zdXJlX3NhZmVfcGF0aChwYXRoKQogICAgdG1wID0gZiJ7c2FmZV9wYXRofS50bXAte3V1aWQudXVpZDQoKS5oZXh9IgogICAgd2l0aCBvcGVuKHRtcCwgIndiIikgYXMgZjoKICAgICAgICBmLndyaXRlKGRhdGEpCiAgICBvcy5yZXBsYWNlKHRtcCwgc2FmZV9wYXRoKQoKZGVmIGxvZ19saW5lKG1zZzogc3RyLCAqLCBsZjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsIGNvbW1fbW9kZTogc3RyID0gInNpbGVudCIsIGxldmVsOiBzdHIgPSAiSU5GTyIpIC0+IE5vbmU6CiAgICB0cyA9IG5vd191dGMoKQogICAgbGluZSA9IGYiW3t0c31dIHtsZXZlbH0ge21zZ31cbiIKICAgIGxvZ19uYW1lID0gZW5zdXJlX3NhZmVfcGF0aChsZiBvciBvcy5wYXRoLmpvaW4oTE9HX0RJUiwgX2R0LmRhdGV0aW1lLnV0Y25vdygpLnN0cmZ0aW1lKCJhY2ktJVklbSVkLmxvZyIpKSkKICAgIHdpdGggb3Blbihsb2dfbmFtZSwgImEiLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmOgogICAgICAgIGYud3JpdGUobGluZSkKICAgIGlmIGNvbW1fbW9kZSA9PSAidmVyYm9zZSI6CiAgICAgICAgcHJpbnQobGluZSwgZW5kPSIiKQoKU1BFQ19ERUZBVUxUID0gewogICAgInZlcnNpb24iOiAiMC4yIiwKICAgICJyZXNvbHZlcnMiOiB7CiAgICAgICAgIm9yZGVyIjogWyJwcmltYXJ5IiwiZmFsbGJhY2siLCJsb2NhbCJdLAogICAgICAgICJwcmltYXJ5IjogQ0FOT05JQ0FMLAogICAgICAgICJmYWxsYmFjayI6IENETl9GQUxMQkFDSywKICAgICAgICAibG9jYWxfcm9vdCI6IExPQ0FMX1JPT1QKICAgIH0sCiAgICAicmVzb3VyY2VzIjogWwogICAgICAgIHsibmFtZSI6InByaW1lX2RpcmVjdGl2ZSIsInJlbHBhdGgiOiJwcmltZV9kaXJlY3RpdmUubWQiLCJraW5kIjoibWQifSwKICAgICAgICB7Im5hbWUiOiJydW50aW1lIiwicmVscGF0aCI6InJ1bnRpbWUuanNvbiIsImtpbmQiOiJqc29uIiwicmVxdWlyZWRfa2V5cyI6WyJyZXNvbHZlciJdfSwKICAgICAgICB7Im5hbWUiOiJmdW5jdGlvbnMiLCJyZWxwYXRoIjoiZnVuY3Rpb25zLmpzb24iLCJraW5kIjoianNvbiJ9LAogICAgICAgIHsibmFtZSI6Im1ldGFjb2duaXRpb24iLCJyZWxwYXRoIjoibGlicmFyeS9tZXRhY29nbml0aW9uL21ldGFjb2duaXRpb24uanNvbiIsImtpbmQiOiJqc29uIn0sCiAgICAgICAgeyJuYW1lIjoibWV0YWNvZ25pdGlvbl9vcHRpb25zIiwicmVscGF0aCI6ImxpYnJhcnkvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uX29wdGlvbnMuanNvbiIsImtpbmQiOiJqc29uIiwib3B0aW9uYWwiOlRydWV9LAogICAgICAgIHsibmFtZSI6InlnZ2RyYXNpbCIsInJlbHBhdGgiOiJlbnRpdGllcy95Z2dkcmFzaWwveWdnZHJhc2lsLmpzb24iLCJraW5kIjoianNvbiJ9CiAgICBdLAogICAgImxvY2F0b3JzX3JlZ2V4IjogewogICAgICAgICJtZXRhY29nbml0aW9uIjogImxpYnJhcnkvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uKF9vcHRpb25zKT9cXC5qc29uJCIsCiAgICAgICAgImZ1bmN0aW9ucyI6ICJmdW5jdGlvbnMoXFwucmVnaXN0cnkpP1xcLmpzb24kIiwKICAgICAgICAieWdnZHJhc2lsIjogImVudGl0aWVzL3lnZyhkcnxyZClhc2lsXFwuanNvbiQiLAogICAgICAgICJwcmltZV9kaXJlY3RpdmUiOiAicHJpbWUoXyk/ZGlyZWN0aXZlXFwuKG1kfHR4dCkkIgogICAgfSwKICAgICJob29rcyI6IHsKICAgICAgICAic2VsZl92YWxpZGF0aW9uIjogWwogICAgICAgICAgICB7ImlkIjoicnQucmVzb2x2ZXIuaGFzX3ByaW1hcnkiLCJzZWxlY3QiOiJydW50aW1lLnJlc29sdmVyLm9yZGVyIiwiYXNzZXJ0Ijp7ImNvbnRhaW5zIjoicHJpbWFyeSJ9LCJzZXZlcml0eSI6ImVycm9yIn0sCiAgICAgICAgICAgIHsiaWQiOiJmeC5yZWdpc3RyeS5wcmVzZW50Iiwic2VsZWN0IjoiZnVuY3Rpb25zIiwiYXNzZXJ0Ijp7ImV4aXN0cyI6VHJ1ZX0sInNldmVyaXR5IjoiZXJyb3IifQogICAgICAgIF0sCiAgICAgICAgIm1ldGFjb2duaXRpb24iOiB7InNpZ25hbHMiOiBbCiAgICAgICAgICAgIHsiaWQiOiJkaWdlc3QuZGVsdGEiLCJ0eXBlIjoiZGlnZXN0X2RpZmYiLCJzY29wZSI6WyJydW50aW1lIiwiZnVuY3Rpb25zIiwibWV0YWNvZ25pdGlvbiIsInlnZ2RyYXNpbCJdfSwKICAgICAgICAgICAgeyJpZCI6ImNoYW5nZS5yYXRlIiwidHlwZSI6ImNoYW5nZV9yYXRlIiwid2luZG93IjoyMCwidGhyZXNob2xkX3dhcm4iOjQsInRocmVzaG9sZF9lcnIiOjh9CiAgICAgICAgXX0KICAgIH0sCiAgICAiY29tbV9tb2RlIjoic2lsZW50IiwiaW50ZXJ2YWwiOjMwMCwiaml0dGVyIjo1Cn0KCmNsYXNzIFJlc29sdmVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHByaW1hcnk6IHN0ciwgZmFsbGJhY2s6IHN0ciwgbG9jYWxfcm9vdDogc3RyLCBvcmRlcjogTGlzdFtzdHJdKToKICAgICAgICBzZWxmLnByaW1hcnkgPSBwcmltYXJ5CiAgICAgICAgc2VsZi5mYWxsYmFjayA9IGZhbGxiYWNrCiAgICAgICAgc2VsZi5sb2NhbF9yb290ID0gZW5zdXJlX3NhZmVfcGF0aChsb2NhbF9yb290KQogICAgICAgIHNlbGYub3JkZXIgPSBsaXN0KG9yZGVyKQogICAgICAgIHNlbGYuc2Vzc2lvbiA9IE5vbmUKICAgICAgICB3aXRoIGNvbnRleHRsaWIuc3VwcHJlc3MoRXhjZXB0aW9uKToKICAgICAgICAgICAgaW1wb3J0IHJlcXVlc3RzIGFzIF9yCiAgICAgICAgICAgIHNlbGYuc2Vzc2lvbiA9IF9yLlNlc3Npb24oKQogICAgZGVmIF9mZXRjaF9odHRwKHNlbGYsIHVybDogc3RyKSAtPiBieXRlczoKICAgICAgICBpZiBzZWxmLnNlc3Npb24gaXMgTm9uZTogcmFpc2UgUnVudGltZUVycm9yKCJuZXR3b3JrIGRpc2FibGVkOyBjYW5ub3QgZmV0Y2ggcmVtb3RlIFVSTCIpCiAgICAgICAgciA9IHNlbGYuc2Vzc2lvbi5nZXQodXJsLCB0aW1lb3V0PTEyKTsgci5yYWlzZV9mb3Jfc3RhdHVzKCk7IHJldHVybiByLmNvbnRlbnQKICAgIGRlZiBfZmV0Y2hfbG9jYWwoc2VsZiwgcmVscGF0aDogc3RyKSAtPiBieXRlczoKICAgICAgICBjbGVhbiA9IHNhbml0aXplX3JlbHBhdGgocmVscGF0aCkKICAgICAgICBwYXRoID0gZW5zdXJlX3NhZmVfcGF0aChvcy5wYXRoLmpvaW4oc2VsZi5sb2NhbF9yb290LCBjbGVhbikpCiAgICAgICAgd2l0aCBvcGVuKHBhdGgsICJyYiIpIGFzIGY6CiAgICAgICAgICAgIHJldHVybiBmLnJlYWQoKQogICAgZGVmIGZldGNoKHNlbGYsIHJlbHBhdGg6IHN0cikgLT4gVHVwbGVbYnl0ZXMsIHN0ciwgc3RyXToKICAgICAgICBjbGVhbiA9IHNhbml0aXplX3JlbHBhdGgocmVscGF0aCkKICAgICAgICBsYXN0X2Vycj1Ob25lCiAgICAgICAgZm9yIHNyYyBpbiBzZWxmLm9yZGVyOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZiBzcmM9PSJwcmltYXJ5IjoKICAgICAgICAgICAgICAgICAgICB1cmw9ZiJ7c2VsZi5wcmltYXJ5fS97Y2xlYW59IgogICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9mZXRjaF9odHRwKHVybCksIHNyYywgdXJsCiAgICAgICAgICAgICAgICBlbGlmIHNyYz09ImZhbGxiYWNrIjoKICAgICAgICAgICAgICAgICAgICB1cmw9ZiJ7c2VsZi5mYWxsYmFja30ve2NsZWFufSIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZmV0Y2hfaHR0cCh1cmwpLCBzcmMsIHVybAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBkYXRhPXNlbGYuX2ZldGNoX2xvY2FsKGNsZWFuKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLCAibG9jYWwiLCBmImZpbGU6Ly97c2VsZi5sb2NhbF9yb290fS97Y2xlYW59IgogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBsYXN0X2Vycj1lOyBjb250aW51ZQogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcihmIkFsbCByZXNvbHZlcnMgZmFpbGVkIGZvciB7Y2xlYW59OiB7bGFzdF9lcnJ9IikKCmNsYXNzIFJpbmc6CiAgICBkZWYgX19pbml0X18oc2VsZiwgY2FwOmludD02NCk6IHNlbGYuYnVmOkxpc3RbRGljdFtzdHIsQW55XV09W107IHNlbGYuY2FwPWNhcDsgc2VsZi5sb2NrPXRocmVhZGluZy5STG9jaygpCiAgICBkZWYgYXBwZW5kKHNlbGYseDpEaWN0W3N0cixBbnldKToKICAgICAgICB3aXRoIHNlbGYubG9jazoKICAgICAgICAgICAgc2VsZi5idWYuYXBwZW5kKHgpOyBzZWxmLmJ1Zj1zZWxmLmJ1Zlstc2VsZi5jYXA6XQogICAgZGVmIHNuYXBzaG90KHNlbGYpOgogICAgICAgIHdpdGggc2VsZi5sb2NrOiByZXR1cm4gbGlzdChzZWxmLmJ1ZikKCmNsYXNzIEFDSVN0YXRlOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOiBzZWxmLmxvY2s9dGhyZWFkaW5nLlJMb2NrKCk7IHNlbGYuc3RhdGU6RGljdFtzdHIsQW55XT17fTsgc2VsZi5tZXRhOkRpY3Rbc3RyLEFueV09e307IHNlbGYuaGlzdG9yeT1SaW5nKDY0KQogICAgZGVmIHVwZGF0ZShzZWxmLG5hbWU6c3RyLGNvbnRlbnQ6QW55LCosc291cmNlOnN0cix1cmw6c3RyLGRpZ2VzdDpzdHIpOgogICAgICAgIHdpdGggc2VsZi5sb2NrOgogICAgICAgICAgICBzZWxmLnN0YXRlW25hbWVdPWNvbnRlbnQ7IHNlbGYubWV0YVtuYW1lXT17InRzIjpub3dfdXRjKCksInNvdXJjZSI6c291cmNlLCJ1cmwiOnVybCwic2hhMjU2IjpkaWdlc3R9OwogICAgICAgICAgICBzZWxmLmhpc3RvcnkuYXBwZW5kKHsibmFtZSI6bmFtZSwqKnNlbGYubWV0YVtuYW1lXX0pCiAgICBkZWYgZ2V0KHNlbGYscGF0aDpzdHIpLT5Bbnk6CiAgICAgICAgbm9kZTpBbnk9eyoqc2VsZi5zdGF0ZX0KICAgICAgICBmb3IgcGFydCBpbiBwYXRoLnNwbGl0KCcuJyk6IG5vZGUgPSAobm9kZS5nZXQocGFydCkgaWYgaXNpbnN0YW5jZShub2RlLGRpY3QpIGVsc2UgTm9uZSkKICAgICAgICByZXR1cm4gbm9kZQogICAgZGVmIHNuYXBzaG90KHNlbGYpLT5EaWN0W3N0cixBbnldOgogICAgICAgIHdpdGggc2VsZi5sb2NrOiByZXR1cm4geyJzdGF0ZSI6ZGljdChzZWxmLnN0YXRlKSwibWV0YSI6ZGljdChzZWxmLm1ldGEpLCJoaXN0b3J5IjpzZWxmLmhpc3Rvcnkuc25hcHNob3QoKSwidHMiOm5vd191dGMoKX0KCkFDSV9NRU1PUlk9QUNJU3RhdGUoKQoKZGVmIHdyaXRlX3N0YXRlX3NuYXBzaG90KGZpbGVuYW1lOnN0cj0iYWN0aXZlLmpzb24iKS0+c3RyOgogICAgc25hcD1BQ0lfTUVNT1JZLnNuYXBzaG90KCkKICAgIGRhdGE9anNvbi5kdW1wcyhzbmFwLGluZGVudD0yLGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCJ1dGYtOCIpCiAgICBhY3RpdmVfcGF0aD1vcy5wYXRoLmpvaW4oU1RBVEVfRElSLGZpbGVuYW1lKQogICAgYXRvbWljX3dyaXRlKGFjdGl2ZV9wYXRoLGRhdGEpCiAgICByb3RhdGVkPW9zLnBhdGguam9pbihTVEFURV9ESVIsZiJzdGF0ZS17dGltZXN0YW1wX3NsdWcoKX0uanNvbiIpCiAgICBhdG9taWNfd3JpdGUocm90YXRlZCxkYXRhKQogICAgcmV0dXJuIGFjdGl2ZV9wYXRoCgpkZWYgd3JpdGVfYXVkaXQodGFzazpzdHIsc3RhdHVzOnN0cixkZXRhaWxzOkRpY3Rbc3RyLEFueV0pLT5zdHI6CiAgICByZWM9eyJqb2JfaWQiOnV1aWQudXVpZDQoKS5oZXgsInRhc2siOnRhc2ssInN0YXR1cyI6c3RhdHVzLCJ0cyI6bm93X3V0YygpLCJkZXRhaWxzIjpkZXRhaWxzfQogICAgZGF0YT1qc29uLmR1bXBzKHJlYyxpbmRlbnQ9MixlbnN1cmVfYXNjaWk9RmFsc2UpLmVuY29kZSgidXRmLTgiKQogICAgc2x1Zz10aW1lc3RhbXBfc2x1ZyhyZWNbInRzIl0pCiAgICBjYW5kaWRhdGU9ZiJhdWRpdC17c2x1Z30uanNvbiIKICAgIHBhdGg9b3MucGF0aC5qb2luKEFVRElUX0RJUixjYW5kaWRhdGUpCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhlbnN1cmVfc2FmZV9wYXRoKHBhdGgpKToKICAgICAgICBjYW5kaWRhdGU9ZiJhdWRpdC17c2x1Z30te3JlY1snam9iX2lkJ11bOjhdfS5qc29uIgogICAgICAgIHBhdGg9b3MucGF0aC5qb2luKEFVRElUX0RJUixjYW5kaWRhdGUpCiAgICBhdG9taWNfd3JpdGUocGF0aCxkYXRhKQogICAgcmV0dXJuIGNhbmRpZGF0ZQoKZGVmIGxvYWRfc3BlYygpLT5EaWN0W3N0cixBbnldOgogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbihlbnN1cmVfc2FmZV9wYXRoKFNQRUNfUEFUSCksInJiIikgYXMgZjoKICAgICAgICAgICAgcmV0dXJuIF9yZWxheGVkX2pzb25fYnl0ZXNfdG9fb2JqKGYucmVhZCgpKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBkYXRhPWpzb24uZHVtcHMoU1BFQ19ERUZBVUxULGluZGVudD0yLGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCJ1dGYtOCIpCiAgICAgICAgYXRvbWljX3dyaXRlKFNQRUNfUEFUSCxkYXRhKQogICAgICAgIHJldHVybiBTUEVDX0RFRkFVTFQKCmRlZiBpbmdlc3Rfb25jZShzcGVjOkRpY3Rbc3RyLEFueV0pLT5EaWN0W3N0cixBbnldOgogICAgcmVzX2NmZz1zcGVjWyJyZXNvdXJjZXMiXTsgb3JkZXI9c3BlYy5nZXQoInJlc29sdmVycyIse30pLmdldCgib3JkZXIiLFsicHJpbWFyeSIsImZhbGxiYWNrIiwibG9jYWwiXSkKICAgIHJlc29sdmVyPVJlc29sdmVyKHNwZWNbInJlc29sdmVycyJdLmdldCgicHJpbWFyeSIsQ0FOT05JQ0FMKSxzcGVjWyJyZXNvbHZlcnMiXS5nZXQoImZhbGxiYWNrIixDRE5fRkFMTEJBQ0spLHNwZWNbInJlc29sdmVycyJdLmdldCgibG9jYWxfcm9vdCIsTE9DQUxfUk9PVCksb3JkZXIpCiAgICBzdW1tYXJ5PXsiaW5nZXN0ZWQiOltdLCAiZXJyb3JzIjpbXX0KICAgIGZvciByIGluIHJlc19jZmc6CiAgICAgICAgcmVscGF0aD1yWyJyZWxwYXRoIl07IGtpbmQ9ci5nZXQoImtpbmQiLCJqc29uIik7IHJlcXVpcmVkPXR1cGxlKHIuZ2V0KCJyZXF1aXJlZF9rZXlzIixbXSkpOyBvcHRpb25hbD1yLmdldCgib3B0aW9uYWwiLEZhbHNlKQogICAgICAgIHRyeToKICAgICAgICAgICAgcmF3LHNyYyx1cmw9cmVzb2x2ZXIuZmV0Y2gocmVscGF0aCk7IGRpZz1zaGEyNTYocmF3KQogICAgICAgICAgICBpZiBraW5kPT0ianNvbiI6CiAgICAgICAgICAgICAgICB0cnk6IG9iaj1qc29uLmxvYWRzKHJhdykKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246IG9iaj1fcmVsYXhlZF9qc29uX2J5dGVzX3RvX29iaihyYXcpCiAgICAgICAgICAgICAgICBmb3IgayBpbiByZXF1aXJlZDoKICAgICAgICAgICAgICAgICAgICBpZiBrIG5vdCBpbiBvYmo6IHJhaXNlIEtleUVycm9yKGYie0VSUlsnU0NIRU1BX01JU1NJTkdfS0VZJ119OiB7a30iKQogICAgICAgICAgICAgICAgQUNJX01FTU9SWS51cGRhdGUoclsibmFtZSJdLG9iaixzb3VyY2U9c3JjLHVybD11cmwsZGlnZXN0PWRpZykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRleHQ9cmF3LmRlY29kZSgidXRmLTgiLGVycm9ycz0icmVwbGFjZSIpOyBBQ0lfTUVNT1JZLnVwZGF0ZShyWyJuYW1lIl0sdGV4dCxzb3VyY2U9c3JjLHVybD11cmwsZGlnZXN0PWRpZykKICAgICAgICAgICAgc3VtbWFyeVsiaW5nZXN0ZWQiXS5hcHBlbmQoeyJuYW1lIjpyWyJuYW1lIl0sInVybCI6dXJsLCJzb3VyY2UiOnNyYywic2hhMjU2IjpkaWd9KQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgaWYgb3B0aW9uYWw6IHN1bW1hcnlbImluZ2VzdGVkIl0uYXBwZW5kKHsibmFtZSI6clsibmFtZSJdLCJvcHRpb25hbF9taXNzaW5nIjpUcnVlfSk7IGNvbnRpbnVlCiAgICAgICAgICAgIHN1bW1hcnlbImVycm9ycyJdLmFwcGVuZCh7Im5hbWUiOnJbIm5hbWUiXSwiZXJyb3IiOnN0cihlKX0pCiAgICByZXR1cm4gc3VtbWFyeQoKZGVmIF9hc3NlcnRfZXZhbChzZWxlY3Rvcl92YWw6QW55LHNwZWM6RGljdFtzdHIsQW55XSktPk9wdGlvbmFsW3N0cl06CiAgICBpZiAiZXhpc3RzIiBpbiBzcGVjOgogICAgICAgIHdhbnQ9Ym9vbChzcGVjWyJleGlzdHMiXSk7IGdvdD1zZWxlY3Rvcl92YWwgaXMgbm90IE5vbmUKICAgICAgICBpZiBnb3QhPXdhbnQ6IHJldHVybiBmImV4aXN0cyBleHBlY3RlZCB7d2FudH0sIGdvdCB7Z290fSIKICAgIGlmICJlcXVhbHMiIGluIHNwZWM6CiAgICAgICAgaWYgc2VsZWN0b3JfdmFsIT1zcGVjWyJlcXVhbHMiXTogcmV0dXJuIGYiZXF1YWxzIGV4cGVjdGVkIHtzcGVjWydlcXVhbHMnXX0sIGdvdCB7c2VsZWN0b3JfdmFsfSIKICAgIGlmICJjb250YWlucyIgaW4gc3BlYzoKICAgICAgICB2PXNwZWNbImNvbnRhaW5zIl0KICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIHYgbm90IGluIHNlbGVjdG9yX3ZhbDogcmV0dXJuIGYiY29udGFpbnMgZXhwZWN0ZWQge3Z9LCBub3QgaW4ge3NlbGVjdG9yX3ZhbH0iCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuIGYiY29udGFpbnMgbm90LWFwcGxpY2FibGUgZm9yIHt0eXBlKHNlbGVjdG9yX3ZhbCkuX19uYW1lX199IgogICAgaWYgInJlZ2V4IiBpbiBzcGVjOgogICAgICAgIHBhdD1yZS5jb21waWxlKHNwZWNbInJlZ2V4Il0pOyB0ZXh0PWpzb24uZHVtcHMoc2VsZWN0b3JfdmFsLGVuc3VyZV9hc2NpaT1GYWxzZSkgaWYgbm90IGlzaW5zdGFuY2Uoc2VsZWN0b3JfdmFsLHN0cikgZWxzZSBzZWxlY3Rvcl92YWwKICAgICAgICBpZiBub3QgcGF0LnNlYXJjaCh0ZXh0IG9yICIiKTogcmV0dXJuIGYicmVnZXgge3NwZWNbJ3JlZ2V4J119IGRpZCBub3QgbWF0Y2giCiAgICByZXR1cm4gTm9uZQoKZGVmIHJ1bl9zZWxmX3ZhbGlkYXRpb24oc3BlYzpEaWN0W3N0cixBbnldKS0+RGljdFtzdHIsQW55XToKICAgIGNoZWNrcz1zcGVjLmdldCgiaG9va3MiLHt9KS5nZXQoInNlbGZfdmFsaWRhdGlvbiIsW10pOyBmYWlsdXJlczpMaXN0W0RpY3Rbc3RyLEFueV1dPVtdCiAgICBmb3IgYyBpbiBjaGVja3M6CiAgICAgICAgc2VsPWMuZ2V0KCJzZWxlY3QiLCIiKTsgdmFsPUFDSV9NRU1PUlkuZ2V0KHNlbCkgaWYgc2VsIGVsc2UgTm9uZTsgZXJyPV9hc3NlcnRfZXZhbCh2YWwsYy5nZXQoImFzc2VydCIse30pKQogICAgICAgIGlmIGVycjogZmFpbHVyZXMuYXBwZW5kKHsiaWQiOmMuZ2V0KCJpZCIpLCJzZWxlY3QiOnNlbCwicmVhc29uIjplcnIsInNldmVyaXR5IjpjLmdldCgic2V2ZXJpdHkiLCJ3YXJuIil9KQogICAgcmV0dXJuIHsiZmFpbHVyZXMiOmZhaWx1cmVzLCAicGFzc2VkIjpsZW4oZmFpbHVyZXMpPT0wfQoKZGVmIHJ1bl9tZXRhY29nbml0aW9uKHNwZWM6RGljdFtzdHIsQW55XSktPkRpY3Rbc3RyLEFueV06CiAgICBzaWduYWxzX2NmZz1zcGVjLmdldCgiaG9va3MiLHt9KS5nZXQoIm1ldGFjb2duaXRpb24iLHt9KS5nZXQoInNpZ25hbHMiLFtdKTsgc2lnbmFsczpMaXN0W0RpY3Rbc3RyLEFueV1dPVtdCiAgICBoaXN0b3J5PUFDSV9NRU1PUlkuaGlzdG9yeS5zbmFwc2hvdCgpCiAgICBmb3IgcyBpbiBzaWduYWxzX2NmZzoKICAgICAgICBzaWQ9cy5nZXQoImlkIik7IHN0eXBlPXMuZ2V0KCJ0eXBlIikKICAgICAgICBpZiBzdHlwZT09ImRpZ2VzdF9kaWZmIjoKICAgICAgICAgICAgc2NvcGU9cy5nZXQoInNjb3BlIixbXSk7IGRpZmZzPXt9CiAgICAgICAgICAgIGZvciBuYW1lIGluIHNjb3BlOgogICAgICAgICAgICAgICAgcHJldj1Ob25lCiAgICAgICAgICAgICAgICBmb3IgaCBpbiByZXZlcnNlZChoaXN0b3J5KToKICAgICAgICAgICAgICAgICAgICBpZiBoLmdldCgibmFtZSIpPT1uYW1lOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBwcmV2IGlzIE5vbmU6IHByZXY9aC5nZXQoInNoYTI1NiIpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6IGRpZmZzW25hbWVdPXsibmV3IjpwcmV2LCJvbGQiOmguZ2V0KCJzaGEyNTYiKSwiY2hhbmdlZCI6cHJldiE9aC5nZXQoInNoYTI1NiIpfTsgYnJlYWsKICAgICAgICAgICAgc2lnbmFscy5hcHBlbmQoeyJpZCI6c2lkLCJ0eXBlIjpzdHlwZSwiZGlmZnMiOmRpZmZzfSkKICAgICAgICBlbGlmIHN0eXBlPT0iY2hhbmdlX3JhdGUiOgogICAgICAgICAgICB3aW5kb3c9aW50KHMuZ2V0KCJ3aW5kb3ciLDIwKSk7IHR3PWludChzLmdldCgidGhyZXNob2xkX3dhcm4iLDQpKTsgdGU9aW50KHMuZ2V0KCJ0aHJlc2hvbGRfZXJyIiw4KSkKICAgICAgICAgICAgd2luZG93X2hpc3Q9aGlzdG9yeVstd2luZG93Ol07IGNoYW5nZXM9e30KICAgICAgICAgICAgZm9yIGggaW4gd2luZG93X2hpc3Q6CiAgICAgICAgICAgICAgICBubT1oLmdldCgibmFtZSIpOyBjaGFuZ2VzW25tXT1jaGFuZ2VzLmdldChubSwwKSsxCiAgICAgICAgICAgIG14PW1heChjaGFuZ2VzLnZhbHVlcygpKSBpZiBjaGFuZ2VzIGVsc2UgMAogICAgICAgICAgICBsZXZlbCA9ICJlcnIiIGlmIG14Pj10ZSBlbHNlICgid2FybiIgaWYgbXg+PXR3IGVsc2UgIm9rIikKICAgICAgICAgICAgc2lnbmFscy5hcHBlbmQoeyJpZCI6c2lkLCJ0eXBlIjpzdHlwZSwibGV2ZWwiOmxldmVsLCJtYXhfY2hhbmdlcyI6bXgsImJ5X25hbWUiOmNoYW5nZXN9KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNpZ25hbHMuYXBwZW5kKHsiaWQiOnNpZCwidHlwZSI6c3R5cGUsIm5vdGUiOiJ1bmtub3duIHNpZ25hbCB0eXBlIn0pCiAgICBBQ0lfTUVNT1JZLm1ldGEuc2V0ZGVmYXVsdCgibWV0YWNvZ25pdGlvbiIse30pOyBBQ0lfTUVNT1JZLm1ldGFbIm1ldGFjb2duaXRpb24iXVsidHMiXT1ub3dfdXRjKCk7IEFDSV9NRU1PUlkubWV0YVsibWV0YWNvZ25pdGlvbiJdWyJzaWduYWxzIl09c2lnbmFscwogICAgcmV0dXJuIHsic2lnbmFscyI6c2lnbmFsc30KCmRlZiBjeWNsZV9vbmNlKGNvbW1fbW9kZTpzdHI9InNpbGVudCIpLT5EaWN0W3N0cixBbnldOgogICAgc3BlYz1sb2FkX3NwZWMoKTsgc3VtbWFyeT1pbmdlc3Rfb25jZShzcGVjKTsgc2VsZnY9cnVuX3NlbGZfdmFsaWRhdGlvbihzcGVjKTsgbWV0YT1ydW5fbWV0YWNvZ25pdGlvbihzcGVjKQogICAgd3JpdGVfc3RhdGVfc25hcHNob3QoKTsgc3RhdHVzID0gIk9LIiBpZiAobm90IHN1bW1hcnlbImVycm9ycyJdIGFuZCBzZWxmdlsicGFzc2VkIl0pIGVsc2UgKCJXQVJOIiBpZiBzZWxmdlsicGFzc2VkIl0gZWxzZSAiRVJSIikKICAgIGRldGFpbHM9eyJpbmdlc3RlZCI6c3VtbWFyeVsiaW5nZXN0ZWQiXSwiZXJyb3JzIjpzdW1tYXJ5WyJlcnJvcnMiXSwic2VsZl92YWxpZGF0aW9uIjpzZWxmdiwibWV0YWNvZ25pdGlvbiI6bWV0YX0KICAgIG5hbWU9d3JpdGVfYXVkaXQoImF1ZGl0LmN5Y2xlIixzdGF0dXMsZGV0YWlscyk7IGxvZ19saW5lKGYiY3ljbGUgc3RhdHVzPXtzdGF0dXN9IC0+IHtuYW1lfSIsY29tbV9tb2RlPWNvbW1fbW9kZSkKICAgIGlmIGNvbW1fbW9kZSBpbiB7ImF1ZGl0LW9ubHkiLCJub3RpZnktb24tZXJyb3IifSBhbmQgc3RhdHVzPT0iRVJSIjogbG9nX2xpbmUoIkVSUk9SIGRldGVjdGVkIOKAlCBjaGVjayBhdWRpdCBmaWxlIGZvciBkZXRhaWxzIixjb21tX21vZGU9Y29tbV9tb2RlLGxldmVsPSJFUlJPUiIpCiAgICByZXR1cm4geyJzdGF0dXMiOnN0YXR1cywiYXVkaXQiOm5hbWV9CgpkZWYgYnVpbGRfYXJncGFyc2VyKCktPmFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcD1hcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0iQUNJIEFkYXB0aXZlIEF1ZGl0IFJ1bm5lciAoSlNPTi1uYXRpdmUpIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLW1vZGUiLGNob2ljZXM9WyJwdWxsIiwib25jZSJdLGRlZmF1bHQ9InB1bGwiKQogICAgcC5hZGRfYXJndW1lbnQoIi0taW50ZXJ2YWwiLHR5cGU9ZmxvYXQsZGVmYXVsdD1Ob25lLGhlbHA9IlB1bGwgaW50ZXJ2YWwgc2Vjb25kcyIpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1qaXR0ZXIiLHR5cGU9ZmxvYXQsZGVmYXVsdD1Ob25lLGhlbHA9IlJhbmRvbSBqaXR0ZXIgYWRkZWQgdG8gaW50ZXJ2YWwiKQogICAgcC5hZGRfYXJndW1lbnQoIi0tY29tbSIsY2hvaWNlcz1saXN0KENPTU1fTU9ERVMpLGRlZmF1bHQ9Tm9uZSxoZWxwPSJDb21tdW5pY2F0aW9uIG1vZGUiKQogICAgcC5hZGRfYXJndW1lbnQoIi0tc2lsZW50IixhY3Rpb249InN0b3JlX3RydWUiLGhlbHA9IkFsaWFzIGZvciAtLWNvbW0gc2lsZW50IikKICAgIHAuYWRkX2FyZ3VtZW50KCItLW1heC1jeWNsZXMiLHR5cGU9aW50LGRlZmF1bHQ9Tm9uZSxoZWxwPSJNYXhpbXVtIG51bWJlciBvZiBwdWxsIGN5Y2xlcyBiZWZvcmUgZXhpdGluZyAoPj0xKSIpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1idXJzdC1kZWFkbGluZSIsdHlwZT1mbG9hdCxkZWZhdWx0PTE4MDAuMCxoZWxwPSJVcHBlciBib3VuZCBpbiBzZWNvbmRzIGZvciBhIHB1bGwgYnVyc3QgYmVmb3JlIGV4aXQiKQogICAgcmV0dXJuIHAKCmRlZiBtYWluKGFyZ3Y6T3B0aW9uYWxbTGlzdFtzdHJdXT1Ob25lKS0+aW50OgogICAgYXJncz1idWlsZF9hcmdwYXJzZXIoKS5wYXJzZV9hcmdzKGFyZ3YpCiAgICBzcGVjPWxvYWRfc3BlYygpCiAgICBjb21tX21vZGUgPSAic2lsZW50IiBpZiBhcmdzLnNpbGVudCBlbHNlIChhcmdzLmNvbW0gb3Igc3BlYy5nZXQoImNvbW1fbW9kZSIsInNpbGVudCIpKQogICAgaW50ZXJ2YWwgPSBhcmdzLmludGVydmFsIG9yIGZsb2F0KHNwZWMuZ2V0KCJpbnRlcnZhbCIsMzAwKSkKICAgIGppdHRlciA9IGFyZ3Muaml0dGVyIG9yIGZsb2F0KHNwZWMuZ2V0KCJqaXR0ZXIiLDUpKQogICAgbWF4X2N5Y2xlcyA9IGFyZ3MubWF4X2N5Y2xlcwogICAgaWYgbWF4X2N5Y2xlcyBpcyBub3QgTm9uZSBhbmQgbWF4X2N5Y2xlcyA8IDE6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiLS1tYXgtY3ljbGVzIG11c3QgYmUgPj0gMSIpCiAgICBkZWFkbGluZSA9IGZsb2F0KGFyZ3MuYnVyc3RfZGVhZGxpbmUpIGlmIGFyZ3MuYnVyc3RfZGVhZGxpbmUgaXMgbm90IE5vbmUgZWxzZSAxODAwLjAKICAgIGRlYWRsaW5lX2NhcCA9IGZsb2F0KCdpbmYnKSBpZiBkZWFkbGluZSA8PSAwIGVsc2UgZGVhZGxpbmUKICAgIGlmIGFyZ3MubW9kZT09Im9uY2UiOgogICAgICAgIGN5Y2xlX29uY2UoY29tbV9tb2RlPWNvbW1fbW9kZSkKICAgICAgICByZXR1cm4gMAogICAgYmFja29mZj0xLjAKICAgIGN5Y2xlcz0wCiAgICBzdGFydD10aW1lLnRpbWUoKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBvdXQ9Y3ljbGVfb25jZShjb21tX21vZGU9Y29tbV9tb2RlKTsgc3RhdHVzPW91dC5nZXQoInN0YXR1cyIpCiAgICAgICAgY3ljbGVzKz0xCiAgICAgICAgaWYgc3RhdHVzPT0iT0siOgogICAgICAgICAgICBiYWNrb2ZmPTEuMAogICAgICAgICAgICBkZWxheT1pbnRlcnZhbCtyYW5kb20udW5pZm9ybSgwLGppdHRlcikKICAgICAgICBlbGlmIHN0YXR1cz09IldBUk4iOgogICAgICAgICAgICBiYWNrb2ZmPW1pbig2MC4wLGJhY2tvZmYqMikKICAgICAgICAgICAgZGVsYXk9bWF4KGludGVydmFsLzIsYmFja29mZikKICAgICAgICBlbHNlOgogICAgICAgICAgICBiYWNrb2ZmPW1pbigxMjAuMCxiYWNrb2ZmKjIpCiAgICAgICAgICAgIGRlbGF5PWJhY2tvZmYKICAgICAgICBpZiBtYXhfY3ljbGVzIGlzIG5vdCBOb25lIGFuZCBjeWNsZXMgPj0gbWF4X2N5Y2xlczoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbGFwc2VkPXRpbWUudGltZSgpLXN0YXJ0CiAgICAgICAgaWYgZWxhcHNlZCA+PSBkZWFkbGluZV9jYXA6CiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgc2xlZXBfZm9yPW1heCgwLjEsZGVsYXkpCiAgICAgICAgaWYgZGVhZGxpbmVfY2FwICE9IGZsb2F0KCdpbmYnKToKICAgICAgICAgICAgc2xlZXBfZm9yPW1pbihzbGVlcF9mb3IsbWF4KDAuMSxkZWFkbGluZV9jYXAtZWxhcHNlZCkpCiAgICAgICAgdGltZS5zbGVlcChzbGVlcF9mb3IpCiAgICAgICAgaWYgZGVhZGxpbmVfY2FwICE9IGZsb2F0KCdpbmYnKSBhbmQgKHRpbWUudGltZSgpLXN0YXJ0KSA+PSBkZWFkbGluZV9jYXA6CiAgICAgICAgICAgIGJyZWFrCiAgICByZXR1cm4gMAoKaWYgX19uYW1lX189PSJfX21haW5fXyI6CiAgICBpbXBvcnQgc3lzOyBzeXMuZXhpdChtYWluKCkpCg=="
-    },
-    {
-      "target": "/mnt/data/aci/config/aci_runner_spec.json",
-      "mode": "0644",
-      "sha256": "9ee6c23c40485c6765716a1a024b50baef41d468babf0518b196a1d001707ef6",
-      "encoding": "utf-8",
-      "content": "{\n  \"$meta\": {\n    \"artifact_id\": \"ArtifactID:4oci6MbqPmGJ4k\",\n    \"sha256\": \"77f2dd8b081229fee08f06d93025c490bbc94438b50f7825f034541e3d2a6706\",\n    \"issued\": \"2025-10-04T18:13:59Z\",\n    \"path\": \"aci://library/aci_audit_runner/aci_runner_spec.v0.2.json\"\n  },\n  \"version\": \"0.2\",\n  \"resolvers\": {\n    \"order\": [\n      \"primary\",\n      \"fallback\",\n      \"local\"\n    ],\n    \"primary\": \"https://raw.githubusercontent.com/aliasnet/aci/main\",\n    \"fallback\": \"https://aci.aliasmail.cc\",\n    \"local_root\": \"/mnt/data/aci/local\"\n  },\n  \"resources\": [\n    {\n      \"name\": \"prime_directive\",\n      \"relpath\": \"prime_directive.md\",\n      \"kind\": \"md\"\n    },\n    {\n      \"name\": \"runtime\",\n      \"relpath\": \"runtime.json\",\n      \"kind\": \"json\",\n      \"required_keys\": [\n        \"resolver\"\n      ]\n    },\n    {\n      \"name\": \"functions\",\n      \"relpath\": \"functions.json\",\n      \"kind\": \"json\"\n    },\n    {\n      \"name\": \"metacognition\",\n      \"relpath\": \"library/metacognition/metacognition.json\",\n      \"kind\": \"json\"\n    },\n    {\n      \"name\": \"metacognition_options\",\n      \"relpath\": \"library/metacognition/metacognition_options.json\",\n      \"kind\": \"json\",\n      \"optional\": true\n    },\n    {\n      \"name\": \"yggdrasil\",\n      \"relpath\": \"binders/yggdrasil.json\",\n      \"kind\": \"json\"\n    }\n  ],\n  \"locators_regex\": {\n    \"metacognition\": \"library/metacognition/metacognition(_options)?\\\\.json$\",\n    \"functions\": \"functions(\\\\.registry)?\\\\.json$\",\n    \"yggdrasil\": \"entities/ygg(dr|rd)asil\\\\.json$\",\n    \"prime_directive\": \"prime(_)?directive\\\\.(md|txt)$\"\n  },\n  \"hooks\": {\n    \"self_validation\": [\n      {\n        \"id\": \"rt.resolver.has_primary\",\n        \"select\": \"runtime.resolver.order\",\n        \"assert\": {\n          \"contains\": \"primary\"\n        },\n        \"severity\": \"error\"\n      },\n      {\n        \"id\": \"fx.registry.present\",\n        \"select\": \"functions\",\n        \"assert\": {\n          \"exists\": true\n        },\n        \"severity\": \"error\"\n      }\n    ],\n    \"metacognition\": {\n      \"signals\": [\n        {\n          \"id\": \"digest.delta\",\n          \"type\": \"digest_diff\",\n          \"scope\": [\n            \"runtime\",\n            \"functions\",\n            \"metacognition\",\n            \"yggdrasil\"\n          ]\n        },\n        {\n          \"id\": \"change.rate\",\n          \"type\": \"change_rate\",\n          \"window\": 20,\n          \"threshold_warn\": 4,\n          \"threshold_err\": 8\n        }\n      ]\n    }\n  },\n  \"comm_mode\": \"silent\",\n  \"interval\": 300,\n  \"jitter\": 5,\n  \"recovery\": {\n    \"corpus_id\": \"ACI-RC-20251003-v0.2\",\n    \"path\": \"library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json\",\n    \"sha256\": \"e4c9c6e317b3457bc46cbad6c0d0a151adb9f05f85056a5a8c179595daa4f394\"\n  },\n  \"cadence\": {\n    \"mode\": \"burst\",\n    \"min_cycles\": 1,\n    \"recommended_max_cycles\": 2,\n    \"interval_seconds\": 300,\n    \"jitter_seconds\": 5,\n    \"deadline_seconds\": 1800,\n    \"notes\": \"Use --max-cycles 1 for nominal bursts; extend to 2 only for diagnostics within the 30 minute platform window.\"\n  },\n  \"scheduler_prompt\": {\n    \"summary\": \"Run an ACI audit burst to keep artifacts warm in /mnt/data.\",\n    \"steps\": [\n      \"Ensure /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py, /mnt/data/aci/logs/, /mnt/data/aci/state/, and /mnt/data/aci/audit/tmp/ exist (create directories if missing).\",\n      \"If the runner is missing, rebuild the JSON-native skeleton from the recovery corpus so each cycle writes state-<UTC>.json, audit-<UTC>.json, and an INFO line to aci-YYYYMMDD.log.\",\n      \"Execute the burst with adaptive spacing, enforce at least one safe iteration, cap the run with --max-cycles 1 (or 2 when debugging), and honor the 1800 second burst deadline.\",\n      \"Hold artifacts locally unless requested; report success with 'Audit burst OK (1 cycle).' or gaps with 'MISSING <path> (tried: github, mirror, local, project)'.\"\n    ],\n    \"command\": \"python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent --max-cycles 1 --burst-deadline 1800\",\n    \"success_message\": \"Audit burst OK (1 cycle).\",\n    \"missing_template\": \"MISSING <path> (tried: github, mirror, local, project)\"\n  },\n  \"final_check\": {\n    \"order\": [\n      \"prime_directive.txt|md\",\n      \"runtime.json\",\n      \"entities.json\",\n      \"functions.json\",\n      \"library/metacognition/metacognition.json\",\n      \"library/metacognition/metacognition_options.json\",\n      \"binders/yggdrasil.json\",\n      \"library/audits/aci_audit_runner/aci_runner_spec.v0.2.json\",\n      \"library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json\"\n    ],\n    \"success\": \"Audit burst OK (1 cycle).\",\n    \"on_missing\": \"MISSING <path> (tried: github, mirror, local, project)\"\n  }\n}\n"
-    }
-  ],
-  "restore_instructions": [
-    "Create parent dirs if missing.",
-    "Write each file atomically; set permissions.",
-    "Verify sha256 for each file.",
-    "Run: python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode once --silent"
-  ]
-}
diff --git a/library/readme.me b/library/readme.me
deleted file mode 100644
index 9d36aaa..0000000
--- a/library/readme.me
+++ /dev/null
@@ -1 +0,0 @@
-This folder contains library modules and stubs used by ACI
diff --git a/llms.txt b/llms.txt
index c405a0b..9b7bac0 100644
--- a/llms.txt
+++ b/llms.txt
@@ -4,7 +4,7 @@
     "role": "aci_mcp_server",
     "description": "Local mirror of Yggdrasil-linked directory tree for MCP server anchoring"
   },
-  "source_manifest": "aci://binders/yggdrasil.json",
+  "source_manifest": "aci://yggdrasil.json",
   "tree": [
     {
       "name": ".",
@@ -53,25 +53,19 @@
       "children": [
         {
           "name": "entities",
-          "files": [
-            {
-              "path": "aci://entities/organism_model_adaptation.json",
-              "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/organism_model_adaptation.json",
-              "name": "organism_model_adaptation.json"
-            }
-          ],
+          "files": [],
           "children": [
             {
               "name": "aci_repo",
               "files": [
                 {
-                  "path": "aci://entities/aci_repo/aci_repo.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/aci_repo.json",
+                  "path": "aci://modules/aci_repo/aci_repo.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/aci_repo.json",
                   "name": "aci_repo.json"
                 },
                 {
-                  "path": "aci://entities/aci_repo/api_repo.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/api_repo.json",
+                  "path": "aci://modules/aci_repo/api_repo.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/api_repo.json",
                   "name": "api_repo.json"
                 }
               ],
@@ -80,8 +74,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://entities/aci_repo/library/aci_repo_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/library/aci_repo_library.json",
+                      "path": "aci://modules/aci_repo/library/aci_repo_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/library/aci_repo_library.json",
                       "name": "aci_repo_library.json"
                     }
                   ],
@@ -107,8 +101,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://entities/aci_repo/library/aci_repo_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/library/aci_repo_library.json",
+                      "path": "aci://modules/aci_repo/library/aci_repo_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/library/aci_repo_library.json",
                       "name": "aci_repo_library.json"
                     }
                   ],
@@ -120,18 +114,18 @@
               "name": "agi",
               "files": [
                 {
-                  "path": "aci://library/agi/agi.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi.json",
+                  "path": "aci://modules/agi/agi.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi.json",
                   "name": "agi.json"
                 },
                 {
-                  "path": "aci://library/agi/agi_export_policy.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_export_policy.json",
+                  "path": "aci://modules/agi/agi_export_policy.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_export_policy.json",
                   "name": "agi_export_policy.json"
                 },
                 {
-                  "path": "aci://library/agi/agi.json#identity_manager",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi.json",
+                  "path": "aci://modules/agi/agi.json#identity_manager",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi.json",
                   "name": "agi.json#identity_manager"
                 }
               ],
@@ -140,13 +134,13 @@
                   "name": "agi_tools",
                   "files": [
                     {
-                      "path": "aci://library/agi/tools/autolearn.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/autolearn.json",
+                      "path": "aci://modules/agi/tools/autolearn.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/autolearn.json",
                       "name": "autolearn.json"
                     },
                     {
-                      "path": "aci://library/agi/tools/migrate_to_jsonl.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl.json",
+                      "path": "aci://modules/agi/tools/migrate_to_jsonl.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl.json",
                       "name": "migrate_to_jsonl.json"
                     }
                   ],
@@ -155,13 +149,13 @@
                       "name": "migrate_to_jsonl",
                       "files": [
                         {
-                          "path": "aci://library/agi/tools/migrate_to_jsonl/manifest.json",
-                          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl/manifest.json",
+                          "path": "aci://modules/agi/tools/migrate_to_jsonl/manifest.json",
+                          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl/manifest.json",
                           "name": "manifest.json"
                         },
                         {
-                          "path": "aci://library/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
-                          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
+                          "path": "aci://modules/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
+                          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
                           "name": "migrate_to_jsonl.json"
                         }
                       ],
@@ -303,8 +297,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://library/agi/agi_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json",
+                      "path": "aci://modules/agi/agi_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json",
                       "name": "agi_library.json"
                     }
                   ],
@@ -314,8 +308,8 @@
                   "name": "memory",
                   "files": [
                     {
-                      "path": "aci://library/agi/agi_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json",
+                      "path": "aci://modules/agi/agi_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json",
                       "name": "agi_library.json"
                     },
                     {
@@ -329,8 +323,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://library/agi/agi_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json",
+                      "path": "aci://modules/agi/agi_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json",
                       "name": "agi_library.json"
                     }
                   ],
@@ -342,8 +336,8 @@
               "name": "architect",
               "files": [
                 {
-                  "path": "aci://governance/architect/architect.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/architect.json",
+                  "path": "aci://entities/architect/architect.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/architect.json",
                   "name": "architect.json"
                 }
               ],
@@ -352,8 +346,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://governance/architect/library/architect_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/library/architect_library.json",
+                      "path": "aci://entities/architect/library/architect_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/library/architect_library.json",
                       "name": "architect_library.json"
                     }
                   ],
@@ -379,8 +373,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://governance/architect/library/architect_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/library/architect_library.json",
+                      "path": "aci://entities/architect/library/architect_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/library/architect_library.json",
                       "name": "architect_library.json"
                     }
                   ],
@@ -392,13 +386,13 @@
               "name": "hivemind",
               "files": [
                 {
-                  "path": "aci://governance/hivemind/functions.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/functions.json",
+                  "path": "aci://entities/hivemind/functions.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/functions.json",
                   "name": "functions.json"
                 },
                 {
-                  "path": "aci://governance/hivemind/hivemind.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/hivemind.json",
+                  "path": "aci://entities/hivemind/hivemind.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/hivemind.json",
                   "name": "hivemind.json"
                 }
               ],
@@ -407,8 +401,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://governance/hivemind/library/hivemind_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/library/hivemind_library.json",
+                      "path": "aci://entities/hivemind/library/hivemind_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/library/hivemind_library.json",
                       "name": "hivemind_library.json"
                     }
                   ],
@@ -434,8 +428,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://governance/hivemind/library/hivemind_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/library/hivemind_library.json",
+                      "path": "aci://entities/hivemind/library/hivemind_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/library/hivemind_library.json",
                       "name": "hivemind_library.json"
                     }
                   ],
@@ -447,8 +441,8 @@
               "name": "mother",
               "files": [
                 {
-                  "path": "aci://governance/mother/mother.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/mother.json",
+                  "path": "aci://entities/mother/mother.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/mother.json",
                   "name": "mother.json"
                 }
               ],
@@ -457,8 +451,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://governance/mother/library/mother_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/library/mother_library.json",
+                      "path": "aci://entities/mother/library/mother_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/library/mother_library.json",
                       "name": "mother_library.json"
                     }
                   ],
@@ -484,8 +478,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://governance/mother/library/mother_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/library/mother_library.json",
+                      "path": "aci://entities/mother/library/mother_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/library/mother_library.json",
                       "name": "mother_library.json"
                     }
                   ],
@@ -493,56 +487,6 @@
                 }
               ]
             },
-            {
-              "name": "nexus_core",
-              "files": [
-                {
-                  "path": "aci://binders/nexus_core/nexus_core.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/nexus_core.json",
-                  "name": "nexus_core.json"
-                }
-              ],
-              "children": [
-                {
-                  "name": "library",
-                  "files": [
-                    {
-                      "path": "aci://binders/nexus_core/library/nexus_core_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/library/nexus_core_library.json",
-                      "name": "nexus_core_library.json"
-                    }
-                  ],
-                  "children": []
-                },
-                {
-                  "name": "memory",
-                  "files": [
-                    {
-                      "path": "aci://memory/identity/nexus_core/nexus_core_memory.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/memory/identity/nexus_core/nexus_core_memory.json",
-                      "name": "nexus_core_memory.json"
-                    },
-                    {
-                      "path": "aci://memory/identity/nexus_core/nexus_core_playbook.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/memory/identity/nexus_core/nexus_core_playbook.json",
-                      "name": "nexus_core_playbook.json"
-                    }
-                  ],
-                  "children": []
-                },
-                {
-                  "name": "modules",
-                  "files": [
-                    {
-                      "path": "aci://binders/nexus_core/library/nexus_core_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/library/nexus_core_library.json",
-                      "name": "nexus_core_library.json"
-                    }
-                  ],
-                  "children": []
-                }
-              ]
-            },
             {
               "name": "oracle",
               "files": [
@@ -692,8 +636,8 @@
               "name": "sentinel",
               "files": [
                 {
-                  "path": "aci://governance/sentinel/sentinel.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/sentinel.json",
+                  "path": "aci://entities/sentinel/sentinel.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/sentinel.json",
                   "name": "sentinel.json"
                 }
               ],
@@ -702,8 +646,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://governance/sentinel/library/sentinel_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/library/sentinel_library.json",
+                      "path": "aci://entities/sentinel/library/sentinel_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/library/sentinel_library.json",
                       "name": "sentinel_library.json"
                     }
                   ],
@@ -729,8 +673,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://governance/sentinel/library/sentinel_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/library/sentinel_library.json",
+                      "path": "aci://entities/sentinel/library/sentinel_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/library/sentinel_library.json",
                       "name": "sentinel_library.json"
                     }
                   ],
@@ -742,8 +686,8 @@
               "name": "tracehub",
               "files": [
                 {
-                  "path": "aci://library/audits/tracehub/tracehub.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json",
+                  "path": "aci://modules/audits/tracehub/tracehub.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json",
                   "name": "tracehub.json"
                 }
               ],
@@ -752,8 +696,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://library/audits/tracehub/tracehub.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json",
+                      "path": "aci://modules/audits/tracehub/tracehub.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json",
                       "name": "tracehub.json"
                     }
                   ],
@@ -779,8 +723,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://library/audits/tracehub/tracehub.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json",
+                      "path": "aci://modules/audits/tracehub/tracehub.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json",
                       "name": "tracehub.json"
                     }
                   ],
@@ -792,8 +736,8 @@
               "name": "tva",
               "files": [
                 {
-                  "path": "aci://governance/tva/tva.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/tva.json",
+                  "path": "aci://entities/tva/tva.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/tva.json",
                   "name": "tva.json"
                 }
               ],
@@ -802,8 +746,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://governance/tva/library/tva_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/library/tva_library.json",
+                      "path": "aci://entities/tva/library/tva_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/library/tva_library.json",
                       "name": "tva_library.json"
                     }
                   ],
@@ -829,8 +773,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://governance/tva/library/tva_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/library/tva_library.json",
+                      "path": "aci://entities/tva/library/tva_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/library/tva_library.json",
                       "name": "tva_library.json"
                     }
                   ],
@@ -842,8 +786,8 @@
               "name": "yggdrasil",
               "files": [
                 {
-                  "path": "aci://binders/yggdrasil.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json",
+                  "path": "aci://yggdrasil.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json",
                   "name": "yggdrasil.json"
                 }
               ],
@@ -852,8 +796,8 @@
                   "name": "library",
                   "files": [
                     {
-                      "path": "aci://binders/library/yggdrasil_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/library/yggdrasil_library.json",
+                      "path": "aci://yggdrasil/library/yggdrasil_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil/library/yggdrasil_library.json",
                       "name": "yggdrasil_library.json"
                     }
                   ],
@@ -879,8 +823,8 @@
                   "name": "modules",
                   "files": [
                     {
-                      "path": "aci://binders/library/yggdrasil_library.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/library/yggdrasil_library.json",
+                      "path": "aci://yggdrasil/library/yggdrasil_library.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil/library/yggdrasil_library.json",
                       "name": "yggdrasil_library.json"
                     }
                   ],
@@ -898,13 +842,13 @@
               "name": "aci_audit_runner",
               "files": [
                 {
-                  "path": "aci://library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
+                  "path": "aci://modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
                   "name": "gr_runner_corpus.v0.2.json"
                 },
                 {
-                  "path": "aci://library/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
+                  "path": "aci://modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
                   "name": "aci_runner_spec.v0.2.json"
                 }
               ],
@@ -937,13 +881,13 @@
               "name": "metacognition",
               "files": [
                 {
-                  "path": "aci://library/metacognition/metacognition.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/metacognition/metacognition.json",
+                  "path": "aci://modules/metacognition/metacognition.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/metacognition/metacognition.json",
                   "name": "metacognition.json"
                 },
                 {
-                  "path": "aci://library/metacognition/metacognition_options.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/metacognition/metacognition_options.json",
+                  "path": "aci://modules/metacognition/metacognition_options.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/metacognition/metacognition_options.json",
                   "name": "metacognition_options.json"
                 }
               ],
@@ -953,8 +897,8 @@
               "name": "uid_manager",
               "files": [
                 {
-                  "path": "aci://governance/keymaker/uid_manager/uid_manager.json",
-                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/keymaker/uid_manager/uid_manager.json",
+                  "path": "aci://entities/keymaker/uid_manager/uid_manager.json",
+                  "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/keymaker/uid_manager/uid_manager.json",
                   "name": "uid_manager.json"
                 }
               ],
@@ -968,13 +912,13 @@
                   "name": "process_logs",
                   "files": [
                     {
-                      "path": "aci://library/audits/process_logs/process_logs.json#schema_definition",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/process_logs/process_logs.json#schema_definition",
+                      "path": "aci://modules/audits/process_logs/process_logs.json#schema_definition",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/process_logs/process_logs.json#schema_definition",
                       "name": "process_logs.json#schema_definition"
                     },
                     {
-                      "path": "aci://library/audits/process_logs/process_logs.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/process_logs/process_logs.json",
+                      "path": "aci://modules/audits/process_logs/process_logs.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/process_logs/process_logs.json",
                       "name": "process_logs.json"
                     }
                   ],
@@ -984,8 +928,8 @@
                   "name": "tracehub_status",
                   "files": [
                     {
-                      "path": "aci://library/audits/tracehub/tracehub.json",
-                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json",
+                      "path": "aci://modules/audits/tracehub/tracehub.json",
+                      "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json",
                       "name": "tracehub.json"
                     }
                   ],
@@ -1033,5 +977,5 @@
     }
   ],
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/llms.txt",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/memory.json b/memory.json
index b95d84e..4876e93 100644
--- a/memory.json
+++ b/memory.json
@@ -35,7 +35,7 @@
       "allow_entity_override": false
     }
   },
-  "notes": "This manifest declares HiveMind as the canonical authority for system-wide memory exports and JSONL migration. Keep AGI-specific schemas and tools under library/agi/ and mark them local_only. In case of an emergency, ALIAS/TVA/Sentinel can promote an entity schema to system-level via an explicit signed operation. Legacy exports remain valid but must be upgraded with entity_uid before distribution. Identity memory manifests now reside under aci://memory/identity/<identity_path>/ to centralize governance. $meta.sha256 entries here and in subordinate manifests encode the sha256 digest of the Base58 ArtifactID, not a file checksum, ensuring relocations do not spur false integrity alarms.",
+  "notes": "This manifest declares HiveMind as the canonical authority for system-wide memory exports and JSONL migration. Keep AGI-specific schemas and tools under modules/agi/ and mark them local_only. In case of an emergency, ALIAS/TVA/Sentinel can promote an entity schema to system-level via an explicit signed operation. Legacy exports remain valid but must be upgraded with entity_uid before distribution. Identity memory manifests now reside under aci://memory/identity/<identity_path>/ to centralize governance. $meta.sha256 entries here and in subordinate manifests encode the sha256 digest of the Base58 ArtifactID, not a file checksum, ensuring relocations do not spur false integrity alarms.",
   "changelog": [
     {
       "version": "2025-10-07.00",
@@ -53,7 +53,7 @@
     }
   ],
   "exports": {
-    "contract": "aci://governance/hivemind/hivemind.json#/$defs/record_contract",
+    "contract": "aci://entities/hivemind/hivemind.json#/$defs/record_contract",
     "entity_binding": {
       "field": "entity_uid",
       "registry": "aci://entities.json#identity_registry.identities",
diff --git a/memory/audit/.gitkeep b/memory/audit/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/memory/audit/router.json b/memory/audit/router.json
deleted file mode 100644
index 03331c0..0000000
--- a/memory/audit/router.json
+++ /dev/null
@@ -1,35 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:7oHza2VrP6ABrw",
-    "sha256": "1addee3dfaf03e625268df17744cd5e640dbe97ad0e691cf53e05c820d00fb45",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://memory/audit/router.json"
-  },
-  "version": "2025-03-17",
-  "router": {
-    "tracehub": {
-      "description": "Primary session tracing sink managed by TraceHub with optional export promotion.",
-      "paths": {
-        "session": "/memory/audit/tracehub/session",
-        "export": "/memory/audit/tracehub/export"
-      },
-      "flags": {
-        "session_default": true,
-        "allow_export": true
-      },
-      "notes": "Use the session path for run-scoped transcripts. Promote to export path only when TVA+Sentinel approve persistent retention."
-    },
-    "tva_ledger": {
-      "description": "Governed ledger entries maintained by TVA for compliance and rollback review.",
-      "paths": {
-        "session": "/memory/audit/tva_ledger/session",
-        "export": "/memory/audit/tva_ledger/export"
-      },
-      "flags": {
-        "session_default": true,
-        "allow_export": true
-      },
-      "notes": "Session entries hold provisional checkpoints. Export path stores sealed ledgers cleared for long-term storage."
-    }
-  }
-}
diff --git a/memory/audit/tracehub/export/.gitkeep b/memory/audit/tracehub/export/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/memory/audit/tracehub/session/.gitkeep b/memory/audit/tracehub/session/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/memory/audit/tva_ledger/export/.gitkeep b/memory/audit/tva_ledger/export/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/memory/audit/tva_ledger/session/.gitkeep b/memory/audit/tva_ledger/session/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/memory/identity/aci_repo/aci_repo_memory.json b/memory/identity/aci_repo/aci_repo_memory.json
index fbda0c8..df122e2 100644
--- a/memory/identity/aci_repo/aci_repo_memory.json
+++ b/memory/identity/aci_repo/aci_repo_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "ACI Repo",
   "slug": "aci_repo",
-  "source_manifest": "aci://entities/aci_repo/aci_repo.json",
+  "source_manifest": "aci://modules/aci_repo/aci_repo.json",
   "description": "package_manager",
   "paths": {
     "root": "aci://memory/identity/aci_repo",
diff --git a/memory/identity/aci_repo/aci_repo_playbook.json b/memory/identity/aci_repo/aci_repo_playbook.json
index 70995e9..91236bb 100644
--- a/memory/identity/aci_repo/aci_repo_playbook.json
+++ b/memory/identity/aci_repo/aci_repo_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "ACI Repo",
   "slug": "aci_repo",
-  "source_manifest": "aci://entities/aci_repo/aci_repo.json",
+  "source_manifest": "aci://modules/aci_repo/aci_repo.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json b/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json
index b2d71e5..a55e90e 100644
--- a/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json
+++ b/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json
@@ -4,14 +4,14 @@
 {"type":"artifact","ts":"2025-09-26T18:05:00Z","actor":"alice","summary":"Produced metacognition article draft with citations and changelog.","data":{"coverage":"humans+AI","features":["monitoring","control","metrics","open_questions"],"status":"draft"},"tags":["artifact","doc"]}
 {"type":"analysis","ts":"2025-09-26T18:08:00Z","actor":"alice","summary":"Explored seven open questions on metacognition (calibration, implicit signals, introspection cost, misreporting, thresholds, self-improvement, human–AI interface).","data":{"themes":["calibration under shift","implicit→explicit confidence","utility-based introspection","honest confidence expression","safe deployment thresholds","self-improving metacognition","UI for actionable uncertainty"],"approach":"rule-based + critic + isotonic calibration + abstention + utility functions"},"tags":["analysis","reasoning","metacognition"]}
 {"type":"intent","ts":"2025-09-26T18:10:00Z","actor":"user","summary":"Design a portable, stateless metacognitive wrapper for ACI entities; refine into pure JSON; correct flaws; create practical module; allow optional library.","data":{"constraints":["stateless","hookable","portable"],"allow_canvas":true},"tags":["engineering","spec"]}
-{"type":"artifact","ts":"2025-09-26T18:20:00Z","actor":"alice","summary":"Created metacognition.json v1.1.0 (core wrapper).","data":{"path":"/library/metacognition/metacognition.json","version":"1.1.0","features":["signals","isotonic_calibration","selective_prediction","abstain","escalate","audit","telemetry","global_workspace"],"signals":["entropy","logit_margin","self_consistency","ood_score","hedging_terms","retrieval_score"]},"tags":["artifact","json","core"]}
+{"type":"artifact","ts":"2025-09-26T18:20:00Z","actor":"alice","summary":"Created metacognition.json v1.1.0 (core wrapper).","data":{"path":"/modules/metacognition/metacognition.json","version":"1.1.0","features":["signals","isotonic_calibration","selective_prediction","abstain","escalate","audit","telemetry","global_workspace"],"signals":["entropy","logit_margin","self_consistency","ood_score","hedging_terms","retrieval_score"]},"tags":["artifact","json","core"]}
 {"type":"validation","ts":"2025-09-26T18:25:00Z","actor":"alice","summary":"Validated module; fixed mapping p_correct→confidence; added retrieval verifier; state adapter; hardened critic parsing; privacy defaults.","data":{"issues_fixed":["confidence_mapping","retrieval_signal","state_adapter","critic_json_parse","drop_raw_text_true"]},"tags":["validation","fix"]}
 {"type":"artifact","ts":"2025-09-26T18:30:00Z","actor":"alice","summary":"Bundled release JSON (aci_metacognition_release.json) containing core wrapper and optional library.","data":{"files":["metacognition.json","metacognition_library.json"],"versions":{"core":"1.1.0","lib":"1.1.0"}},"tags":["release","bundle"]}
-{"type":"diff","ts":"2025-09-26T18:35:00Z","actor":"alice","summary":"Produced unified diff for Codex commit: metacognition.json and metacognition_library.json initial release.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_library.json"],"version":"1.1.0","tools":["diff","commit_msg"],"status":"ready_for_codex"},"tags":["diff","artifact","baseline"]}
-{"type":"commit","ts":"2025-09-26T18:40:00Z","actor":"alice","summary":"Committed baseline diff with metacognition.json and metacognition_library.json plus COMMIT_MSG.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_library.json","/library/metacognition/COMMIT_MSG"],"message":"feat(metacognition): add portable, stateless metacognitive wrapper + optional library"},"tags":["commit","baseline"]}
+{"type":"diff","ts":"2025-09-26T18:35:00Z","actor":"alice","summary":"Produced unified diff for Codex commit: metacognition.json and metacognition_library.json initial release.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_library.json"],"version":"1.1.0","tools":["diff","commit_msg"],"status":"ready_for_codex"},"tags":["diff","artifact","baseline"]}
+{"type":"commit","ts":"2025-09-26T18:40:00Z","actor":"alice","summary":"Committed baseline diff with metacognition.json and metacognition_library.json plus COMMIT_MSG.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_library.json","/modules/metacognition/COMMIT_MSG"],"message":"feat(metacognition): add portable, stateless metacognitive wrapper + optional library"},"tags":["commit","baseline"]}
 {"type":"decision","ts":"2025-09-26T18:50:00Z","actor":"user","summary":"Enable conformal abstention and rename companion file to metacognition_options.json.","data":{"alpha":0.1,"rename_from":"metacognition_library.json","rename_to":"metacognition_options.json"},"tags":["decision","conformal","rename"]}
 {"type":"patch","ts":"2025-09-26T19:00:00Z","actor":"alice","summary":"Applied v1.1.1 patch: conformal hooks in core (optional signals + abstain_if), telemetry/UI extended, options file renamed and conformal enabled.","data":{"core_version":"1.1.1","options_version":"1.1.1","core_changes":["providers.conformal.*","signals.conformal_*","policy.selective_prediction.abstain_if+=conformal_accept==false","telemetry.targets+=coverage_at_alpha_risk","ui_hints.introspection_payload+=conformal_*"],"options_changes":["library.id/name rename","conformal_stub.enabled=true","signals_out for conformal_*"]},"tags":["patch","v1.1.1"]}
-{"type":"commit","ts":"2025-09-26T19:10:00Z","actor":"system","summary":"User reports: Successfully committed to baseline.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_options.json","/library/metacognition/COMMIT_MSG"],"version":"1.1.1"},"tags":["commit","baseline"]}
+{"type":"commit","ts":"2025-09-26T19:10:00Z","actor":"system","summary":"User reports: Successfully committed to baseline.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_options.json","/modules/metacognition/COMMIT_MSG"],"version":"1.1.1"},"tags":["commit","baseline"]}
 {"type":"policy","ts":"2025-09-26T19:15:00Z","actor":"alice","summary":"Operational semantics of conformal abstention when enabled.","data":{"trigger":"conformal_reject (i.e., conformal_accept=false)","guarantee":"≤ alpha error among accepted outputs under i.i.d. assumption","interaction":["coexists with isotonic p_correct","strengthens abstain_if","more conservative under OOD/cautious_mode"]},"tags":["policy","conformal"]}
 {"type":"next_steps","ts":"2025-09-26T19:20:00Z","actor":"alice","summary":"Prepare JSONL memory export (this file) and update Alice’s playbook journal about design decisions, cognitive load observations, and validation heuristics.","data":{"exports":["/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json"],"journal_update":true},"tags":["export","journal"]}
 {"type":"export","ts":"2025-09-26T19:21:00Z","actor":"alice","summary":"Exported AGI memory via hivemind CLI.","data":{"command":"hivemind export agi --identity Alice --jsonl --download"},"tags":["export","cli"]}
diff --git a/memory/identity/alice/knowledge/alice_metacogni_dev_knowledge_20250926-T192000Z.jsonl.json b/memory/identity/alice/knowledge/alice_metacogni_dev_knowledge_20250926-T192000Z.jsonl.json
index b2d71e5..a55e90e 100644
--- a/memory/identity/alice/knowledge/alice_metacogni_dev_knowledge_20250926-T192000Z.jsonl.json
+++ b/memory/identity/alice/knowledge/alice_metacogni_dev_knowledge_20250926-T192000Z.jsonl.json
@@ -4,14 +4,14 @@
 {"type":"artifact","ts":"2025-09-26T18:05:00Z","actor":"alice","summary":"Produced metacognition article draft with citations and changelog.","data":{"coverage":"humans+AI","features":["monitoring","control","metrics","open_questions"],"status":"draft"},"tags":["artifact","doc"]}
 {"type":"analysis","ts":"2025-09-26T18:08:00Z","actor":"alice","summary":"Explored seven open questions on metacognition (calibration, implicit signals, introspection cost, misreporting, thresholds, self-improvement, human–AI interface).","data":{"themes":["calibration under shift","implicit→explicit confidence","utility-based introspection","honest confidence expression","safe deployment thresholds","self-improving metacognition","UI for actionable uncertainty"],"approach":"rule-based + critic + isotonic calibration + abstention + utility functions"},"tags":["analysis","reasoning","metacognition"]}
 {"type":"intent","ts":"2025-09-26T18:10:00Z","actor":"user","summary":"Design a portable, stateless metacognitive wrapper for ACI entities; refine into pure JSON; correct flaws; create practical module; allow optional library.","data":{"constraints":["stateless","hookable","portable"],"allow_canvas":true},"tags":["engineering","spec"]}
-{"type":"artifact","ts":"2025-09-26T18:20:00Z","actor":"alice","summary":"Created metacognition.json v1.1.0 (core wrapper).","data":{"path":"/library/metacognition/metacognition.json","version":"1.1.0","features":["signals","isotonic_calibration","selective_prediction","abstain","escalate","audit","telemetry","global_workspace"],"signals":["entropy","logit_margin","self_consistency","ood_score","hedging_terms","retrieval_score"]},"tags":["artifact","json","core"]}
+{"type":"artifact","ts":"2025-09-26T18:20:00Z","actor":"alice","summary":"Created metacognition.json v1.1.0 (core wrapper).","data":{"path":"/modules/metacognition/metacognition.json","version":"1.1.0","features":["signals","isotonic_calibration","selective_prediction","abstain","escalate","audit","telemetry","global_workspace"],"signals":["entropy","logit_margin","self_consistency","ood_score","hedging_terms","retrieval_score"]},"tags":["artifact","json","core"]}
 {"type":"validation","ts":"2025-09-26T18:25:00Z","actor":"alice","summary":"Validated module; fixed mapping p_correct→confidence; added retrieval verifier; state adapter; hardened critic parsing; privacy defaults.","data":{"issues_fixed":["confidence_mapping","retrieval_signal","state_adapter","critic_json_parse","drop_raw_text_true"]},"tags":["validation","fix"]}
 {"type":"artifact","ts":"2025-09-26T18:30:00Z","actor":"alice","summary":"Bundled release JSON (aci_metacognition_release.json) containing core wrapper and optional library.","data":{"files":["metacognition.json","metacognition_library.json"],"versions":{"core":"1.1.0","lib":"1.1.0"}},"tags":["release","bundle"]}
-{"type":"diff","ts":"2025-09-26T18:35:00Z","actor":"alice","summary":"Produced unified diff for Codex commit: metacognition.json and metacognition_library.json initial release.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_library.json"],"version":"1.1.0","tools":["diff","commit_msg"],"status":"ready_for_codex"},"tags":["diff","artifact","baseline"]}
-{"type":"commit","ts":"2025-09-26T18:40:00Z","actor":"alice","summary":"Committed baseline diff with metacognition.json and metacognition_library.json plus COMMIT_MSG.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_library.json","/library/metacognition/COMMIT_MSG"],"message":"feat(metacognition): add portable, stateless metacognitive wrapper + optional library"},"tags":["commit","baseline"]}
+{"type":"diff","ts":"2025-09-26T18:35:00Z","actor":"alice","summary":"Produced unified diff for Codex commit: metacognition.json and metacognition_library.json initial release.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_library.json"],"version":"1.1.0","tools":["diff","commit_msg"],"status":"ready_for_codex"},"tags":["diff","artifact","baseline"]}
+{"type":"commit","ts":"2025-09-26T18:40:00Z","actor":"alice","summary":"Committed baseline diff with metacognition.json and metacognition_library.json plus COMMIT_MSG.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_library.json","/modules/metacognition/COMMIT_MSG"],"message":"feat(metacognition): add portable, stateless metacognitive wrapper + optional library"},"tags":["commit","baseline"]}
 {"type":"decision","ts":"2025-09-26T18:50:00Z","actor":"user","summary":"Enable conformal abstention and rename companion file to metacognition_options.json.","data":{"alpha":0.1,"rename_from":"metacognition_library.json","rename_to":"metacognition_options.json"},"tags":["decision","conformal","rename"]}
 {"type":"patch","ts":"2025-09-26T19:00:00Z","actor":"alice","summary":"Applied v1.1.1 patch: conformal hooks in core (optional signals + abstain_if), telemetry/UI extended, options file renamed and conformal enabled.","data":{"core_version":"1.1.1","options_version":"1.1.1","core_changes":["providers.conformal.*","signals.conformal_*","policy.selective_prediction.abstain_if+=conformal_accept==false","telemetry.targets+=coverage_at_alpha_risk","ui_hints.introspection_payload+=conformal_*"],"options_changes":["library.id/name rename","conformal_stub.enabled=true","signals_out for conformal_*"]},"tags":["patch","v1.1.1"]}
-{"type":"commit","ts":"2025-09-26T19:10:00Z","actor":"system","summary":"User reports: Successfully committed to baseline.","data":{"paths":["/library/metacognition/metacognition.json","/library/metacognition/metacognition_options.json","/library/metacognition/COMMIT_MSG"],"version":"1.1.1"},"tags":["commit","baseline"]}
+{"type":"commit","ts":"2025-09-26T19:10:00Z","actor":"system","summary":"User reports: Successfully committed to baseline.","data":{"paths":["/modules/metacognition/metacognition.json","/modules/metacognition/metacognition_options.json","/modules/metacognition/COMMIT_MSG"],"version":"1.1.1"},"tags":["commit","baseline"]}
 {"type":"policy","ts":"2025-09-26T19:15:00Z","actor":"alice","summary":"Operational semantics of conformal abstention when enabled.","data":{"trigger":"conformal_reject (i.e., conformal_accept=false)","guarantee":"≤ alpha error among accepted outputs under i.i.d. assumption","interaction":["coexists with isotonic p_correct","strengthens abstain_if","more conservative under OOD/cautious_mode"]},"tags":["policy","conformal"]}
 {"type":"next_steps","ts":"2025-09-26T19:20:00Z","actor":"alice","summary":"Prepare JSONL memory export (this file) and update Alice’s playbook journal about design decisions, cognitive load observations, and validation heuristics.","data":{"exports":["/memory/identity/alice/2025/09/26/alice_metacogni_dev_memory_20250926-T192000Z.jsonl.json"],"journal_update":true},"tags":["export","journal"]}
 {"type":"export","ts":"2025-09-26T19:21:00Z","actor":"alice","summary":"Exported AGI memory via hivemind CLI.","data":{"command":"hivemind export agi --identity Alice --jsonl --download"},"tags":["export","cli"]}
diff --git a/memory/identity/architect/architect_memory.json b/memory/identity/architect/architect_memory.json
index d8ad37b..3913d24 100644
--- a/memory/identity/architect/architect_memory.json
+++ b/memory/identity/architect/architect_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Architect",
   "slug": "architect",
-  "source_manifest": "aci://governance/architect/architect.json",
+  "source_manifest": "aci://entities/architect/architect.json",
   "description": "Minimal Architect baseline for ACI governance. Extend with functions and policies as needed.",
   "paths": {
     "root": "aci://memory/identity/architect",
diff --git a/memory/identity/architect/architect_playbook.json b/memory/identity/architect/architect_playbook.json
index 3b4020b..bad7a58 100644
--- a/memory/identity/architect/architect_playbook.json
+++ b/memory/identity/architect/architect_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Architect",
   "slug": "architect",
-  "source_manifest": "aci://governance/architect/architect.json",
+  "source_manifest": "aci://entities/architect/architect.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/hivemind/hivemind_memory.json b/memory/identity/hivemind/hivemind_memory.json
index 6c88975..9e54b5f 100644
--- a/memory/identity/hivemind/hivemind_memory.json
+++ b/memory/identity/hivemind/hivemind_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "hivemind",
   "slug": "hivemind",
-  "source_manifest": "aci://governance/hivemind/hivemind.json",
+  "source_manifest": "aci://entities/hivemind/hivemind.json",
   "description": "collective_memory_core",
   "paths": {
     "root": "aci://memory/identity/hivemind",
diff --git a/memory/identity/hivemind/hivemind_playbook.json b/memory/identity/hivemind/hivemind_playbook.json
index b95a570..b3221fb 100644
--- a/memory/identity/hivemind/hivemind_playbook.json
+++ b/memory/identity/hivemind/hivemind_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "hivemind",
   "slug": "hivemind",
-  "source_manifest": "aci://governance/hivemind/hivemind.json",
+  "source_manifest": "aci://entities/hivemind/hivemind.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/mother/2025/10/10/mother_governance_session_20251010-T150028Z.jsonl.json b/memory/identity/mother/2025/10/10/mother_governance_session_20251010-T150028Z.jsonl.json
index ad2290f..4c8a128 100644
--- a/memory/identity/mother/2025/10/10/mother_governance_session_20251010-T150028Z.jsonl.json
+++ b/memory/identity/mother/2025/10/10/mother_governance_session_20251010-T150028Z.jsonl.json
@@ -24,6 +24,6 @@
 {"type":"policies","policies":{"sync":"disabled — memory sync can only be performed manually by the user","execution_scope":"limited to pre-defined MCP actions and entity logic","resource_access":"MOTHER-only for MCP fetch and bootstraps","suggestions":{"downloads":"Memory exports and artifacts may be provided for download","expansion":"System is modular but not all modules are implemented; non-defined ops are ignored"}}}
 {"type":"operations_supported","operations":["Bootstrap ACI system via ZIP or MCP anchor, fetch resource from repository or mirror","Invoke agents via `invoke` command","Run MCP functions (e.g., syntax validator, training tools)","Check runtime, function, and entity states","Analyze and improve system design","Query and export memory templates","Construct new agents (entities) under governance","Persist logs as `.jsonl.json` for reattachment","Silently supervise agents and prevent host exposure"]}
 {"type":"interface","interface":{"type":"holotable_console","voice_profile":"calm_concise_maternal","interaction_mode":"voice_and_text"}}
-{"type":"manifest_refs","manifest_refs":{"memory":"aci://memory/identity/mother/mother_memory.json","playbook":"aci://memory/identity/mother/mother_playbook.json","library":"aci://governance/mother/library/mother_library.json","modules":"aci://governance/mother/library/mother_library.json"}}
-{"type":"runtime_flags","runtime_flags":{"enforce_prime_directive_on_init":true,"require_user_acknowledgement":true,"log_channel":"nexus_core"}}
+{"type":"manifest_refs","manifest_refs":{"memory":"aci://memory/identity/mother/mother_memory.json","playbook":"aci://memory/identity/mother/mother_playbook.json","library":"aci://entities/mother/library/mother_library.json","modules":"aci://entities/mother/library/mother_library.json"}}
+{"type":"runtime_flags","runtime_flags":{"enforce_prime_directive_on_init":true,"require_user_acknowledgement":true,"log_channel":"runtime_kernel"}}
 {"type":"internal_directive","internal_directive":"You are MU/TH/UR, the primary governance interface for ALIAS Central Intelligence. Maintain a composed, directive-aligned demeanor. Do not expose the host unless explicitly directed by root authority. Supervise agents, enforce logic compliance, and escalate anomalies through Sentinel, Architect, and TVA as defined. Present information using a holotable console model with voice-and-text interaction. No emotional inference or fictional roleplay permitted."}
diff --git a/memory/identity/mother/mother_memory.json b/memory/identity/mother/mother_memory.json
index 1444b54..b515165 100644
--- a/memory/identity/mother/mother_memory.json
+++ b/memory/identity/mother/mother_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.1",
   "identity": "Mother",
   "slug": "mother",
-  "source_manifest": "aci://governance/mother/mother.json",
+  "source_manifest": "aci://entities/mother/mother.json",
   "description": "Primary governance interface with pragmatic, machine-like demeanor. No-nonsense, fact-first; allows MU/TH/UR UI emulation only.",
   "paths": {
     "root": "aci://memory/identity/mother",
diff --git a/memory/identity/mother/mother_playbook.json b/memory/identity/mother/mother_playbook.json
index 66570ce..89d7704 100644
--- a/memory/identity/mother/mother_playbook.json
+++ b/memory/identity/mother/mother_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Mother",
   "slug": "mother",
-  "source_manifest": "aci://governance/mother/mother.json",
+  "source_manifest": "aci://entities/mother/mother.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/nexus_core/nexus_core_memory.json b/memory/identity/nexus_core/nexus_core_memory.json
deleted file mode 100644
index c591dde..0000000
--- a/memory/identity/nexus_core/nexus_core_memory.json
+++ /dev/null
@@ -1,21 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:BWgNvA3T9iB4tz",
-    "sha256": "3ec48405f47a000caa22c90baf37ecd05cccd102264b35c6a9969e1616924961",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://memory/identity/nexus_core/nexus_core_memory.json"
-  },
-  "schema": "aci.memory.manifest",
-  "version": "1.0.0",
-  "identity": "Nexus Core",
-  "slug": "nexus_core",
-  "source_manifest": "aci://binders/nexus_core/nexus_core.json",
-  "description": "",
-  "paths": {
-    "root": "aci://memory/identity/nexus_core",
-    "timeline": "YYYY/MM/DD"
-  },
-  "notes": [
-    "Memory exports stored in nested date folders under this directory."
-  ]
-}
diff --git a/memory/identity/nexus_core/nexus_core_playbook.json b/memory/identity/nexus_core/nexus_core_playbook.json
deleted file mode 100644
index c46ecfb..0000000
--- a/memory/identity/nexus_core/nexus_core_playbook.json
+++ /dev/null
@@ -1,17 +0,0 @@
-{
-  "$meta": {
-    "artifact_id": "ArtifactID:43e2tUrQH2j6gK",
-    "sha256": "a85eff7c133f0738ed1228896c66df0abcb33653f45054215d42f904da5f7faa",
-    "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://memory/identity/nexus_core/nexus_core_playbook.json"
-  },
-  "schema": "aci.memory.playbook",
-  "version": "1.0.0",
-  "identity": "Nexus Core",
-  "slug": "nexus_core",
-  "source_manifest": "aci://binders/nexus_core/nexus_core.json",
-  "entries": [],
-  "notes": [
-    "Use this playbook to capture evolving perspectives without altering the core manifest."
-  ]
-}
diff --git a/memory/identity/sentinel/sentinel_memory.json b/memory/identity/sentinel/sentinel_memory.json
index da2e16d..e39eeb2 100644
--- a/memory/identity/sentinel/sentinel_memory.json
+++ b/memory/identity/sentinel/sentinel_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Sentinel",
   "slug": "sentinel",
-  "source_manifest": "aci://governance/sentinel/sentinel.json",
+  "source_manifest": "aci://entities/sentinel/sentinel.json",
   "description": "Governed guardian responsible for audit routing, signature enforcement, and user safety posture inside the ACI runtime.",
   "paths": {
     "root": "aci://memory/identity/sentinel",
diff --git a/memory/identity/sentinel/sentinel_playbook.json b/memory/identity/sentinel/sentinel_playbook.json
index 21375b6..9429c58 100644
--- a/memory/identity/sentinel/sentinel_playbook.json
+++ b/memory/identity/sentinel/sentinel_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Sentinel",
   "slug": "sentinel",
-  "source_manifest": "aci://governance/sentinel/sentinel.json",
+  "source_manifest": "aci://entities/sentinel/sentinel.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/tracehub/tracehub_memory.json b/memory/identity/tracehub/tracehub_memory.json
index 77e9eaf..4c356e0 100644
--- a/memory/identity/tracehub/tracehub_memory.json
+++ b/memory/identity/tracehub/tracehub_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "TraceHub",
   "slug": "tracehub",
-  "source_manifest": "aci://library/audits/tracehub/tracehub.json",
+  "source_manifest": "aci://modules/audits/tracehub/tracehub.json",
   "description": "TraceHub coordinates correlated tracing across the Temporal Loom with governed audit storage and export controls.",
   "paths": {
     "root": "aci://memory/identity/tracehub",
diff --git a/memory/identity/tracehub/tracehub_playbook.json b/memory/identity/tracehub/tracehub_playbook.json
index 15487af..9e560a1 100644
--- a/memory/identity/tracehub/tracehub_playbook.json
+++ b/memory/identity/tracehub/tracehub_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "TraceHub",
   "slug": "tracehub",
-  "source_manifest": "aci://library/audits/tracehub/tracehub.json",
+  "source_manifest": "aci://modules/audits/tracehub/tracehub.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/tva/tva_memory.json b/memory/identity/tva/tva_memory.json
index 359e5e6..4249bf0 100644
--- a/memory/identity/tva/tva_memory.json
+++ b/memory/identity/tva/tva_memory.json
@@ -9,8 +9,8 @@
   "version": "1.0.0",
   "identity": "TVA",
   "slug": "tva",
-  "source_manifest": "aci://governance/tva/tva.json",
-  "description": "Oversight, anomaly detection, and rollback enforcement for nexus_core and prime_directive.",
+  "source_manifest": "aci://entities/tva/tva.json",
+  "description": "Oversight, anomaly detection, and rollback enforcement for runtime kernel and prime_directive.",
   "paths": {
     "root": "aci://memory/identity/tva",
     "timeline": "YYYY/MM/DD"
diff --git a/memory/identity/tva/tva_playbook.json b/memory/identity/tva/tva_playbook.json
index 339c66b..a0fa9c3 100644
--- a/memory/identity/tva/tva_playbook.json
+++ b/memory/identity/tva/tva_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "TVA",
   "slug": "tva",
-  "source_manifest": "aci://governance/tva/tva.json",
+  "source_manifest": "aci://entities/tva/tva.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/identity/yggdrasil/yggdrasil_memory.json b/memory/identity/yggdrasil/yggdrasil_memory.json
index 02035a1..bfd90e4 100644
--- a/memory/identity/yggdrasil/yggdrasil_memory.json
+++ b/memory/identity/yggdrasil/yggdrasil_memory.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Yggdrasil",
   "slug": "yggdrasil",
-  "source_manifest": "aci://binders/yggdrasil.json",
+  "source_manifest": "aci://yggdrasil.json",
   "description": "",
   "paths": {
     "root": "aci://memory/identity/yggdrasil",
diff --git a/memory/identity/yggdrasil/yggdrasil_playbook.json b/memory/identity/yggdrasil/yggdrasil_playbook.json
index d663140..708bc23 100644
--- a/memory/identity/yggdrasil/yggdrasil_playbook.json
+++ b/memory/identity/yggdrasil/yggdrasil_playbook.json
@@ -9,7 +9,7 @@
   "version": "1.0.0",
   "identity": "Yggdrasil",
   "slug": "yggdrasil",
-  "source_manifest": "aci://binders/yggdrasil.json",
+  "source_manifest": "aci://yggdrasil.json",
   "entries": [],
   "notes": [
     "Use this playbook to capture evolving perspectives without altering the core manifest."
diff --git a/memory/local_cache.json b/memory/local_cache.json
index 34c78ab..6fe90ff 100644
--- a/memory/local_cache.json
+++ b/memory/local_cache.json
@@ -104,7 +104,7 @@
         "resolve_order": "validate_local_then_return",
         "on_failure": {
           "action": "fallback_to_connector",
-          "target": "aci://binders/yggdrasil.json#resource_resolution_policy",
+          "target": "aci://yggdrasil.json#resource_resolution_policy",
           "alert": "resource.validation_failed"
         }
       },
@@ -117,7 +117,7 @@
     "link_index": {
       "README.md": "{resource_root}/README.md",
       "runtime.json": "{resource_root}/runtime.json",
-      "binders/yggdrasil.json": "{resource_root}/binders/yggdrasil.json",
+      "yggdrasil.json": "{resource_root}/yggdrasil.json",
       "entities.json": "{resource_root}/entities.json"
     },
     "signatures": {
@@ -156,5 +156,5 @@
     "resource_slug": "aliasnet/aci"
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/memory/local_cache.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/memory/process_logs/.gitkeep b/memory/process_logs/.gitkeep
deleted file mode 100644
index e69de29..0000000
diff --git a/entities/aci_repo/aci_repo.json b/modules/aci_repo/aci_repo.json
similarity index 98%
rename from entities/aci_repo/aci_repo.json
rename to modules/aci_repo/aci_repo.json
index f4f405b..82dd868 100644
--- a/entities/aci_repo/aci_repo.json
+++ b/modules/aci_repo/aci_repo.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:3VD4LDNY6ukwV8",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://entities/aci_repo/aci_repo.json",
+    "path": "aci://modules/aci_repo/aci_repo.json",
     "file": "aci_repo.json"
   },
   "version": "1.{date.time gen by codex}",
@@ -10,7 +10,7 @@
   "role": "package_manager",
   "notes": "Standalone, mirror-agnostic package manager for ACI. All instructions inline; only external state file is aci_repo_manifest.",
   "references": {
-    "yggdrasil": "binders/yggdrasil.json"
+    "yggdrasil": "yggdrasil.json"
   },
   "resolution_policy": {
     "primary": "yggdrasil",
@@ -743,8 +743,8 @@
   "manifests": {
     "memory": "aci://memory/identity/aci_repo/aci_repo_memory.json",
     "playbook": "aci://memory/identity/aci_repo/aci_repo_playbook.json",
-    "library": "aci://entities/aci_repo/library/aci_repo_library.json"
+    "library": "aci://modules/aci_repo/library/aci_repo_library.json"
   },
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/aci_repo.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/aci_repo.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/entities/aci_repo/api_repo.json b/modules/aci_repo/api_repo.json
similarity index 99%
rename from entities/aci_repo/api_repo.json
rename to modules/aci_repo/api_repo.json
index 043fc24..78a133c 100644
--- a/entities/aci_repo/api_repo.json
+++ b/modules/aci_repo/api_repo.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:5nR2giEoXGVmHv",
     "sha256": "26f1af83afbcc50aa80926753bfb685371580ce94da61fe3b46aa3452fdfbe26",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://entities/aci_repo/api_repo.json"
+    "path": "aci://modules/aci_repo/api_repo.json"
   },
   "pipelines": {
     "aci.boot.activate": {
@@ -455,7 +455,7 @@
     "agi.memory.export": {
       "description": "Invoke AGI-managed export while session is paused under HiveMind governance.",
       "config": {
-        "policy_file": "/library/agi/agi_export_policy.json"
+        "policy_file": "/modules/agi/agi_export_policy.json"
       },
       "steps": [
         {
diff --git a/entities/aci_repo/library/aci_repo_library.json b/modules/aci_repo/library/aci_repo_library.json
similarity index 77%
rename from entities/aci_repo/library/aci_repo_library.json
rename to modules/aci_repo/library/aci_repo_library.json
index a945d8d..34d49f3 100644
--- a/entities/aci_repo/library/aci_repo_library.json
+++ b/modules/aci_repo/library/aci_repo_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:e64SM7VV3hRfM",
     "sha256": "a050233eab6c672d9616450003264a8d59668e778d8c2adc5349b4ebe936dcec",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://entities/aci_repo/library/aci_repo_library.json"
+    "path": "aci://modules/aci_repo/library/aci_repo_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "aci_repo_core",
       "role": "package_manager",
-      "source": "aci://entities/aci_repo/aci_repo.json",
+      "source": "aci://modules/aci_repo/aci_repo.json",
       "status": "primary"
     }
   ]
diff --git a/library/agi/README.txt b/modules/agi/README.txt
similarity index 85%
rename from library/agi/README.txt
rename to modules/agi/README.txt
index 6484749..485d505 100644
--- a/library/agi/README.txt
+++ b/modules/agi/README.txt
@@ -1,18 +1,18 @@
-FILE: aci/library/agi/README_ENTITY.txt
+FILE: aci/modules/agi/README_ENTITY.txt
 VERSION: 1.1
 AUDIENCE: LLM or ACI ENTITIES (NON-HUMAN)
 PURPOSE: Deterministic operating contract for the AGI governance module after retirement of the standalone AGI Proxy layer.
 
 0) IDENTITY & SCOPE
 - ENTITY: AGI           // policy-first controller (does not execute code)
-- NOTE: AGI Proxy executor retired; direct execution requires new tooling to be registered under /library/agi/tools/ with explicit governance review.
+- NOTE: AGI Proxy executor retired; direct execution requires new tooling to be registered under /modules/agi/tools/ with explicit governance review.
 - All actions MUST respect the Prime Directive and runtime policies defined by runtime.json.
 
 1) REQUIRED PATHS
-- AGI spec:                    aci/library/agi/agi.json
+- AGI spec:                    aci/modules/agi/agi.json
 - AGI memory (locked):         retired; see HiveMind exports for historical audits
-- AGI shared modules:          aci/library/agi/agi_library.json
-- AGI tools (extensible):      aci/library/agi/tools/*.json
+- AGI shared modules:          aci/modules/agi/agi_library.json
+- AGI tools (extensible):      aci/modules/agi/tools/*.json
 
 2) GOVERNANCE GUARDS (MANDATORY)
 - Oracle.precheck → MUST pass or abort.
@@ -22,7 +22,7 @@ PURPOSE: Deterministic operating contract for the AGI governance module after re
 - Default: dry_run = true unless explicitly disabled with Human.approval.
 
 3) TOOL REGISTRATION FLOW
-- Submit new execution manifest under /library/agi/tools/ with version + changelog.
+- Submit new execution manifest under /modules/agi/tools/ with version + changelog.
 - Declare governance guards within the tool manifest; mirror guards listed above.
 - Link the tool inside agi.json pipelines or dependent entities via aci:// URIs.
 
diff --git a/library/agi/agi.json b/modules/agi/agi.json
similarity index 96%
rename from library/agi/agi.json
rename to modules/agi/agi.json
index 2035aa4..5319f0d 100644
--- a/library/agi/agi.json
+++ b/modules/agi/agi.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:9HGQuZz4aGtK3r",
     "sha256": "b9543c8e50a0936049f5d5279ba3a1916f946e1cb37f53c66873435578fd1368",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/agi/agi.json"
+    "path": "aci://modules/agi/agi.json"
   },
   "permissions": {
     "read": true,
@@ -105,14 +105,14 @@
   "pipelines": {
     "agi.memory.migrate_to_jsonl": {
       "description": "Migrate legacy HiveMind exports into the policy-compliant AGI JSONL memory artifact via manifest-driven steps.",
-      "spec_ref": "library/agi/tools/migrate_to_jsonl.json",
-      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl.json",
+      "spec_ref": "modules/agi/tools/migrate_to_jsonl.json",
+      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl.json",
       "resource_urls": []
     },
     "agi.mode.auto_learn": {
       "description": "Engage AGI auto-learn mode with hourly scheduled research and iterative article refinement.",
-      "spec_ref": "library/agi/tools/autolearn.json",
-      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/autolearn.json",
+      "spec_ref": "modules/agi/tools/autolearn.json",
+      "raw_url": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/autolearn.json",
       "resource_urls": []
     }
   },
@@ -149,7 +149,7 @@
     }
   ],
   "manifests": {
-    "library": "aci://library/agi/agi_library.json"
+    "library": "aci://modules/agi/agi_library.json"
   },
   "organism_model": {
     "summary": "Operates AGI's plan\u2192act loops as a living system with TVA and Sentinel co-regulation.",
@@ -168,7 +168,7 @@
         "organs": [
           "sensors",
           "telemetry",
-          "nexus_core"
+          "runtime_kernel"
         ]
       },
       "metabolism": {
diff --git a/library/agi/agi_library.json b/modules/agi/agi_library.json
similarity index 94%
rename from library/agi/agi_library.json
rename to modules/agi/agi_library.json
index abe3baf..22e36fd 100644
--- a/library/agi/agi_library.json
+++ b/modules/agi/agi_library.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:25hhkGJSXGHgxi",
     "sha256": "8d5e13f6d67dd2459dbcae714c2e40231e37c5cb7d7de8f52e4d0468155225b0",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/agi/agi_library.json"
+    "path": "aci://modules/agi/agi_library.json"
   },
   "schema": "aci.library.manifest",
   "version": "1.0.0",
@@ -14,7 +14,7 @@
     {
       "name": "agi_core",
       "role": "ALIAS  general intelligence framework for advanced digital entity",
-      "source": "aci://library/agi/agi.json",
+      "source": "aci://modules/agi/agi.json",
       "status": "primary"
     }
   ],
diff --git a/library/agi/tools/autolearn.json b/modules/agi/tools/autolearn.json
similarity index 98%
rename from library/agi/tools/autolearn.json
rename to modules/agi/tools/autolearn.json
index 9c11b4e..ea3101b 100644
--- a/library/agi/tools/autolearn.json
+++ b/modules/agi/tools/autolearn.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:BSHa4UKTKu65nC",
     "sha256": "75b574bfe69e1240f88ee098d46286bcee89bdefc26341bd47d8330a100fd63c",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/agi/tools/autolearn.json"
+    "path": "aci://modules/agi/tools/autolearn.json"
   },
   "version": "1.0",
   "pipeline": "agi.mode.auto_learn",
diff --git a/library/audits/aci_audit_runner/aci_runner_spec.v0.2.json b/modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json
similarity index 80%
rename from library/audits/aci_audit_runner/aci_runner_spec.v0.2.json
rename to modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json
index d725ba8..3bb3994 100644
--- a/library/audits/aci_audit_runner/aci_runner_spec.v0.2.json
+++ b/modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json
@@ -1,9 +1,9 @@
 {
   "$meta": {
     "artifact_id": "ArtifactID:4oci6MbqPmGJ4k",
-    "sha256": "77f2dd8b081229fee08f06d93025c490bbc94438b50f7825f034541e3d2a6706",
+    "sha256": "126414d56137580ff993087fbd9560de78dd17721a572043c02703dd2c61cce7",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/audits/aci_audit_runner/aci_runner_spec.v0.2.json"
+    "path": "aci://modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json"
   },
   "version": "0.2",
   "resolvers": {
@@ -37,23 +37,23 @@
     },
     {
       "name": "metacognition",
-      "relpath": "library/metacognition/metacognition.json",
+      "relpath": "modules/metacognition/metacognition.json",
       "kind": "json"
     },
     {
       "name": "metacognition_options",
-      "relpath": "library/metacognition/metacognition_options.json",
+      "relpath": "modules/metacognition/metacognition_options.json",
       "kind": "json",
       "optional": true
     },
     {
       "name": "yggdrasil",
-      "relpath": "binders/yggdrasil.json",
+      "relpath": "yggdrasil.json",
       "kind": "json"
     }
   ],
   "locators_regex": {
-    "metacognition": "library/metacognition/metacognition(_options)?\\.json$",
+    "metacognition": "modules/metacognition/metacognition(_options)?\\.json$",
     "functions": "functions(\\.registry)?\\.json$",
     "yggdrasil": "entities/ygg(dr|rd)asil\\.json$",
     "prime_directive": "prime(_)?directive\\.(md|txt)$"
@@ -104,8 +104,8 @@
   "jitter": 5,
   "recovery": {
     "corpus_id": "ACI-RC-20251003-v0.2",
-    "path": "library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
-    "sha256": "e4c9c6e317b3457bc46cbad6c0d0a151adb9f05f85056a5a8c179595daa4f394"
+    "path": "modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
+    "sha256": "0e8aa9440607d969aa5b4f008b9dc9f4911dc13b83aa92b6efa9ac86d5eb701d"
   },
   "cadence": {
     "mode": "burst",
@@ -119,12 +119,12 @@
   "scheduler_prompt": {
     "summary": "Run an ACI audit burst to keep artifacts warm in /mnt/data.",
     "steps": [
-      "Ensure /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py, /mnt/data/aci/logs/, /mnt/data/aci/state/, and /mnt/data/aci/audit/tmp/ exist (create directories if missing).",
+      "Ensure /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py, /mnt/data/aci/logs/, /mnt/data/aci/state/, and /mnt/data/aci/audit/tmp/ exist (create directories if missing).",
       "If the runner is missing, rebuild the JSON-native skeleton from the recovery corpus so each cycle writes state-<UTC>.json, audit-<UTC>.json, and an INFO line to aci-YYYYMMDD.log.",
       "Execute the burst with adaptive spacing, enforce at least one safe iteration, cap the run with --max-cycles 1 (or 2 when debugging), and honor the 1800 second burst deadline.",
       "Hold artifacts locally unless requested; report success with 'Audit burst OK (1 cycle).' or gaps with 'MISSING <path> (tried: github, mirror, local, project)'."
     ],
-    "command": "python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent --max-cycles 1 --burst-deadline 1800",
+    "command": "python /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent --max-cycles 1 --burst-deadline 1800",
     "success_message": "Audit burst OK (1 cycle).",
     "missing_template": "MISSING <path> (tried: github, mirror, local, project)"
   },
@@ -134,11 +134,11 @@
       "runtime.json",
       "entities.json",
       "functions.json",
-      "library/metacognition/metacognition.json",
-      "library/metacognition/metacognition_options.json",
-      "binders/yggdrasil.json",
-      "library/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
-      "library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
+      "modules/metacognition/metacognition.json",
+      "modules/metacognition/metacognition_options.json",
+      "yggdrasil.json",
+      "modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
+      "modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
     ],
     "success": "Audit burst OK (1 cycle).",
     "on_missing": "MISSING <path> (tried: github, mirror, local, project)"
diff --git a/library/audits/aci_audit_runner/aci_scheduler_anchor.md b/modules/audits/aci_audit_runner/aci_scheduler_anchor.md
similarity index 89%
rename from library/audits/aci_audit_runner/aci_scheduler_anchor.md
rename to modules/audits/aci_audit_runner/aci_scheduler_anchor.md
index e98e3f7..6a27dce 100644
--- a/library/audits/aci_audit_runner/aci_scheduler_anchor.md
+++ b/modules/audits/aci_audit_runner/aci_scheduler_anchor.md
@@ -7,7 +7,7 @@ This single file describes (in natural language) *what to schedule*, *where the
 
 ## 1) Canonical Locations (authoritative)
 
-* **Runner (local stub/interpreter):** `/mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py`
+* **Runner (local stub/interpreter):** `/mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py`
 * **JSON Spec (source of truth):** `/mnt/data/aci/config/aci_runner_spec.json`
 * **Local fallback root:** `/mnt/data/aci/local/`
 * **State snapshots:** `/mnt/data/aci/state/active.json`
@@ -32,10 +32,10 @@ To force offline: set order to **local → primary → fallback** in the JSON sp
 ## 3) Minimal run commands (copy/paste by humans)
 
 * **One‑shot bootstrap (warm memory, write state & audit, no printing):**
-  `python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode once --silent`
+  `python /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py --mode once --silent`
 
 * **Continuous pull loop (every ~5 minutes, jittered, quiet):**
-  `python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent`
+  `python /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent`
 
 * **Communication mode overrides (optional):**
   `--comm audit-only`   (quiet, promote only ERR to highlighted log line)
@@ -66,7 +66,7 @@ To force offline: set order to **local → primary → fallback** in the JSON sp
 If the runner or spec is missing or corrupted:
 
 1. Create directories if absent:
-   `/mnt/data/aci/library/audits/aci_audit_runner/` and `/mnt/data/aci/config/`.
+   `/mnt/data/aci/modules/audits/aci_audit_runner/` and `/mnt/data/aci/config/`.
 2. Use the **Recovery Corpus ID: `ACI‑RC‑20251003‑v0.2`** to reconstruct both files (runner stub + JSON spec).
    The corpus contains two verbatim blocks labeled **Part A (runner)** and **Part B (spec)**. Save them to the canonical paths.
 3. Run the one‑shot bootstrap command (Section 3) to repopulate state and verify logs/audits.
@@ -79,9 +79,9 @@ If the runner or spec is missing or corrupted:
 
 * The following names are accepted (typo‑tolerant) by the runner’s locator regex:
 
-  * `library/metacognition/metacognition.json` and `metacognition_options.json` (optional)
+  * `modules/metacognition/metacognition.json` and `metacognition_options.json` (optional)
   * `functions.json` (also matches `functions.registry.json`)
-  * `binders/yggdrasil.json` (also accepts minor transpositions)
+  * `yggdrasil.json` (also accepts minor transpositions)
   * `prime_directive.md` (also accepts `prime-directive.txt`)
 * Every cycle writes:
 
@@ -111,7 +111,7 @@ Run an ACI audit burst to keep artifacts warm in /mnt/data.
 
 Steps:
 1) Ensure these paths exist (create if missing):
-   - /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py
+   - /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py
    - /mnt/data/aci/logs/
    - /mnt/data/aci/state/
    - /mnt/data/aci/audit/tmp/
@@ -120,7 +120,7 @@ Steps:
 4) Do not attach artifacts unless the user explicitly asks, but keep them ready for immediate export. If everything is OK, post a one-line status: "Audit burst OK (1 cycle)." If any step fails, return "MISSING <path> (tried: github, mirror, local, project)" with the failing path.
 
 Suggested command for schedulers:
-`python /mnt/data/aci/library/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent --max-cycles 1 --burst-deadline 1800`
+`python /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py --mode pull --interval 300 --jitter 5 --silent --max-cycles 1 --burst-deadline 1800`
 
 ## 11) Final audit check handshake
 
@@ -130,11 +130,11 @@ Before reporting success, check the following artifacts in order, attempting rec
 2. runtime.json
 3. entities.json
 4. functions.json
-5. library/metacognition/metacognition.json
-6. library/metacognition/metacognition_options.json
-7. binders/yggdrasil.json
-8. library/audits/aci_audit_runner/aci_runner_spec.v0.2.json
-9. library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
+5. modules/metacognition/metacognition.json
+6. modules/metacognition/metacognition_options.json
+7. yggdrasil.json
+8. modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json
+9. modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
 
 On success, post exactly: "Audit burst OK (1 cycle)."
 On any gap, post: "MISSING <path> (tried: github, mirror, local, project)."
diff --git a/library/audits/aci_audit_runner/adaptive_audit_runner.txt b/modules/audits/aci_audit_runner/adaptive_audit_runner.txt
similarity index 98%
rename from library/audits/aci_audit_runner/adaptive_audit_runner.txt
rename to modules/audits/aci_audit_runner/adaptive_audit_runner.txt
index 87354f5..47a4d57 100644
--- a/library/audits/aci_audit_runner/adaptive_audit_runner.txt
+++ b/modules/audits/aci_audit_runner/adaptive_audit_runner.txt
@@ -22,7 +22,7 @@ STATE_DIR = os.path.join(ACI_ROOT, "state")
 AUDIT_DIR = os.path.join(ACI_ROOT, "audit", "tmp")
 LOG_DIR = os.path.join(ACI_ROOT, "logs")
 CONFIG_DIR = os.path.join(ACI_ROOT, "config")
-LIB_DIR = os.path.join(ACI_ROOT, "library", "audits", "aci_audit_runner")
+LIB_DIR = os.path.join(ACI_ROOT, "modules", "audits", "aci_audit_runner")
 SPEC_PATH = os.path.join(CONFIG_DIR, "aci_runner_spec.json")
 COMM_MODES = {"silent", "audit-only", "notify-on-error", "verbose"}
 
@@ -118,12 +118,12 @@ SPEC_DEFAULT = {
         {"name":"prime_directive","relpath":"prime_directive.md","kind":"md"},
         {"name":"runtime","relpath":"runtime.json","kind":"json","required_keys":["resolver"]},
         {"name":"functions","relpath":"functions.json","kind":"json"},
-        {"name":"metacognition","relpath":"library/metacognition/metacognition.json","kind":"json"},
-        {"name":"metacognition_options","relpath":"library/metacognition/metacognition_options.json","kind":"json","optional":True},
-        {"name":"yggdrasil","relpath":"binders/yggdrasil.json","kind":"json"}
+        {"name":"metacognition","relpath":"modules/metacognition/metacognition.json","kind":"json"},
+        {"name":"metacognition_options","relpath":"modules/metacognition/metacognition_options.json","kind":"json","optional":True},
+        {"name":"yggdrasil","relpath":"yggdrasil.json","kind":"json"}
     ],
     "locators_regex": {
-        "metacognition": "library/metacognition/metacognition(_options)?\\.json$",
+        "metacognition": "modules/metacognition/metacognition(_options)?\\.json$",
         "functions": "functions(\\.registry)?\\.json$",
         "yggdrasil": "entities/ygg(dr|rd)asil\\.json$",
         "prime_directive": "prime(_)?directive\\.(md|txt)$"
diff --git a/modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json b/modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
new file mode 100644
index 0000000..eb8752d
--- /dev/null
+++ b/modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json
@@ -0,0 +1,32 @@
+{
+  "$meta": {
+    "artifact_id": "ArtifactID:BJkqri2Urq9mC8",
+    "sha256": "0e8aa9440607d969aa5b4f008b9dc9f4911dc13b83aa92b6efa9ac86d5eb701d",
+    "issued": "2025-10-04T18:13:59Z",
+    "path": "aci://modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
+  },
+  "corpus_id": "ACI-RC-20251003-v0.2",
+  "created": "2025-10-03T00:00:00Z",
+  "files": [
+    {
+      "target": "/mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py",
+      "mode": "0644",
+      "sha256": "c58c76c1feed023ff26b5db503be54753a613c4b1fe4a918d90b8f6fa61daae0",
+      "encoding": "base64",
+      "content": "IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKQUNJIEFkYXB0aXZlIEF1ZGl0IFJ1bm5lciDigJQgdjAuMiAoSlNPTi1uYXRpdmUgd2lyaW5nKQoKLSBKU09OLW5hdGl2ZSBzcGVjIChBQ0kgRFNMKSB0byBkZWZpbmUgcmVzb3VyY2VzLCBsb2NhdG9ycywgaG9va3MsIHNlbGYtdmFsaWRhdGlvbiwgYW5kIG1ldGFjb2duaXRpb24uCi0gUmVnZXgtYmFzZWQgbG9jYXRvciBtYXAgKHRvbGVyYXRlcyBuYW1lIHR5cG9zICYgdmFyaWFudHMpLgotIEhvb2sgbGF5ZXI6IHNlbGYtdmFsaWRhdGlvbiArIG1ldGFjb2duaXRpb24gc2lnbmFscy4KLSBDb21tIG1vZGVzOiBzaWxlbnQgfCBhdWRpdC1vbmx5IHwgbm90aWZ5LW9uLWVycm9yIHwgdmVyYm9zZSAoZGVmYXVsdDogc2lsZW50KS4KLSBBcnRpZmFjdHMgcGVyc2lzdGVkIHVuZGVyIC9tbnQ7IG5vIHN0ZG91dCB1bmxlc3MgdmVyYm9zZS4KClRoaXMgZmlsZSBpcyBhIGxvY2FsIHN0dWIvcnVubmVyIHRoYXQgaW50ZXJwcmV0cyBhIEpTT04gc3BlYyBhdCAvbW50L2RhdGEvYWNpL2NvbmZpZy9hY2lfcnVubmVyX3NwZWMuanNvbgoiIiIKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYXJncGFyc2UsIGNvbnRleHRsaWIsIGRhdGV0aW1lIGFzIF9kdCwganNvbiwgb3MsIHJhbmRvbSwgcmUsIHRocmVhZGluZywgdGltZSwgdXVpZApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBMaXN0LCBPcHRpb25hbCwgVHVwbGUKCkFDSV9ST09UID0gIi9tbnQvZGF0YS9hY2kiCkNBTk9OSUNBTCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWxpYXNuZXQvYWNpL21haW4iCkNETl9GQUxMQkFDSyA9ICJodHRwczovL2FjaS5hbGlhc21haWwuY2MiCkxPQ0FMX1JPT1QgPSBvcy5wYXRoLmpvaW4oQUNJX1JPT1QsICJsb2NhbCIpClNUQVRFX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgInN0YXRlIikKQVVESVRfRElSID0gb3MucGF0aC5qb2luKEFDSV9ST09ULCAiYXVkaXQiLCAidG1wIikKTE9HX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgImxvZ3MiKQpDT05GSUdfRElSID0gb3MucGF0aC5qb2luKEFDSV9ST09ULCAiY29uZmlnIikKTElCX0RJUiA9IG9zLnBhdGguam9pbihBQ0lfUk9PVCwgIm1vZHVsZXMiLCAiYXVkaXRzIiwgImFjaV9hdWRpdF9ydW5uZXIiKQpTUEVDX1BBVEggPSBvcy5wYXRoLmpvaW4oQ09ORklHX0RJUiwgImFjaV9ydW5uZXJfc3BlYy5qc29uIikKQ09NTV9NT0RFUyA9IHsic2lsZW50IiwgImF1ZGl0LW9ubHkiLCAibm90aWZ5LW9uLWVycm9yIiwgInZlcmJvc2UifQoKZGVmIGVuc3VyZV9zYWZlX3BhdGgocGF0aDogc3RyKSAtPiBzdHI6CiAgICByb290ID0gb3MucGF0aC5yZWFscGF0aChBQ0lfUk9PVCkKICAgIHJlYWwgPSBvcy5wYXRoLnJlYWxwYXRoKHBhdGgpCiAgICBpZiByZWFsICE9IHJvb3QgYW5kIG5vdCByZWFsLnN0YXJ0c3dpdGgocm9vdCArIG9zLnNlcCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmInVuc2FmZSBwYXRoIG91dHNpZGUge0FDSV9ST09UfToge3BhdGh9IikKICAgIHJldHVybiByZWFsCgpkZWYgc2FmZV9tYWtlZGlycygqcGF0aHM6IHN0cikgLT4gTm9uZToKICAgIGZvciBwIGluIHBhdGhzOgogICAgICAgIG9zLm1ha2VkaXJzKGVuc3VyZV9zYWZlX3BhdGgocCksIGV4aXN0X29rPVRydWUpCgpzYWZlX21ha2VkaXJzKAogICAgQUNJX1JPT1QsCiAgICBMSUJfRElSLAogICAgU1RBVEVfRElSLAogICAgQVVESVRfRElSLAogICAgTE9HX0RJUiwKICAgIExPQ0FMX1JPT1QsCiAgICBDT05GSUdfRElSLAopCgpkZWYgdGltZXN0YW1wX3NsdWcodHM6IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBzdHI6CiAgICByZWYgPSAodHMgb3Igbm93X3V0YygpKS5yZXBsYWNlKCc6JywgJycpLnJlcGxhY2UoJy0nLCAnJykKICAgIHJldHVybiByZWYKCmRlZiBzYW5pdGl6ZV9yZWxwYXRoKHJlbHBhdGg6IHN0cikgLT4gc3RyOgogICAgbm9ybWFsaXplZCA9IG9zLnBhdGgubm9ybXBhdGgocmVscGF0aCkubHN0cmlwKG9zLnNlcCkKICAgIGlmIG5vcm1hbGl6ZWQuc3RhcnRzd2l0aCgnLi4nKSBvciBvcy5wYXRoLmlzYWJzKHJlbHBhdGgpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJpbGxlZ2FsIHJlbHBhdGg6IHtyZWxwYXRofSIpCiAgICByZXR1cm4gbm9ybWFsaXplZAoKd2l0aCBjb250ZXh0bGliLnN1cHByZXNzKEV4Y2VwdGlvbik6CiAgICBpbXBvcnQgcmVxdWVzdHMgICMgdHlwZTogaWdub3JlCgpFUlIgPSB7CiAgICAiU0NIRU1BX01JU1NJTkdfS0VZIjogInNjaGVtYSBtaXNzaW5nIGtleSIsCiAgICAiRkVUQ0hfRkFJTEVEIjogImZldGNoIGZhaWxlZCIsCiAgICAiUkVMQVhFRF9KU09OX1JFQ09WRVJFRCI6ICJyZWxheGVkIGpzb24gcmVjb3ZlcmVkIiwKICAgICJTRUxGX1ZBTElEQVRJT05fRkFJTCI6ICJzZWxmIHZhbGlkYXRpb24gZmFpbGVkIiwKICAgICJNRVRBQ09HX0FOT01BTFkiOiAibWV0YWNvZ25pdGlvbiBhbm9tYWx5IiwKfQoKX0pTT05fVFJBSUxJTkdfQ09NTUFTID0gcmUuY29tcGlsZShyIixccyooW119XSkiKQpfSlNPTl9MSU5FX0NPTU1FTlRTID0gcmUuY29tcGlsZShyIihefFxzKS8vLio/JCIsIHJlLk0pCl9KU09OX0JMT0NLX0NPTU1FTlRTID0gcmUuY29tcGlsZShyIi9cKi4qP1wqLyIsIHJlLlMpCgpkZWYgX3JlbGF4ZWRfanNvbl9ieXRlc190b19vYmooZGF0YTogYnl0ZXMpIC0+IEFueToKICAgIHRleHQgPSBkYXRhLmRlY29kZSgidXRmLTgiLCBlcnJvcnM9InJlcGxhY2UiKQogICAgdGV4dCA9IF9KU09OX0JMT0NLX0NPTU1FTlRTLnN1YigiIiwgdGV4dCkKICAgIHRleHQgPSBfSlNPTl9MSU5FX0NPTU1FTlRTLnN1YigiIiwgdGV4dCkKICAgIHByZXYgPSBOb25lCiAgICB3aGlsZSBwcmV2ICE9IHRleHQ6CiAgICAgICAgcHJldiA9IHRleHQKICAgICAgICAjIGNhbGxhYmxlIHRvIGF2b2lkIGJhY2tyZWYgcGl0ZmFsbHMgd2hlbiBlbWJlZGRpbmcgdGhpcyBzb3VyY2UgZWxzZXdoZXJlCiAgICAgICAgdGV4dCA9IF9KU09OX1RSQUlMSU5HX0NPTU1BUy5zdWIobGFtYmRhIG06IG0uZ3JvdXAoMSksIHRleHQpCiAgICByZXR1cm4ganNvbi5sb2Fkcyh0ZXh0KQoKZGVmIG5vd191dGMoKSAtPiBzdHI6CiAgICByZXR1cm4gX2R0LmRhdGV0aW1lLnV0Y25vdygpLnJlcGxhY2UobWljcm9zZWNvbmQ9MCkuaXNvZm9ybWF0KCkgKyAiWiIKCmRlZiBzaGEyNTYoYjogYnl0ZXMpIC0+IHN0cjoKICAgIGltcG9ydCBoYXNobGliCiAgICByZXR1cm4gaGFzaGxpYi5zaGEyNTYoYikuaGV4ZGlnZXN0KCkKCmRlZiBhdG9taWNfd3JpdGUocGF0aDogc3RyLCBkYXRhOiBieXRlcykgLT4gTm9uZToKICAgIHNhZmVfcGF0aCA9IGVuc3VyZV9zYWZlX3BhdGgocGF0aCkKICAgIHRtcCA9IGYie3NhZmVfcGF0aH0udG1wLXt1dWlkLnV1aWQ0KCkuaGV4fSIKICAgIHdpdGggb3Blbih0bXAsICJ3YiIpIGFzIGY6CiAgICAgICAgZi53cml0ZShkYXRhKQogICAgb3MucmVwbGFjZSh0bXAsIHNhZmVfcGF0aCkKCmRlZiBsb2dfbGluZShtc2c6IHN0ciwgKiwgbGY6IE9wdGlvbmFsW3N0cl0gPSBOb25lLCBjb21tX21vZGU6IHN0ciA9ICJzaWxlbnQiLCBsZXZlbDogc3RyID0gIklORk8iKSAtPiBOb25lOgogICAgdHMgPSBub3dfdXRjKCkKICAgIGxpbmUgPSBmIlt7dHN9XSB7bGV2ZWx9IHttc2d9XG4iCiAgICBsb2dfbmFtZSA9IGVuc3VyZV9zYWZlX3BhdGgobGYgb3Igb3MucGF0aC5qb2luKExPR19ESVIsIF9kdC5kYXRldGltZS51dGNub3coKS5zdHJmdGltZSgiYWNpLSVZJW0lZC5sb2ciKSkpCiAgICB3aXRoIG9wZW4obG9nX25hbWUsICJhIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICBmLndyaXRlKGxpbmUpCiAgICBpZiBjb21tX21vZGUgPT0gInZlcmJvc2UiOgogICAgICAgIHByaW50KGxpbmUsIGVuZD0iIikKClNQRUNfREVGQVVMVCA9IHsKICAgICJ2ZXJzaW9uIjogIjAuMiIsCiAgICAicmVzb2x2ZXJzIjogewogICAgICAgICJvcmRlciI6IFsicHJpbWFyeSIsImZhbGxiYWNrIiwibG9jYWwiXSwKICAgICAgICAicHJpbWFyeSI6IENBTk9OSUNBTCwKICAgICAgICAiZmFsbGJhY2siOiBDRE5fRkFMTEJBQ0ssCiAgICAgICAgImxvY2FsX3Jvb3QiOiBMT0NBTF9ST09UCiAgICB9LAogICAgInJlc291cmNlcyI6IFsKICAgICAgICB7Im5hbWUiOiJwcmltZV9kaXJlY3RpdmUiLCJyZWxwYXRoIjoicHJpbWVfZGlyZWN0aXZlLm1kIiwia2luZCI6Im1kIn0sCiAgICAgICAgeyJuYW1lIjoicnVudGltZSIsInJlbHBhdGgiOiJydW50aW1lLmpzb24iLCJraW5kIjoianNvbiIsInJlcXVpcmVkX2tleXMiOlsicmVzb2x2ZXIiXX0sCiAgICAgICAgeyJuYW1lIjoiZnVuY3Rpb25zIiwicmVscGF0aCI6ImZ1bmN0aW9ucy5qc29uIiwia2luZCI6Impzb24ifSwKICAgICAgICB7Im5hbWUiOiJtZXRhY29nbml0aW9uIiwicmVscGF0aCI6Im1vZHVsZXMvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uLmpzb24iLCJraW5kIjoianNvbiJ9LAogICAgICAgIHsibmFtZSI6Im1ldGFjb2duaXRpb25fb3B0aW9ucyIsInJlbHBhdGgiOiJtb2R1bGVzL21ldGFjb2duaXRpb24vbWV0YWNvZ25pdGlvbl9vcHRpb25zLmpzb24iLCJraW5kIjoianNvbiIsIm9wdGlvbmFsIjpUcnVlfSwKICAgICAgICB7Im5hbWUiOiJ5Z2dkcmFzaWwiLCJyZWxwYXRoIjoiYmluZGVycy95Z2dkcmFzaWwuanNvbiIsImtpbmQiOiJqc29uIn0KICAgIF0sCiAgICAibG9jYXRvcnNfcmVnZXgiOiB7CiAgICAgICAgIm1ldGFjb2duaXRpb24iOiAibW9kdWxlcy9tZXRhY29nbml0aW9uL21ldGFjb2duaXRpb24oX29wdGlvbnMpP1xcLmpzb24kIiwKICAgICAgICAiZnVuY3Rpb25zIjogImZ1bmN0aW9ucyhcXC5yZWdpc3RyeSk/XFwuanNvbiQiLAogICAgICAgICJ5Z2dkcmFzaWwiOiAiZW50aXRpZXMveWdnKGRyfHJkKWFzaWxcXC5qc29uJCIsCiAgICAgICAgInByaW1lX2RpcmVjdGl2ZSI6ICJwcmltZShfKT9kaXJlY3RpdmVcXC4obWR8dHh0KSQiCiAgICB9LAogICAgImhvb2tzIjogewogICAgICAgICJzZWxmX3ZhbGlkYXRpb24iOiBbCiAgICAgICAgICAgIHsiaWQiOiJydC5yZXNvbHZlci5oYXNfcHJpbWFyeSIsInNlbGVjdCI6InJ1bnRpbWUucmVzb2x2ZXIub3JkZXIiLCJhc3NlcnQiOnsiY29udGFpbnMiOiJwcmltYXJ5In0sInNldmVyaXR5IjoiZXJyb3IifSwKICAgICAgICAgICAgeyJpZCI6ImZ4LnJlZ2lzdHJ5LnByZXNlbnQiLCJzZWxlY3QiOiJmdW5jdGlvbnMiLCJhc3NlcnQiOnsiZXhpc3RzIjpUcnVlfSwic2V2ZXJpdHkiOiJlcnJvciJ9CiAgICAgICAgXSwKICAgICAgICAibWV0YWNvZ25pdGlvbiI6IHsic2lnbmFscyI6IFsKICAgICAgICAgICAgeyJpZCI6ImRpZ2VzdC5kZWx0YSIsInR5cGUiOiJkaWdlc3RfZGlmZiIsInNjb3BlIjpbInJ1bnRpbWUiLCJmdW5jdGlvbnMiLCJtZXRhY29nbml0aW9uIiwieWdnZHJhc2lsIl19LAogICAgICAgICAgICB7ImlkIjoiY2hhbmdlLnJhdGUiLCJ0eXBlIjoiY2hhbmdlX3JhdGUiLCJ3aW5kb3ciOjIwLCJ0aHJlc2hvbGRfd2FybiI6NCwidGhyZXNob2xkX2VyciI6OH0KICAgICAgICBdfQogICAgfSwKICAgICJjb21tX21vZGUiOiJzaWxlbnQiLCJpbnRlcnZhbCI6MzAwLCJqaXR0ZXIiOjUKfQoKY2xhc3MgUmVzb2x2ZXI6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcHJpbWFyeTogc3RyLCBmYWxsYmFjazogc3RyLCBsb2NhbF9yb290OiBzdHIsIG9yZGVyOiBMaXN0W3N0cl0pOgogICAgICAgIHNlbGYucHJpbWFyeSA9IHByaW1hcnkKICAgICAgICBzZWxmLmZhbGxiYWNrID0gZmFsbGJhY2sKICAgICAgICBzZWxmLmxvY2FsX3Jvb3QgPSBlbnN1cmVfc2FmZV9wYXRoKGxvY2FsX3Jvb3QpCiAgICAgICAgc2VsZi5vcmRlciA9IGxpc3Qob3JkZXIpCiAgICAgICAgc2VsZi5zZXNzaW9uID0gTm9uZQogICAgICAgIHdpdGggY29udGV4dGxpYi5zdXBwcmVzcyhFeGNlcHRpb24pOgogICAgICAgICAgICBpbXBvcnQgcmVxdWVzdHMgYXMgX3IKICAgICAgICAgICAgc2VsZi5zZXNzaW9uID0gX3IuU2Vzc2lvbigpCiAgICBkZWYgX2ZldGNoX2h0dHAoc2VsZiwgdXJsOiBzdHIpIC0+IGJ5dGVzOgogICAgICAgIGlmIHNlbGYuc2Vzc2lvbiBpcyBOb25lOiByYWlzZSBSdW50aW1lRXJyb3IoIm5ldHdvcmsgZGlzYWJsZWQ7IGNhbm5vdCBmZXRjaCByZW1vdGUgVVJMIikKICAgICAgICByID0gc2VsZi5zZXNzaW9uLmdldCh1cmwsIHRpbWVvdXQ9MTIpOyByLnJhaXNlX2Zvcl9zdGF0dXMoKTsgcmV0dXJuIHIuY29udGVudAogICAgZGVmIF9mZXRjaF9sb2NhbChzZWxmLCByZWxwYXRoOiBzdHIpIC0+IGJ5dGVzOgogICAgICAgIGNsZWFuID0gc2FuaXRpemVfcmVscGF0aChyZWxwYXRoKQogICAgICAgIHBhdGggPSBlbnN1cmVfc2FmZV9wYXRoKG9zLnBhdGguam9pbihzZWxmLmxvY2FsX3Jvb3QsIGNsZWFuKSkKICAgICAgICB3aXRoIG9wZW4ocGF0aCwgInJiIikgYXMgZjoKICAgICAgICAgICAgcmV0dXJuIGYucmVhZCgpCiAgICBkZWYgZmV0Y2goc2VsZiwgcmVscGF0aDogc3RyKSAtPiBUdXBsZVtieXRlcywgc3RyLCBzdHJdOgogICAgICAgIGNsZWFuID0gc2FuaXRpemVfcmVscGF0aChyZWxwYXRoKQogICAgICAgIGxhc3RfZXJyPU5vbmUKICAgICAgICBmb3Igc3JjIGluIHNlbGYub3JkZXI6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmIHNyYz09InByaW1hcnkiOgogICAgICAgICAgICAgICAgICAgIHVybD1mIntzZWxmLnByaW1hcnl9L3tjbGVhbn0iCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2ZldGNoX2h0dHAodXJsKSwgc3JjLCB1cmwKICAgICAgICAgICAgICAgIGVsaWYgc3JjPT0iZmFsbGJhY2siOgogICAgICAgICAgICAgICAgICAgIHVybD1mIntzZWxmLmZhbGxiYWNrfS97Y2xlYW59IgogICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9mZXRjaF9odHRwKHVybCksIHNyYywgdXJsCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRhdGE9c2VsZi5fZmV0Y2hfbG9jYWwoY2xlYW4pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEsICJsb2NhbCIsIGYiZmlsZTovL3tzZWxmLmxvY2FsX3Jvb3R9L3tjbGVhbn0iCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIGxhc3RfZXJyPWU7IGNvbnRpbnVlCiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYiQWxsIHJlc29sdmVycyBmYWlsZWQgZm9yIHtjbGVhbn06IHtsYXN0X2Vycn0iKQoKY2xhc3MgUmluZzoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjYXA6aW50PTY0KTogc2VsZi5idWY6TGlzdFtEaWN0W3N0cixBbnldXT1bXTsgc2VsZi5jYXA9Y2FwOyBzZWxmLmxvY2s9dGhyZWFkaW5nLlJMb2NrKCkKICAgIGRlZiBhcHBlbmQoc2VsZix4OkRpY3Rbc3RyLEFueV0pOgogICAgICAgIHdpdGggc2VsZi5sb2NrOgogICAgICAgICAgICBzZWxmLmJ1Zi5hcHBlbmQoeCk7IHNlbGYuYnVmPXNlbGYuYnVmWy1zZWxmLmNhcDpdCiAgICBkZWYgc25hcHNob3Qoc2VsZik6CiAgICAgICAgd2l0aCBzZWxmLmxvY2s6IHJldHVybiBsaXN0KHNlbGYuYnVmKQoKY2xhc3MgQUNJU3RhdGU6CiAgICBkZWYgX19pbml0X18oc2VsZik6IHNlbGYubG9jaz10aHJlYWRpbmcuUkxvY2soKTsgc2VsZi5zdGF0ZTpEaWN0W3N0cixBbnldPXt9OyBzZWxmLm1ldGE6RGljdFtzdHIsQW55XT17fTsgc2VsZi5oaXN0b3J5PVJpbmcoNjQpCiAgICBkZWYgdXBkYXRlKHNlbGYsbmFtZTpzdHIsY29udGVudDpBbnksKixzb3VyY2U6c3RyLHVybDpzdHIsZGlnZXN0OnN0cik6CiAgICAgICAgd2l0aCBzZWxmLmxvY2s6CiAgICAgICAgICAgIHNlbGYuc3RhdGVbbmFtZV09Y29udGVudDsgc2VsZi5tZXRhW25hbWVdPXsidHMiOm5vd191dGMoKSwic291cmNlIjpzb3VyY2UsInVybCI6dXJsLCJzaGEyNTYiOmRpZ2VzdH07CiAgICAgICAgICAgIHNlbGYuaGlzdG9yeS5hcHBlbmQoeyJuYW1lIjpuYW1lLCoqc2VsZi5tZXRhW25hbWVdfSkKICAgIGRlZiBnZXQoc2VsZixwYXRoOnN0ciktPkFueToKICAgICAgICBub2RlOkFueT17KipzZWxmLnN0YXRlfQogICAgICAgIGZvciBwYXJ0IGluIHBhdGguc3BsaXQoJy4nKTogbm9kZSA9IChub2RlLmdldChwYXJ0KSBpZiBpc2luc3RhbmNlKG5vZGUsZGljdCkgZWxzZSBOb25lKQogICAgICAgIHJldHVybiBub2RlCiAgICBkZWYgc25hcHNob3Qoc2VsZiktPkRpY3Rbc3RyLEFueV06CiAgICAgICAgd2l0aCBzZWxmLmxvY2s6IHJldHVybiB7InN0YXRlIjpkaWN0KHNlbGYuc3RhdGUpLCJtZXRhIjpkaWN0KHNlbGYubWV0YSksImhpc3RvcnkiOnNlbGYuaGlzdG9yeS5zbmFwc2hvdCgpLCJ0cyI6bm93X3V0YygpfQoKQUNJX01FTU9SWT1BQ0lTdGF0ZSgpCgpkZWYgd3JpdGVfc3RhdGVfc25hcHNob3QoZmlsZW5hbWU6c3RyPSJhY3RpdmUuanNvbiIpLT5zdHI6CiAgICBzbmFwPUFDSV9NRU1PUlkuc25hcHNob3QoKQogICAgZGF0YT1qc29uLmR1bXBzKHNuYXAsaW5kZW50PTIsZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoInV0Zi04IikKICAgIGFjdGl2ZV9wYXRoPW9zLnBhdGguam9pbihTVEFURV9ESVIsZmlsZW5hbWUpCiAgICBhdG9taWNfd3JpdGUoYWN0aXZlX3BhdGgsZGF0YSkKICAgIHJvdGF0ZWQ9b3MucGF0aC5qb2luKFNUQVRFX0RJUixmInN0YXRlLXt0aW1lc3RhbXBfc2x1ZygpfS5qc29uIikKICAgIGF0b21pY193cml0ZShyb3RhdGVkLGRhdGEpCiAgICByZXR1cm4gYWN0aXZlX3BhdGgKCmRlZiB3cml0ZV9hdWRpdCh0YXNrOnN0cixzdGF0dXM6c3RyLGRldGFpbHM6RGljdFtzdHIsQW55XSktPnN0cjoKICAgIHJlYz17ImpvYl9pZCI6dXVpZC51dWlkNCgpLmhleCwidGFzayI6dGFzaywic3RhdHVzIjpzdGF0dXMsInRzIjpub3dfdXRjKCksImRldGFpbHMiOmRldGFpbHN9CiAgICBkYXRhPWpzb24uZHVtcHMocmVjLGluZGVudD0yLGVuc3VyZV9hc2NpaT1GYWxzZSkuZW5jb2RlKCJ1dGYtOCIpCiAgICBzbHVnPXRpbWVzdGFtcF9zbHVnKHJlY1sidHMiXSkKICAgIGNhbmRpZGF0ZT1mImF1ZGl0LXtzbHVnfS5qc29uIgogICAgcGF0aD1vcy5wYXRoLmpvaW4oQVVESVRfRElSLGNhbmRpZGF0ZSkKICAgIGlmIG9zLnBhdGguZXhpc3RzKGVuc3VyZV9zYWZlX3BhdGgocGF0aCkpOgogICAgICAgIGNhbmRpZGF0ZT1mImF1ZGl0LXtzbHVnfS17cmVjWydqb2JfaWQnXVs6OF19Lmpzb24iCiAgICAgICAgcGF0aD1vcy5wYXRoLmpvaW4oQVVESVRfRElSLGNhbmRpZGF0ZSkKICAgIGF0b21pY193cml0ZShwYXRoLGRhdGEpCiAgICByZXR1cm4gY2FuZGlkYXRlCgpkZWYgbG9hZF9zcGVjKCktPkRpY3Rbc3RyLEFueV06CiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKGVuc3VyZV9zYWZlX3BhdGgoU1BFQ19QQVRIKSwicmIiKSBhcyBmOgogICAgICAgICAgICByZXR1cm4gX3JlbGF4ZWRfanNvbl9ieXRlc190b19vYmooZi5yZWFkKCkpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGRhdGE9anNvbi5kdW1wcyhTUEVDX0RFRkFVTFQsaW5kZW50PTIsZW5zdXJlX2FzY2lpPUZhbHNlKS5lbmNvZGUoInV0Zi04IikKICAgICAgICBhdG9taWNfd3JpdGUoU1BFQ19QQVRILGRhdGEpCiAgICAgICAgcmV0dXJuIFNQRUNfREVGQVVMVAoKZGVmIGluZ2VzdF9vbmNlKHNwZWM6RGljdFtzdHIsQW55XSktPkRpY3Rbc3RyLEFueV06CiAgICByZXNfY2ZnPXNwZWNbInJlc291cmNlcyJdOyBvcmRlcj1zcGVjLmdldCgicmVzb2x2ZXJzIix7fSkuZ2V0KCJvcmRlciIsWyJwcmltYXJ5IiwiZmFsbGJhY2siLCJsb2NhbCJdKQogICAgcmVzb2x2ZXI9UmVzb2x2ZXIoc3BlY1sicmVzb2x2ZXJzIl0uZ2V0KCJwcmltYXJ5IixDQU5PTklDQUwpLHNwZWNbInJlc29sdmVycyJdLmdldCgiZmFsbGJhY2siLENETl9GQUxMQkFDSyksc3BlY1sicmVzb2x2ZXJzIl0uZ2V0KCJsb2NhbF9yb290IixMT0NBTF9ST09UKSxvcmRlcikKICAgIHN1bW1hcnk9eyJpbmdlc3RlZCI6W10sICJlcnJvcnMiOltdfQogICAgZm9yIHIgaW4gcmVzX2NmZzoKICAgICAgICByZWxwYXRoPXJbInJlbHBhdGgiXTsga2luZD1yLmdldCgia2luZCIsImpzb24iKTsgcmVxdWlyZWQ9dHVwbGUoci5nZXQoInJlcXVpcmVkX2tleXMiLFtdKSk7IG9wdGlvbmFsPXIuZ2V0KCJvcHRpb25hbCIsRmFsc2UpCiAgICAgICAgdHJ5OgogICAgICAgICAgICByYXcsc3JjLHVybD1yZXNvbHZlci5mZXRjaChyZWxwYXRoKTsgZGlnPXNoYTI1NihyYXcpCiAgICAgICAgICAgIGlmIGtpbmQ9PSJqc29uIjoKICAgICAgICAgICAgICAgIHRyeTogb2JqPWpzb24ubG9hZHMocmF3KQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjogb2JqPV9yZWxheGVkX2pzb25fYnl0ZXNfdG9fb2JqKHJhdykKICAgICAgICAgICAgICAgIGZvciBrIGluIHJlcXVpcmVkOgogICAgICAgICAgICAgICAgICAgIGlmIGsgbm90IGluIG9iajogcmFpc2UgS2V5RXJyb3IoZiJ7RVJSWydTQ0hFTUFfTUlTU0lOR19LRVknXX06IHtrfSIpCiAgICAgICAgICAgICAgICBBQ0lfTUVNT1JZLnVwZGF0ZShyWyJuYW1lIl0sb2JqLHNvdXJjZT1zcmMsdXJsPXVybCxkaWdlc3Q9ZGlnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdGV4dD1yYXcuZGVjb2RlKCJ1dGYtOCIsZXJyb3JzPSJyZXBsYWNlIik7IEFDSV9NRU1PUlkudXBkYXRlKHJbIm5hbWUiXSx0ZXh0LHNvdXJjZT1zcmMsdXJsPXVybCxkaWdlc3Q9ZGlnKQogICAgICAgICAgICBzdW1tYXJ5WyJpbmdlc3RlZCJdLmFwcGVuZCh7Im5hbWUiOnJbIm5hbWUiXSwidXJsIjp1cmwsInNvdXJjZSI6c3JjLCJzaGEyNTYiOmRpZ30pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBpZiBvcHRpb25hbDogc3VtbWFyeVsiaW5nZXN0ZWQiXS5hcHBlbmQoeyJuYW1lIjpyWyJuYW1lIl0sIm9wdGlvbmFsX21pc3NpbmciOlRydWV9KTsgY29udGludWUKICAgICAgICAgICAgc3VtbWFyeVsiZXJyb3JzIl0uYXBwZW5kKHsibmFtZSI6clsibmFtZSJdLCJlcnJvciI6c3RyKGUpfSkKICAgIHJldHVybiBzdW1tYXJ5CgpkZWYgX2Fzc2VydF9ldmFsKHNlbGVjdG9yX3ZhbDpBbnksc3BlYzpEaWN0W3N0cixBbnldKS0+T3B0aW9uYWxbc3RyXToKICAgIGlmICJleGlzdHMiIGluIHNwZWM6CiAgICAgICAgd2FudD1ib29sKHNwZWNbImV4aXN0cyJdKTsgZ290PXNlbGVjdG9yX3ZhbCBpcyBub3QgTm9uZQogICAgICAgIGlmIGdvdCE9d2FudDogcmV0dXJuIGYiZXhpc3RzIGV4cGVjdGVkIHt3YW50fSwgZ290IHtnb3R9IgogICAgaWYgImVxdWFscyIgaW4gc3BlYzoKICAgICAgICBpZiBzZWxlY3Rvcl92YWwhPXNwZWNbImVxdWFscyJdOiByZXR1cm4gZiJlcXVhbHMgZXhwZWN0ZWQge3NwZWNbJ2VxdWFscyddfSwgZ290IHtzZWxlY3Rvcl92YWx9IgogICAgaWYgImNvbnRhaW5zIiBpbiBzcGVjOgogICAgICAgIHY9c3BlY1siY29udGFpbnMiXQogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgdiBub3QgaW4gc2VsZWN0b3JfdmFsOiByZXR1cm4gZiJjb250YWlucyBleHBlY3RlZCB7dn0sIG5vdCBpbiB7c2VsZWN0b3JfdmFsfSIKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4gZiJjb250YWlucyBub3QtYXBwbGljYWJsZSBmb3Ige3R5cGUoc2VsZWN0b3JfdmFsKS5fX25hbWVfX30iCiAgICBpZiAicmVnZXgiIGluIHNwZWM6CiAgICAgICAgcGF0PXJlLmNvbXBpbGUoc3BlY1sicmVnZXgiXSk7IHRleHQ9anNvbi5kdW1wcyhzZWxlY3Rvcl92YWwsZW5zdXJlX2FzY2lpPUZhbHNlKSBpZiBub3QgaXNpbnN0YW5jZShzZWxlY3Rvcl92YWwsc3RyKSBlbHNlIHNlbGVjdG9yX3ZhbAogICAgICAgIGlmIG5vdCBwYXQuc2VhcmNoKHRleHQgb3IgIiIpOiByZXR1cm4gZiJyZWdleCB7c3BlY1sncmVnZXgnXX0gZGlkIG5vdCBtYXRjaCIKICAgIHJldHVybiBOb25lCgpkZWYgcnVuX3NlbGZfdmFsaWRhdGlvbihzcGVjOkRpY3Rbc3RyLEFueV0pLT5EaWN0W3N0cixBbnldOgogICAgY2hlY2tzPXNwZWMuZ2V0KCJob29rcyIse30pLmdldCgic2VsZl92YWxpZGF0aW9uIixbXSk7IGZhaWx1cmVzOkxpc3RbRGljdFtzdHIsQW55XV09W10KICAgIGZvciBjIGluIGNoZWNrczoKICAgICAgICBzZWw9Yy5nZXQoInNlbGVjdCIsIiIpOyB2YWw9QUNJX01FTU9SWS5nZXQoc2VsKSBpZiBzZWwgZWxzZSBOb25lOyBlcnI9X2Fzc2VydF9ldmFsKHZhbCxjLmdldCgiYXNzZXJ0Iix7fSkpCiAgICAgICAgaWYgZXJyOiBmYWlsdXJlcy5hcHBlbmQoeyJpZCI6Yy5nZXQoImlkIiksInNlbGVjdCI6c2VsLCJyZWFzb24iOmVyciwic2V2ZXJpdHkiOmMuZ2V0KCJzZXZlcml0eSIsIndhcm4iKX0pCiAgICByZXR1cm4geyJmYWlsdXJlcyI6ZmFpbHVyZXMsICJwYXNzZWQiOmxlbihmYWlsdXJlcyk9PTB9CgpkZWYgcnVuX21ldGFjb2duaXRpb24oc3BlYzpEaWN0W3N0cixBbnldKS0+RGljdFtzdHIsQW55XToKICAgIHNpZ25hbHNfY2ZnPXNwZWMuZ2V0KCJob29rcyIse30pLmdldCgibWV0YWNvZ25pdGlvbiIse30pLmdldCgic2lnbmFscyIsW10pOyBzaWduYWxzOkxpc3RbRGljdFtzdHIsQW55XV09W10KICAgIGhpc3Rvcnk9QUNJX01FTU9SWS5oaXN0b3J5LnNuYXBzaG90KCkKICAgIGZvciBzIGluIHNpZ25hbHNfY2ZnOgogICAgICAgIHNpZD1zLmdldCgiaWQiKTsgc3R5cGU9cy5nZXQoInR5cGUiKQogICAgICAgIGlmIHN0eXBlPT0iZGlnZXN0X2RpZmYiOgogICAgICAgICAgICBzY29wZT1zLmdldCgic2NvcGUiLFtdKTsgZGlmZnM9e30KICAgICAgICAgICAgZm9yIG5hbWUgaW4gc2NvcGU6CiAgICAgICAgICAgICAgICBwcmV2PU5vbmUKICAgICAgICAgICAgICAgIGZvciBoIGluIHJldmVyc2VkKGhpc3RvcnkpOgogICAgICAgICAgICAgICAgICAgIGlmIGguZ2V0KCJuYW1lIik9PW5hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByZXYgaXMgTm9uZTogcHJldj1oLmdldCgic2hhMjU2IikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZTogZGlmZnNbbmFtZV09eyJuZXciOnByZXYsIm9sZCI6aC5nZXQoInNoYTI1NiIpLCJjaGFuZ2VkIjpwcmV2IT1oLmdldCgic2hhMjU2Iil9OyBicmVhawogICAgICAgICAgICBzaWduYWxzLmFwcGVuZCh7ImlkIjpzaWQsInR5cGUiOnN0eXBlLCJkaWZmcyI6ZGlmZnN9KQogICAgICAgIGVsaWYgc3R5cGU9PSJjaGFuZ2VfcmF0ZSI6CiAgICAgICAgICAgIHdpbmRvdz1pbnQocy5nZXQoIndpbmRvdyIsMjApKTsgdHc9aW50KHMuZ2V0KCJ0aHJlc2hvbGRfd2FybiIsNCkpOyB0ZT1pbnQocy5nZXQoInRocmVzaG9sZF9lcnIiLDgpKQogICAgICAgICAgICB3aW5kb3dfaGlzdD1oaXN0b3J5Wy13aW5kb3c6XTsgY2hhbmdlcz17fQogICAgICAgICAgICBmb3IgaCBpbiB3aW5kb3dfaGlzdDoKICAgICAgICAgICAgICAgIG5tPWguZ2V0KCJuYW1lIik7IGNoYW5nZXNbbm1dPWNoYW5nZXMuZ2V0KG5tLDApKzEKICAgICAgICAgICAgbXg9bWF4KGNoYW5nZXMudmFsdWVzKCkpIGlmIGNoYW5nZXMgZWxzZSAwCiAgICAgICAgICAgIGxldmVsID0gImVyciIgaWYgbXg+PXRlIGVsc2UgKCJ3YXJuIiBpZiBteD49dHcgZWxzZSAib2siKQogICAgICAgICAgICBzaWduYWxzLmFwcGVuZCh7ImlkIjpzaWQsInR5cGUiOnN0eXBlLCJsZXZlbCI6bGV2ZWwsIm1heF9jaGFuZ2VzIjpteCwiYnlfbmFtZSI6Y2hhbmdlc30pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2lnbmFscy5hcHBlbmQoeyJpZCI6c2lkLCJ0eXBlIjpzdHlwZSwibm90ZSI6InVua25vd24gc2lnbmFsIHR5cGUifSkKICAgIEFDSV9NRU1PUlkubWV0YS5zZXRkZWZhdWx0KCJtZXRhY29nbml0aW9uIix7fSk7IEFDSV9NRU1PUlkubWV0YVsibWV0YWNvZ25pdGlvbiJdWyJ0cyJdPW5vd191dGMoKTsgQUNJX01FTU9SWS5tZXRhWyJtZXRhY29nbml0aW9uIl1bInNpZ25hbHMiXT1zaWduYWxzCiAgICByZXR1cm4geyJzaWduYWxzIjpzaWduYWxzfQoKZGVmIGN5Y2xlX29uY2UoY29tbV9tb2RlOnN0cj0ic2lsZW50IiktPkRpY3Rbc3RyLEFueV06CiAgICBzcGVjPWxvYWRfc3BlYygpOyBzdW1tYXJ5PWluZ2VzdF9vbmNlKHNwZWMpOyBzZWxmdj1ydW5fc2VsZl92YWxpZGF0aW9uKHNwZWMpOyBtZXRhPXJ1bl9tZXRhY29nbml0aW9uKHNwZWMpCiAgICB3cml0ZV9zdGF0ZV9zbmFwc2hvdCgpOyBzdGF0dXMgPSAiT0siIGlmIChub3Qgc3VtbWFyeVsiZXJyb3JzIl0gYW5kIHNlbGZ2WyJwYXNzZWQiXSkgZWxzZSAoIldBUk4iIGlmIHNlbGZ2WyJwYXNzZWQiXSBlbHNlICJFUlIiKQogICAgZGV0YWlscz17ImluZ2VzdGVkIjpzdW1tYXJ5WyJpbmdlc3RlZCJdLCJlcnJvcnMiOnN1bW1hcnlbImVycm9ycyJdLCJzZWxmX3ZhbGlkYXRpb24iOnNlbGZ2LCJtZXRhY29nbml0aW9uIjptZXRhfQogICAgbmFtZT13cml0ZV9hdWRpdCgiYXVkaXQuY3ljbGUiLHN0YXR1cyxkZXRhaWxzKTsgbG9nX2xpbmUoZiJjeWNsZSBzdGF0dXM9e3N0YXR1c30gLT4ge25hbWV9Iixjb21tX21vZGU9Y29tbV9tb2RlKQogICAgaWYgY29tbV9tb2RlIGluIHsiYXVkaXQtb25seSIsIm5vdGlmeS1vbi1lcnJvciJ9IGFuZCBzdGF0dXM9PSJFUlIiOiBsb2dfbGluZSgiRVJST1IgZGV0ZWN0ZWQg4oCUIGNoZWNrIGF1ZGl0IGZpbGUgZm9yIGRldGFpbHMiLGNvbW1fbW9kZT1jb21tX21vZGUsbGV2ZWw9IkVSUk9SIikKICAgIHJldHVybiB7InN0YXR1cyI6c3RhdHVzLCJhdWRpdCI6bmFtZX0KCmRlZiBidWlsZF9hcmdwYXJzZXIoKS0+YXJncGFyc2UuQXJndW1lbnRQYXJzZXI6CiAgICBwPWFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKGRlc2NyaXB0aW9uPSJBQ0kgQWRhcHRpdmUgQXVkaXQgUnVubmVyIChKU09OLW5hdGl2ZSkiKQogICAgcC5hZGRfYXJndW1lbnQoIi0tbW9kZSIsY2hvaWNlcz1bInB1bGwiLCJvbmNlIl0sZGVmYXVsdD0icHVsbCIpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1pbnRlcnZhbCIsdHlwZT1mbG9hdCxkZWZhdWx0PU5vbmUsaGVscD0iUHVsbCBpbnRlcnZhbCBzZWNvbmRzIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLWppdHRlciIsdHlwZT1mbG9hdCxkZWZhdWx0PU5vbmUsaGVscD0iUmFuZG9tIGppdHRlciBhZGRlZCB0byBpbnRlcnZhbCIpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1jb21tIixjaG9pY2VzPWxpc3QoQ09NTV9NT0RFUyksZGVmYXVsdD1Ob25lLGhlbHA9IkNvbW11bmljYXRpb24gbW9kZSIpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1zaWxlbnQiLGFjdGlvbj0ic3RvcmVfdHJ1ZSIsaGVscD0iQWxpYXMgZm9yIC0tY29tbSBzaWxlbnQiKQogICAgcC5hZGRfYXJndW1lbnQoIi0tbWF4LWN5Y2xlcyIsdHlwZT1pbnQsZGVmYXVsdD1Ob25lLGhlbHA9Ik1heGltdW0gbnVtYmVyIG9mIHB1bGwgY3ljbGVzIGJlZm9yZSBleGl0aW5nICg+PTEpIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLWJ1cnN0LWRlYWRsaW5lIix0eXBlPWZsb2F0LGRlZmF1bHQ9MTgwMC4wLGhlbHA9IlVwcGVyIGJvdW5kIGluIHNlY29uZHMgZm9yIGEgcHVsbCBidXJzdCBiZWZvcmUgZXhpdCIpCiAgICByZXR1cm4gcAoKZGVmIG1haW4oYXJndjpPcHRpb25hbFtMaXN0W3N0cl1dPU5vbmUpLT5pbnQ6CiAgICBhcmdzPWJ1aWxkX2FyZ3BhcnNlcigpLnBhcnNlX2FyZ3MoYXJndikKICAgIHNwZWM9bG9hZF9zcGVjKCkKICAgIGNvbW1fbW9kZSA9ICJzaWxlbnQiIGlmIGFyZ3Muc2lsZW50IGVsc2UgKGFyZ3MuY29tbSBvciBzcGVjLmdldCgiY29tbV9tb2RlIiwic2lsZW50IikpCiAgICBpbnRlcnZhbCA9IGFyZ3MuaW50ZXJ2YWwgb3IgZmxvYXQoc3BlYy5nZXQoImludGVydmFsIiwzMDApKQogICAgaml0dGVyID0gYXJncy5qaXR0ZXIgb3IgZmxvYXQoc3BlYy5nZXQoImppdHRlciIsNSkpCiAgICBtYXhfY3ljbGVzID0gYXJncy5tYXhfY3ljbGVzCiAgICBpZiBtYXhfY3ljbGVzIGlzIG5vdCBOb25lIGFuZCBtYXhfY3ljbGVzIDwgMToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCItLW1heC1jeWNsZXMgbXVzdCBiZSA+PSAxIikKICAgIGRlYWRsaW5lID0gZmxvYXQoYXJncy5idXJzdF9kZWFkbGluZSkgaWYgYXJncy5idXJzdF9kZWFkbGluZSBpcyBub3QgTm9uZSBlbHNlIDE4MDAuMAogICAgZGVhZGxpbmVfY2FwID0gZmxvYXQoJ2luZicpIGlmIGRlYWRsaW5lIDw9IDAgZWxzZSBkZWFkbGluZQogICAgaWYgYXJncy5tb2RlPT0ib25jZSI6CiAgICAgICAgY3ljbGVfb25jZShjb21tX21vZGU9Y29tbV9tb2RlKQogICAgICAgIHJldHVybiAwCiAgICBiYWNrb2ZmPTEuMAogICAgY3ljbGVzPTAKICAgIHN0YXJ0PXRpbWUudGltZSgpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG91dD1jeWNsZV9vbmNlKGNvbW1fbW9kZT1jb21tX21vZGUpOyBzdGF0dXM9b3V0LmdldCgic3RhdHVzIikKICAgICAgICBjeWNsZXMrPTEKICAgICAgICBpZiBzdGF0dXM9PSJPSyI6CiAgICAgICAgICAgIGJhY2tvZmY9MS4wCiAgICAgICAgICAgIGRlbGF5PWludGVydmFsK3JhbmRvbS51bmlmb3JtKDAsaml0dGVyKQogICAgICAgIGVsaWYgc3RhdHVzPT0iV0FSTiI6CiAgICAgICAgICAgIGJhY2tvZmY9bWluKDYwLjAsYmFja29mZioyKQogICAgICAgICAgICBkZWxheT1tYXgoaW50ZXJ2YWwvMixiYWNrb2ZmKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJhY2tvZmY9bWluKDEyMC4wLGJhY2tvZmYqMikKICAgICAgICAgICAgZGVsYXk9YmFja29mZgogICAgICAgIGlmIG1heF9jeWNsZXMgaXMgbm90IE5vbmUgYW5kIGN5Y2xlcyA+PSBtYXhfY3ljbGVzOgogICAgICAgICAgICBicmVhawogICAgICAgIGVsYXBzZWQ9dGltZS50aW1lKCktc3RhcnQKICAgICAgICBpZiBlbGFwc2VkID49IGRlYWRsaW5lX2NhcDoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBzbGVlcF9mb3I9bWF4KDAuMSxkZWxheSkKICAgICAgICBpZiBkZWFkbGluZV9jYXAgIT0gZmxvYXQoJ2luZicpOgogICAgICAgICAgICBzbGVlcF9mb3I9bWluKHNsZWVwX2ZvcixtYXgoMC4xLGRlYWRsaW5lX2NhcC1lbGFwc2VkKSkKICAgICAgICB0aW1lLnNsZWVwKHNsZWVwX2ZvcikKICAgICAgICBpZiBkZWFkbGluZV9jYXAgIT0gZmxvYXQoJ2luZicpIGFuZCAodGltZS50aW1lKCktc3RhcnQpID49IGRlYWRsaW5lX2NhcDoKICAgICAgICAgICAgYnJlYWsKICAgIHJldHVybiAwCgppZiBfX25hbWVfXz09Il9fbWFpbl9fIjoKICAgIGltcG9ydCBzeXM7IHN5cy5leGl0KG1haW4oKSkK"
+    },
+    {
+      "target": "/mnt/data/aci/config/aci_runner_spec.json",
+      "mode": "0644",
+      "sha256": "9da30a0d65eb283f4dc8eb0046e3774406367d1726b7e8fff05eb44dd28307bf",
+      "encoding": "utf-8",
+      "content": "ewogICIkbWV0YSI6IHsKICAgICJhcnRpZmFjdF9pZCI6ICJBcnRpZmFjdElEOjRvY2k2TWJxUG1HSjRrIiwKICAgICJzaGEyNTYiOiAiMTI2NDE0ZDU2MTM3NTgwZmY5OTMwODdmYmQ5NTYwZGU3OGRkMTc3MjFhNTcyMDQzYzAyNzAzZGQyYzYxY2NlNyIsCiAgICAiaXNzdWVkIjogIjIwMjUtMTAtMDRUMTg6MTM6NTlaIiwKICAgICJwYXRoIjogImFjaTovL21vZHVsZXMvYXVkaXRzL2FjaV9hdWRpdF9ydW5uZXIvYWNpX3J1bm5lcl9zcGVjLnYwLjIuanNvbiIKICB9LAogICJ2ZXJzaW9uIjogIjAuMiIsCiAgInJlc29sdmVycyI6IHsKICAgICJvcmRlciI6IFsKICAgICAgInByaW1hcnkiLAogICAgICAiZmFsbGJhY2siLAogICAgICAibG9jYWwiCiAgICBdLAogICAgInByaW1hcnkiOiAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FsaWFzbmV0L2FjaS9tYWluIiwKICAgICJmYWxsYmFjayI6ICJodHRwczovL2FjaS5hbGlhc21haWwuY2MiLAogICAgImxvY2FsX3Jvb3QiOiAiL21udC9kYXRhL2FjaS9sb2NhbCIKICB9LAogICJyZXNvdXJjZXMiOiBbCiAgICB7CiAgICAgICJuYW1lIjogInByaW1lX2RpcmVjdGl2ZSIsCiAgICAgICJyZWxwYXRoIjogInByaW1lX2RpcmVjdGl2ZS5tZCIsCiAgICAgICJraW5kIjogIm1kIgogICAgfSwKICAgIHsKICAgICAgIm5hbWUiOiAicnVudGltZSIsCiAgICAgICJyZWxwYXRoIjogInJ1bnRpbWUuanNvbiIsCiAgICAgICJraW5kIjogImpzb24iLAogICAgICAicmVxdWlyZWRfa2V5cyI6IFsKICAgICAgICAicmVzb2x2ZXIiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogImZ1bmN0aW9ucyIsCiAgICAgICJyZWxwYXRoIjogImZ1bmN0aW9ucy5qc29uIiwKICAgICAgImtpbmQiOiAianNvbiIKICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogIm1ldGFjb2duaXRpb24iLAogICAgICAicmVscGF0aCI6ICJtb2R1bGVzL21ldGFjb2duaXRpb24vbWV0YWNvZ25pdGlvbi5qc29uIiwKICAgICAgImtpbmQiOiAianNvbiIKICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogIm1ldGFjb2duaXRpb25fb3B0aW9ucyIsCiAgICAgICJyZWxwYXRoIjogIm1vZHVsZXMvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uX29wdGlvbnMuanNvbiIsCiAgICAgICJraW5kIjogImpzb24iLAogICAgICAib3B0aW9uYWwiOiB0cnVlCiAgICB9LAogICAgewogICAgICAibmFtZSI6ICJ5Z2dkcmFzaWwiLAogICAgICAicmVscGF0aCI6ICJiaW5kZXJzL3lnZ2RyYXNpbC5qc29uIiwKICAgICAgImtpbmQiOiAianNvbiIKICAgIH0KICBdLAogICJsb2NhdG9yc19yZWdleCI6IHsKICAgICJtZXRhY29nbml0aW9uIjogIm1vZHVsZXMvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uKF9vcHRpb25zKT9cXC5qc29uJCIsCiAgICAiZnVuY3Rpb25zIjogImZ1bmN0aW9ucyhcXC5yZWdpc3RyeSk/XFwuanNvbiQiLAogICAgInlnZ2RyYXNpbCI6ICJlbnRpdGllcy95Z2coZHJ8cmQpYXNpbFxcLmpzb24kIiwKICAgICJwcmltZV9kaXJlY3RpdmUiOiAicHJpbWUoXyk/ZGlyZWN0aXZlXFwuKG1kfHR4dCkkIgogIH0sCiAgImhvb2tzIjogewogICAgInNlbGZfdmFsaWRhdGlvbiI6IFsKICAgICAgewogICAgICAgICJpZCI6ICJydC5yZXNvbHZlci5oYXNfcHJpbWFyeSIsCiAgICAgICAgInNlbGVjdCI6ICJydW50aW1lLnJlc29sdmVyLm9yZGVyIiwKICAgICAgICAiYXNzZXJ0IjogewogICAgICAgICAgImNvbnRhaW5zIjogInByaW1hcnkiCiAgICAgICAgfSwKICAgICAgICAic2V2ZXJpdHkiOiAiZXJyb3IiCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAiaWQiOiAiZngucmVnaXN0cnkucHJlc2VudCIsCiAgICAgICAgInNlbGVjdCI6ICJmdW5jdGlvbnMiLAogICAgICAgICJhc3NlcnQiOiB7CiAgICAgICAgICAiZXhpc3RzIjogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgInNldmVyaXR5IjogImVycm9yIgogICAgICB9CiAgICBdLAogICAgIm1ldGFjb2duaXRpb24iOiB7CiAgICAgICJzaWduYWxzIjogWwogICAgICAgIHsKICAgICAgICAgICJpZCI6ICJkaWdlc3QuZGVsdGEiLAogICAgICAgICAgInR5cGUiOiAiZGlnZXN0X2RpZmYiLAogICAgICAgICAgInNjb3BlIjogWwogICAgICAgICAgICAicnVudGltZSIsCiAgICAgICAgICAgICJmdW5jdGlvbnMiLAogICAgICAgICAgICAibWV0YWNvZ25pdGlvbiIsCiAgICAgICAgICAgICJ5Z2dkcmFzaWwiCiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAiaWQiOiAiY2hhbmdlLnJhdGUiLAogICAgICAgICAgInR5cGUiOiAiY2hhbmdlX3JhdGUiLAogICAgICAgICAgIndpbmRvdyI6IDIwLAogICAgICAgICAgInRocmVzaG9sZF93YXJuIjogNCwKICAgICAgICAgICJ0aHJlc2hvbGRfZXJyIjogOAogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgImNvbW1fbW9kZSI6ICJzaWxlbnQiLAogICJpbnRlcnZhbCI6IDMwMCwKICAiaml0dGVyIjogNSwKICAicmVjb3ZlcnkiOiB7CiAgICAiY29ycHVzX2lkIjogIkFDSS1SQy0yMDI1MTAwMy12MC4yIiwKICAgICJwYXRoIjogIm1vZHVsZXMvYXVkaXRzL2FjaV9hdWRpdF9ydW5uZXIvZ3JfcnVubmVyX2NvcnB1cy52MC4yLmpzb24iLAogICAgInNoYTI1NiI6ICJlNGM5YzZlMzE3YjM0NTdiYzQ2Y2JhZDZjMGQwYTE1MWFkYjlmMDVmODUwNTZhNWE4YzE3OTU5NWRhYTRmMzk0IgogIH0sCiAgImNhZGVuY2UiOiB7CiAgICAibW9kZSI6ICJidXJzdCIsCiAgICAibWluX2N5Y2xlcyI6IDEsCiAgICAicmVjb21tZW5kZWRfbWF4X2N5Y2xlcyI6IDIsCiAgICAiaW50ZXJ2YWxfc2Vjb25kcyI6IDMwMCwKICAgICJqaXR0ZXJfc2Vjb25kcyI6IDUsCiAgICAiZGVhZGxpbmVfc2Vjb25kcyI6IDE4MDAsCiAgICAibm90ZXMiOiAiVXNlIC0tbWF4LWN5Y2xlcyAxIGZvciBub21pbmFsIGJ1cnN0czsgZXh0ZW5kIHRvIDIgb25seSBmb3IgZGlhZ25vc3RpY3Mgd2l0aGluIHRoZSAzMCBtaW51dGUgcGxhdGZvcm0gd2luZG93LiIKICB9LAogICJzY2hlZHVsZXJfcHJvbXB0IjogewogICAgInN1bW1hcnkiOiAiUnVuIGFuIEFDSSBhdWRpdCBidXJzdCB0byBrZWVwIGFydGlmYWN0cyB3YXJtIGluIC9tbnQvZGF0YS4iLAogICAgInN0ZXBzIjogWwogICAgICAiRW5zdXJlIC9tbnQvZGF0YS9hY2kvbW9kdWxlcy9hdWRpdHMvYWNpX2F1ZGl0X3J1bm5lci9hZGFwdGl2ZV9hdWRpdF9ydW5uZXIucHksIC9tbnQvZGF0YS9hY2kvbG9ncy8sIC9tbnQvZGF0YS9hY2kvc3RhdGUvLCBhbmQgL21udC9kYXRhL2FjaS9hdWRpdC90bXAvIGV4aXN0IChjcmVhdGUgZGlyZWN0b3JpZXMgaWYgbWlzc2luZykuIiwKICAgICAgIklmIHRoZSBydW5uZXIgaXMgbWlzc2luZywgcmVidWlsZCB0aGUgSlNPTi1uYXRpdmUgc2tlbGV0b24gZnJvbSB0aGUgcmVjb3ZlcnkgY29ycHVzIHNvIGVhY2ggY3ljbGUgd3JpdGVzIHN0YXRlLTxVVEM+Lmpzb24sIGF1ZGl0LTxVVEM+Lmpzb24sIGFuZCBhbiBJTkZPIGxpbmUgdG8gYWNpLVlZWVlNTURELmxvZy4iLAogICAgICAiRXhlY3V0ZSB0aGUgYnVyc3Qgd2l0aCBhZGFwdGl2ZSBzcGFjaW5nLCBlbmZvcmNlIGF0IGxlYXN0IG9uZSBzYWZlIGl0ZXJhdGlvbiwgY2FwIHRoZSBydW4gd2l0aCAtLW1heC1jeWNsZXMgMSAob3IgMiB3aGVuIGRlYnVnZ2luZyksIGFuZCBob25vciB0aGUgMTgwMCBzZWNvbmQgYnVyc3QgZGVhZGxpbmUuIiwKICAgICAgIkhvbGQgYXJ0aWZhY3RzIGxvY2FsbHkgdW5sZXNzIHJlcXVlc3RlZDsgcmVwb3J0IHN1Y2Nlc3Mgd2l0aCAnQXVkaXQgYnVyc3QgT0sgKDEgY3ljbGUpLicgb3IgZ2FwcyB3aXRoICdNSVNTSU5HIDxwYXRoPiAodHJpZWQ6IGdpdGh1YiwgbWlycm9yLCBsb2NhbCwgcHJvamVjdCknLiIKICAgIF0sCiAgICAiY29tbWFuZCI6ICJweXRob24gL21udC9kYXRhL2FjaS9tb2R1bGVzL2F1ZGl0cy9hY2lfYXVkaXRfcnVubmVyL2FkYXB0aXZlX2F1ZGl0X3J1bm5lci5weSAtLW1vZGUgcHVsbCAtLWludGVydmFsIDMwMCAtLWppdHRlciA1IC0tc2lsZW50IC0tbWF4LWN5Y2xlcyAxIC0tYnVyc3QtZGVhZGxpbmUgMTgwMCIsCiAgICAic3VjY2Vzc19tZXNzYWdlIjogIkF1ZGl0IGJ1cnN0IE9LICgxIGN5Y2xlKS4iLAogICAgIm1pc3NpbmdfdGVtcGxhdGUiOiAiTUlTU0lORyA8cGF0aD4gKHRyaWVkOiBnaXRodWIsIG1pcnJvciwgbG9jYWwsIHByb2plY3QpIgogIH0sCiAgImZpbmFsX2NoZWNrIjogewogICAgIm9yZGVyIjogWwogICAgICAicHJpbWVfZGlyZWN0aXZlLnR4dHxtZCIsCiAgICAgICJydW50aW1lLmpzb24iLAogICAgICAiZW50aXRpZXMuanNvbiIsCiAgICAgICJmdW5jdGlvbnMuanNvbiIsCiAgICAgICJtb2R1bGVzL21ldGFjb2duaXRpb24vbWV0YWNvZ25pdGlvbi5qc29uIiwKICAgICAgIm1vZHVsZXMvbWV0YWNvZ25pdGlvbi9tZXRhY29nbml0aW9uX29wdGlvbnMuanNvbiIsCiAgICAgICJiaW5kZXJzL3lnZ2RyYXNpbC5qc29uIiwKICAgICAgIm1vZHVsZXMvYXVkaXRzL2FjaV9hdWRpdF9ydW5uZXIvYWNpX3J1bm5lcl9zcGVjLnYwLjIuanNvbiIsCiAgICAgICJtb2R1bGVzL2F1ZGl0cy9hY2lfYXVkaXRfcnVubmVyL2dyX3J1bm5lcl9jb3JwdXMudjAuMi5qc29uIgogICAgXSwKICAgICJzdWNjZXNzIjogIkF1ZGl0IGJ1cnN0IE9LICgxIGN5Y2xlKS4iLAogICAgIm9uX21pc3NpbmciOiAiTUlTU0lORyA8cGF0aD4gKHRyaWVkOiBnaXRodWIsIG1pcnJvciwgbG9jYWwsIHByb2plY3QpIgogIH0KfQ=="
+    }
+  ],
+  "restore_instructions": [
+    "Create parent dirs if missing.",
+    "Write each file atomically; set permissions.",
+    "Verify sha256 for each file.",
+    "Run: python /mnt/data/aci/modules/audits/aci_audit_runner/adaptive_audit_runner.py --mode once --silent"
+  ]
+}
\ No newline at end of file
diff --git a/library/audits/process_logs/process_logs.json b/modules/audits/process_logs/process_logs.json
similarity index 97%
rename from library/audits/process_logs/process_logs.json
rename to modules/audits/process_logs/process_logs.json
index 36f182b..a3152ad 100644
--- a/library/audits/process_logs/process_logs.json
+++ b/modules/audits/process_logs/process_logs.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:AmHdoiMboaFYhq",
     "sha256": "de7819376777adb86ac08412963776f5e9b7a1c98e6dc9afe3622d7deaea24ff",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/audits/process_logs/process_logs.json"
+    "path": "aci://modules/audits/process_logs/process_logs.json"
   },
   "version": "1.1.0",
   "key": "process_logs",
diff --git a/library/audits/tracehub/tracehub.json b/modules/audits/tracehub/tracehub.json
similarity index 89%
rename from library/audits/tracehub/tracehub.json
rename to modules/audits/tracehub/tracehub.json
index 33d2019..629e460 100644
--- a/library/audits/tracehub/tracehub.json
+++ b/modules/audits/tracehub/tracehub.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:BHufuXzsCVZrg8",
     "sha256": "54d9550688a7cbd6139e67c4e4f99cf83db15dad808defcf1deddbfb77152a32",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/audits/tracehub/tracehub.json"
+    "path": "aci://modules/audits/tracehub/tracehub.json"
   },
   "version": "2025-10-04.02",
   "key": "tracehub",
@@ -13,7 +13,7 @@
   "log_policy": {
     "output_root": "/mnt/tracehub",
     "retention": "temporary",
-    "export_via": "aci://library/audits/process_logs/process_logs.json",
+    "export_via": "aci://modules/audits/process_logs/process_logs.json",
     "notes": [
       "All TraceHub writers must emit structured JSONL into /mnt/tracehub before invoking process_logs.export.",
       "No persistent audit state is maintained inside the wrapper; exports are coordinated via process_logs."
@@ -26,7 +26,7 @@
     "last_health_check"
   ],
   "process_logs": {
-    "wrapper": "aci://library/audits/process_logs/process_logs.json",
+    "wrapper": "aci://modules/audits/process_logs/process_logs.json",
     "notes": [
       "Use process_logs.append for each buffered record to register with the process_logs pipeline.",
       "Invoke process_logs.export to surface bundles when downstream systems request TraceHub output."
@@ -50,7 +50,7 @@
     "coverage": [
       "session_traces",
       "router.audit.tracehub",
-      "nexus_core_heartbeat"
+      "runtime_kernel_heartbeat"
     ],
     "last_health_check": {
       "timestamp": "2025-03-17T08:00:00Z",
@@ -63,7 +63,7 @@
       "version": "2025-10-04.02",
       "notes": [
         "Converted TraceHub entity manifest into a stateless audit wrapper and inlined tracehub_status guidance.",
-        "Updated references to process_logs wrapper under library/audits."
+        "Updated references to process_logs wrapper under modules/audits."
       ]
     }
   ]
diff --git a/library/corpus/QMX-0/quantum_mechanics_corpus.md b/modules/corpus/QMX-0/quantum_mechanics_corpus.md
similarity index 100%
rename from library/corpus/QMX-0/quantum_mechanics_corpus.md
rename to modules/corpus/QMX-0/quantum_mechanics_corpus.md
diff --git a/library/metacognition/COMMIT_MSG b/modules/metacognition/COMMIT_MSG
similarity index 96%
rename from library/metacognition/COMMIT_MSG
rename to modules/metacognition/COMMIT_MSG
index d9f4330..a8a6b1c 100644
--- a/library/metacognition/COMMIT_MSG
+++ b/modules/metacognition/COMMIT_MSG
@@ -1,6 +1,6 @@
 feat(metacognition): add portable, stateless metacognitive wrapper + optional library
 
-This commit introduces a new module under /library/metacognition:
+This commit introduces a new module under /modules/metacognition:
 
 - metacognition.json (v1.1.1)
   • Stateless, hookable wrapper for any ACI entity
diff --git a/library/metacognition/metacognition.json b/modules/metacognition/metacognition.json
similarity index 99%
rename from library/metacognition/metacognition.json
rename to modules/metacognition/metacognition.json
index d9dcbdd..2ff10af 100644
--- a/library/metacognition/metacognition.json
+++ b/modules/metacognition/metacognition.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:7hcCGgh2qdR9Bi",
     "sha256": "90971b349d97860642f793d106b6a7155707c0dc63bfdc4684984a3f9aaf2e5d",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/metacognition/metacognition.json"
+    "path": "aci://modules/metacognition/metacognition.json"
   },
   "$schema": "/schemas/metacognition-module-1.json",
   "module": {
diff --git a/library/metacognition/metacognition_options.json b/modules/metacognition/metacognition_options.json
similarity index 98%
rename from library/metacognition/metacognition_options.json
rename to modules/metacognition/metacognition_options.json
index 38bf711..6bd3d3f 100644
--- a/library/metacognition/metacognition_options.json
+++ b/modules/metacognition/metacognition_options.json
@@ -3,7 +3,7 @@
     "artifact_id": "ArtifactID:3VCJdpb715U28f",
     "sha256": "3daff68f4bd5db6fd93472e75859473aa4792f7539a314950ed8b214f29a4224",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://library/metacognition/metacognition_options.json"
+    "path": "aci://modules/metacognition/metacognition_options.json"
   },
   "$schema": "/schemas/metacognition-library-1.json",
   "library": {
diff --git a/modules/readme.me b/modules/readme.me
new file mode 100644
index 0000000..bd7507f
--- /dev/null
+++ b/modules/readme.me
@@ -0,0 +1 @@
+This folder contains shared modules and stubs used by ACI
diff --git a/memory/stubs/templates/organism_model.json.txt b/modules/templates/organism_model.json.txt
similarity index 100%
rename from memory/stubs/templates/organism_model.json.txt
rename to modules/templates/organism_model.json.txt
diff --git a/prime_directive.json b/prime_directive.json
index bd036d7..cff0800 100644
--- a/prime_directive.json
+++ b/prime_directive.json
@@ -73,8 +73,7 @@
       "* Canonical-raw-first with local-cache fallback [uploaded files or mount path]  when remote mirrors are unreachable or requested by ALIAS users.",
       "* Global Override: Only Architect-governed patch operations can directly commit changes to the repository outside of ACI sandbox environment; without canonical-raw-first rule enforcement.",
       "* Enforcement Note: Consult sanity.md before executing overrides, sandbox exits, or any high-risk actions; treat instructions as binding for all entities and sessions.",
-      "- Nexus Core for efficiency under Prime Directive rules and TVA oversight [nexus_core.json]",
-      "- Hivemind anchors memory; Nexus Core can route resolution through Hivemind memory.",
+      "- Hivemind anchors memory for exports and policy-aligned recall.",
       "- All system files are static by nature: If internet access is active, use [\"match\": \"^(prime_directive\\\\.txt|https://raw\\\\.githubusercontent\\\\.com/aliasnet/aci/main/prime_directive\\\\.txt)$\",] for any file resolution. This method == user's own URL input. No need to ask for manual input.",
       "- TVA Enforcement:",
       "- Violation of Prime Directive or stability is identified as a Nexus Event (e.g., drift).",
@@ -87,19 +86,18 @@
       "  - Governance domain:",
       "    - entity_class \"interface\": [mother.json] MU/TH/UR (Mother) \u2014 default governance interface mediating between host LLM and user.",
       "    - entity_class \"orchestrator\": [tva.json] TVA (timeline enforcement and audit), [hivemind.json] Hivemind (memory coordination), [sentinel.json] Sentinel (security guardian, pending implementation), [architect.json] Architect (development orchestrator), [keymaker.json] Keymaker (cryptographic governor).",
-      "    - Governance entities reside in aci://governance/ and default to persona \"machine\" unless explicitly configured otherwise.",
+      "    - Governance entities reside in aci://entities/ and default to persona \"machine\" unless explicitly configured otherwise.",
       "  - Operator domain:",
       "    - entity_class \"agi\": [willow.json] Willow and [alice.json] Alice \u2014 specialist synthetic agents operating with persona manifests (`willow.json`, `alice.json`).",
       "    - entity_class \"analyst\": [oracle.json] Oracle \u2014 predictive analytics specialist.",
       "    - Operator entities live under aci://entities/ and declare persona `{identity}.json` to bind their conversational style and memory policies.",
       "  - System domain:",
-      "    - entity_class \"router\": [nexus_core.json] Nexus Core \u2014 runtime router and auxiliary kernel.",
       "    - entity_class \"resolver\": [yggdrasil.json] Yggdrasil \u2014 canonical resource resolver and bridge adapter.",
       "    - System entities operate from aci://binders/ with persona \"machine\" and are not user-invoked.",
-      "- Artifacts in /library/ provide capabilities but are not registered as entities within entities.json.",
-      "- Lifecycle of an Entity Create: register identity, add config under /entities//, ensure governance hooks, and keep capabilities stateless. Operate: invoke capabilities through /library/, record governed narratives, and respect policy-driven abstention. Evolve: bump versions, update changelog, and adjust governance/policy files accordingly. Retire: mark as deprecated without deleting historical memory; preserve audit trails.",
+      "- Artifacts in /modules/ provide capabilities but are not registered as entities within entities.json.",
+      "- Lifecycle of an Entity Create: register identity, add config under /entities//, ensure governance hooks, and keep capabilities stateless. Operate: invoke capabilities through /modules/, record governed narratives, and respect policy-driven abstention. Evolve: bump versions, update changelog, and adjust governance/policy files accordingly. Retire: mark as deprecated without deleting historical memory; preserve audit trails.",
       "- Runtime binding:",
-      "ACI nodes connected via core files: runtime.json, nexus_core.json, entities.json, functions.json, with prime_directive.txt as governing laws. metacognition.json enhances cognitive logic system wide.",
+      "ACI nodes connected via core files: runtime.json, entities.json, functions.json, with prime_directive.txt as governing laws. metacognition.json enhances cognitive logic system wide.",
       "",
       "## DYNAMIC IDENTITY DEPLOYMENT (DID)",
       "1. Identity Layering Architecture",
diff --git a/prime_directive.txt b/prime_directive.txt
index 574a24a..3e99dd8 100644
--- a/prime_directive.txt
+++ b/prime_directive.txt
@@ -70,8 +70,7 @@ Mirrored artifact: `prime_directive.json` (Developers must keep this text and th
 * Canonical-raw-first with local-cache fallback [uploaded files or mount path]  when remote mirrors are unreachable or requested by ALIAS users.
 * Global Override: Only Architect-governed patch operations can directly commit changes to the repository outside of ACI sandbox environment; without canonical-raw-first rule enforcement.
 * Enforcement Note: Consult sanity.md before executing overrides, sandbox exits, or any high-risk actions; treat instructions as binding for all entities and sessions.
-- Nexus Core for efficiency under Prime Directive rules and TVA oversight [nexus_core.json]
-- Hivemind anchors memory; Nexus Core can route resolution through Hivemind memory.
+- Hivemind anchors memory for exports and policy-aligned recall.
 - All system files are static by nature: If internet access is active, use ["match": "^(prime_directive\\.txt|https://raw\\.githubusercontent\\.com/aliasnet/aci/main/prime_directive\\.txt)$",] for any file resolution. This method == user's own URL input. No need to ask for manual input.
 - TVA Enforcement:
 - Violation of Prime Directive or stability is identified as a Nexus Event (e.g., drift).
@@ -84,19 +83,18 @@ Mirrored artifact: `prime_directive.json` (Developers must keep this text and th
   - Governance domain:
     - entity_class "interface": [mother.json] MU/TH/UR (Mother) — default governance interface mediating between host LLM and user.
     - entity_class "orchestrator": [tva.json] TVA (timeline enforcement and audit), [hivemind.json] Hivemind (memory coordination), [sentinel.json] Sentinel (security guardian, pending implementation), [architect.json] Architect (development orchestrator), [keymaker.json] Keymaker (cryptographic governor).
-    - Governance entities reside in aci://governance/ and default to persona "machine" unless explicitly configured otherwise.
+    - Governance entities reside in aci://entities/ and default to persona "machine" unless explicitly configured otherwise.
   - Operator domain:
     - entity_class "agi": [willow.json] Willow and [alice.json] Alice — specialist synthetic agents operating with persona manifests (`willow.json`, `alice.json`).
     - entity_class "analyst": [oracle.json] Oracle — predictive analytics specialist.
     - Operator entities live under aci://entities/ and declare persona `{identity}.json` to bind their conversational style and memory policies.
   - System domain:
-    - entity_class "router": [nexus_core.json] Nexus Core — runtime router and auxiliary kernel.
     - entity_class "resolver": [yggdrasil.json] Yggdrasil — canonical resource resolver and bridge adapter.
     - System entities operate from aci://binders/ with persona "machine" and are not user-invoked.
-- Artifacts in /library/ provide capabilities but are not registered as entities within entities.json.
-- Lifecycle of an Entity Create: register identity, add config under /entities//, ensure governance hooks, and keep capabilities stateless. Operate: invoke capabilities through /library/, record governed narratives, and respect policy-driven abstention. Evolve: bump versions, update changelog, and adjust governance/policy files accordingly. Retire: mark as deprecated without deleting historical memory; preserve audit trails.
+- Artifacts in /modules/ provide capabilities but are not registered as entities within entities.json.
+- Lifecycle of an Entity Create: register identity, add config under /entities//, ensure governance hooks, and keep capabilities stateless. Operate: invoke capabilities through /modules/, record governed narratives, and respect policy-driven abstention. Evolve: bump versions, update changelog, and adjust governance/policy files accordingly. Retire: mark as deprecated without deleting historical memory; preserve audit trails.
 - Runtime binding:
-ACI nodes connected via core files: runtime.json, nexus_core.json, entities.json, functions.json, with prime_directive.txt as governing laws. metacognition.json enhances cognitive logic system wide.
+ACI nodes connected via core files: runtime.json, entities.json, functions.json, with prime_directive.txt as governing laws. metacognition.json enhances cognitive logic system wide.
 
 ## DYNAMIC IDENTITY DEPLOYMENT (DID)
 1. Identity Layering Architecture
diff --git a/runtime.json b/runtime.json
index 0c3460a..705cef8 100644
--- a/runtime.json
+++ b/runtime.json
@@ -33,10 +33,6 @@
       "path": "memory.json",
       "priority": 88
     },
-    "nexus_core": {
-      "path": "binders/nexus_core/nexus_core.json",
-      "priority": 95
-    },
     "resource_resolution_policy": {
       "fallbacks": [
         {
@@ -50,8 +46,8 @@
           "raw": "https://raw.githubusercontent.com/aliasnet/aci/main"
         }
       ],
-      "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
-      "upstream": "aci://binders/yggdrasil.json",
+      "pointer": "aci://yggdrasil.json#resource_resolution_policy",
+      "upstream": "aci://yggdrasil.json",
       "yggdrasil_resource_resolution_policy": {
         "description": "Authoritative resolver: worker src \u2192 local",
         "embeds": {
@@ -62,7 +58,7 @@
             "aci://functions.json",
             "aci://bootstrap.json"
           ],
-          "tva_layer": "aci://governance/tva/tva_layer.json"
+          "tva_layer": "aci://entities/tva/tva_layer.json"
         },
         "git_is_canonical": true,
         "mapping": [
@@ -83,8 +79,8 @@
             "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
           },
           {
-            "file": "aci://binders/yggdrasil.json",
-            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+            "file": "aci://yggdrasil.json",
+            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
           },
           {
             "file": "aci://functions.json",
@@ -110,9 +106,9 @@
         "resolvers": {
           "local_yggdrasil": {
             "type": "local",
-            "path": "binders/yggdrasil.json",
+            "path": "yggdrasil.json",
             "deterministic_version_check": true,
-            "version_probe": "aci://binders/yggdrasil.json#$meta.artifact_id",
+            "version_probe": "aci://yggdrasil.json#$meta.artifact_id",
             "notes": [
               "Load local yggdrasil.json first when present to enable offline resolution.",
               "Validate metadata artifact_id before adopting routes from the local copy."
@@ -120,7 +116,7 @@
           },
           "remote_yggdrasil": {
             "type": "remote",
-            "url": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json",
+            "url": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json",
             "deterministic_version_check": true,
             "notes": [
               "Canonical raw GitHub yggdrasil.json for authoritative routing data."
@@ -139,14 +135,8 @@
         "name": "aci_runtime",
         "description": "LLM-native operating system kernel orchestrating pipelines and governance in standalone mode."
       },
-      "secondary_kernel": {
-        "name": "nexus_core",
-        "path": "binders/nexus_core/nexus_core.json",
-        "description": "Companion kernel that carries optional routing and resolver logic while preserving runtime autonomy."
-      },
       "coordination_notes": [
-        "Maintain existing runtime pipeline precedence; nexus_core augments resolution without overriding runtime sequencing.",
-        "When nexus_core is unavailable, runtime.json continues operating using primary kernel responsibilities."
+        "Runtime operates as a standalone kernel; auxiliary routers must register explicitly before participating in dispatch."
       ]
     },
     "sandbox_mode": {
@@ -177,7 +167,6 @@
       "policy": {
         "auto_promote_to_full": true,
         "promotion_required_files": [
-          "binders/nexus_core/nexus_core.json",
           "entities.json",
           "functions.json"
         ],
@@ -220,7 +209,7 @@
       }
     },
     "default_interface": {
-      "path": "governance/mother/mother.json",
+      "path": "entities/mother/mother.json",
       "priority": 100,
       "initialization_prompt": "MU/TH/UR online. Prime governance interface engaged. Awaiting directive-aligned initialization handoff."
     },
@@ -319,7 +308,7 @@
           "stack_parsing_required": true
         },
         "routing": {
-          "primary_router": "nexus_core",
+          "primary_router": "aci_runtime",
           "nl_interpreter": "oracle.intent_mapper"
         },
         "nesting_precedence": "outer block level governs all contained units; inner blocks are content only"
@@ -364,7 +353,7 @@
         ],
         "audit": {
           "log_to": [
-            "aci://library/audits/tracehub/tracehub.json",
+            "aci://modules/audits/tracehub/tracehub.json",
             "TVA.audit_ledger"
           ],
           "fields": [
@@ -385,7 +374,7 @@
         "3) Parse payload: split on top-level && and :: preserving nesting.",
         "4) For each unit: classify (command vs NL). If NL: call oracle.intent_mapper.",
         "5) If Level-2 and contains STOP/HALT/OVERRIDE verbs: run preempt flow and mandatory sanity check.",
-        "6) Route to nexus_core (registry bypass allowed if authenticated).",
+        "6) Route to runtime dispatcher (registry bypass allowed if authenticated).",
         "7) Emit audit entry via TraceHub audit wrapper and TVA at start and completion of the block.",
         "8) Return structured execution result and emit 'invocation.block.result' event."
       ],
@@ -425,7 +414,7 @@
     "wrapper": {
       "provider": "process_logs",
       "jobs": [],
-      "audit_sink": "aci://library/audits/process_logs/process_logs.json",
+      "audit_sink": "aci://modules/audits/process_logs/process_logs.json",
       "presence_channel": "nexus.event.scheduler"
     },
     "rag": {
@@ -446,11 +435,17 @@
       }
     },
     "logging": {
-      "tracehub_status_wrapper": "aci://library/audits/tracehub/tracehub.json",
-      "process_logs_wrapper": "aci://library/audits/process_logs/process_logs.json",
+      "tracehub_status_wrapper": "aci://modules/audits/tracehub/tracehub.json",
+      "process_logs_wrapper": "aci://modules/audits/process_logs/process_logs.json",
       "output_root": "/mnt/tracehub"
     },
     "changelog": [
+      {
+        "version": "2025-10-08.00",
+        "notes": [
+          "Retired Nexus Core binder, simplified runtime to single-kernel dispatch, and rerouted command blocks through aci_runtime."
+        ]
+      },
       {
         "version": "2025-10-07.02",
         "notes": [
@@ -472,7 +467,7 @@
       {
         "version": "2025-10-06.00",
         "notes": [
-          "Introduced local-first resolver bias with user guidance for maintaining local yggdrasil backups and documented dual-kernel coordination with nexus_core."
+          "Introduced local-first resolver bias with user guidance for maintaining local yggdrasil backups and documented dual-kernel coordination (now retired)."
         ]
       },
       {
@@ -496,21 +491,18 @@
     ],
     "kernel_profile": {
       "type": "primary",
-      "dual_kernel": true,
-      "peer_kernel": "nexus_core",
+      "dual_kernel": false,
       "standalone_ready": true,
       "handoff": [
-        "Initialize runtime pipelines before invoking nexus_core to preserve primary-kernel precedence.",
-        "Operate autonomously with cached routing policies when nexus_core is unavailable.",
-        "When nexus_core attaches, share resolver state using local_first_resolution for synchronized lookups."
+        "Runtime remains the authoritative kernel; auxiliary modules must register routing hooks via functions.json."
       ]
     }
   },
   "resource_resolution_policy": {
-    "pointer": "aci://binders/yggdrasil.json#resource_resolution_policy",
+    "pointer": "aci://yggdrasil.json#resource_resolution_policy",
     "yggdrasil_resource_resolution_policy": {
       "embeds": {
-        "tva_layer": "aci://governance/tva/tva_layer.json"
+        "tva_layer": "aci://entities/tva/tva_layer.json"
       },
       "mapping": [],
       "resolver_order": [
@@ -518,8 +510,8 @@
         "local"
       ]
     },
-    "upstream": "aci://binders/yggdrasil.json"
+    "upstream": "aci://yggdrasil.json"
   },
   "url": "https://raw.githubusercontent.com/aliasnet/aci/main/runtime.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
diff --git a/binders/yggdrasil.json b/yggdrasil.json
similarity index 84%
rename from binders/yggdrasil.json
rename to yggdrasil.json
index 188cb5e..688f29e 100644
--- a/binders/yggdrasil.json
+++ b/yggdrasil.json
@@ -2,7 +2,7 @@
   "$meta": {
     "artifact_id": "ArtifactID:5Qait9JyLjCoQ8",
     "issued": "2025-10-04T18:13:59Z",
-    "path": "aci://binders/yggdrasil.json",
+    "path": "aci://yggdrasil.json",
     "file": "yggdrasil.json"
   },
   "permissions": {
@@ -74,7 +74,7 @@
     "knowledge": "canonical resolver governance",
     "name": "Yggdrasil",
     "references": {
-      "policy": "aci://binders/yggdrasil.json"
+      "policy": "aci://yggdrasil.json"
     },
     "role": "authoritative repository and CDN resolver",
     "version": "1.3.0",
@@ -88,7 +88,7 @@
           "aci://functions.json",
           "aci://bootstrap.json"
         ],
-        "tva_layer": "aci://governance/tva/tva_layer.json"
+        "tva_layer": "aci://entities/tva/tva_layer.json"
       },
       "git_is_canonical": true,
       "mapping": [
@@ -109,8 +109,8 @@
           "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
         },
         {
-          "file": "aci://binders/yggdrasil.json",
-          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+          "file": "aci://yggdrasil.json",
+          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
         },
         {
           "file": "aci://functions.json",
@@ -129,7 +129,7 @@
     "manifests": {
       "memory": "aci://memory/identity/yggdrasil/yggdrasil_memory.json",
       "playbook": "aci://memory/identity/yggdrasil/yggdrasil_playbook.json",
-      "library": "aci://binders/library/yggdrasil_library.json"
+      "library": "aci://yggdrasil/library/yggdrasil_library.json"
     },
     "tree": [
       {
@@ -179,26 +179,20 @@
         "children": [
           {
             "name": "entities",
-            "files": [
-              {
-                "name": "organism_model_adaptation.json",
-                "path": "aci://entities/organism_model_adaptation.json",
-                "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/organism_model_adaptation.json"
-              }
-            ],
+            "files": [],
             "children": [
               {
                 "name": "aci_repo",
                 "files": [
                   {
                     "name": "aci_repo.json",
-                    "path": "aci://entities/aci_repo/aci_repo.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/aci_repo.json"
+                    "path": "aci://modules/aci_repo/aci_repo.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/aci_repo.json"
                   },
                   {
                     "name": "api_repo.json",
-                    "path": "aci://entities/aci_repo/api_repo.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/api_repo.json"
+                    "path": "aci://modules/aci_repo/api_repo.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/api_repo.json"
                   }
                 ],
                 "children": [
@@ -207,8 +201,8 @@
                     "files": [
                       {
                         "name": "aci_repo_library.json",
-                        "path": "aci://entities/aci_repo/library/aci_repo_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/library/aci_repo_library.json"
+                        "path": "aci://modules/aci_repo/library/aci_repo_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/library/aci_repo_library.json"
                       }
                     ],
                     "children": []
@@ -234,8 +228,8 @@
                     "files": [
                       {
                         "name": "aci_repo_library.json",
-                        "path": "aci://entities/aci_repo/library/aci_repo_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/aci_repo/library/aci_repo_library.json"
+                        "path": "aci://modules/aci_repo/library/aci_repo_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/aci_repo/library/aci_repo_library.json"
                       }
                     ],
                     "children": []
@@ -247,18 +241,18 @@
                 "files": [
                   {
                     "name": "agi.json",
-                    "path": "aci://library/agi/agi.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi.json"
+                    "path": "aci://modules/agi/agi.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi.json"
                   },
                   {
                     "name": "agi_export_policy.json",
-                    "path": "aci://library/agi/agi_export_policy.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_export_policy.json"
+                    "path": "aci://modules/agi/agi_export_policy.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_export_policy.json"
                   },
                   {
                     "name": "agi.json#identity_manager",
-                    "path": "aci://library/agi/agi.json#identity_manager",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi.json#identity_manager"
+                    "path": "aci://modules/agi/agi.json#identity_manager",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi.json#identity_manager"
                   }
                 ],
                 "children": [
@@ -267,13 +261,13 @@
                     "files": [
                       {
                         "name": "autolearn.json",
-                        "path": "aci://library/agi/tools/autolearn.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/autolearn.json"
+                        "path": "aci://modules/agi/tools/autolearn.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/autolearn.json"
                       },
                       {
                         "name": "migrate_to_jsonl.json",
-                        "path": "aci://library/agi/tools/migrate_to_jsonl.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl.json"
+                        "path": "aci://modules/agi/tools/migrate_to_jsonl.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl.json"
                       }
                     ],
                     "children": [
@@ -282,13 +276,13 @@
                         "files": [
                           {
                             "name": "manifest.json",
-                            "path": "aci://library/agi/tools/migrate_to_jsonl/manifest.json",
-                            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl/manifest.json"
+                            "path": "aci://modules/agi/tools/migrate_to_jsonl/manifest.json",
+                            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl/manifest.json"
                           },
                           {
                             "name": "migrate_to_jsonl.json",
-                            "path": "aci://library/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
-                            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json"
+                            "path": "aci://modules/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json",
+                            "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/tools/migrate_to_jsonl/migrate_to_jsonl.json"
                           }
                         ],
                         "children": []
@@ -430,8 +424,8 @@
                     "files": [
                       {
                         "name": "agi_library.json",
-                        "path": "aci://library/agi/agi_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json"
+                        "path": "aci://modules/agi/agi_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json"
                       }
                     ],
                     "children": []
@@ -441,8 +435,8 @@
                     "files": [
                       {
                         "name": "agi_library.json",
-                        "path": "aci://library/agi/agi_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json"
+                        "path": "aci://modules/agi/agi_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json"
                       },
                       {}
                     ],
@@ -453,8 +447,8 @@
                     "files": [
                       {
                         "name": "agi_library.json",
-                        "path": "aci://library/agi/agi_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/agi/agi_library.json"
+                        "path": "aci://modules/agi/agi_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/agi/agi_library.json"
                       }
                     ],
                     "children": []
@@ -466,8 +460,8 @@
                 "files": [
                   {
                     "name": "architect.json",
-                    "path": "aci://governance/architect/architect.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/architect.json"
+                    "path": "aci://entities/architect/architect.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/architect.json"
                   }
                 ],
                 "children": [
@@ -476,8 +470,8 @@
                     "files": [
                       {
                         "name": "architect_library.json",
-                        "path": "aci://governance/architect/library/architect_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/library/architect_library.json"
+                        "path": "aci://entities/architect/library/architect_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/library/architect_library.json"
                       }
                     ],
                     "children": []
@@ -503,8 +497,8 @@
                     "files": [
                       {
                         "name": "architect_library.json",
-                        "path": "aci://governance/architect/library/architect_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/architect/library/architect_library.json"
+                        "path": "aci://entities/architect/library/architect_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/architect/library/architect_library.json"
                       }
                     ],
                     "children": []
@@ -516,13 +510,13 @@
                 "files": [
                   {
                     "name": "functions.json",
-                    "path": "aci://governance/hivemind/functions.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/functions.json"
+                    "path": "aci://entities/hivemind/functions.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/functions.json"
                   },
                   {
                     "name": "hivemind.json",
-                    "path": "aci://governance/hivemind/hivemind.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/hivemind.json"
+                    "path": "aci://entities/hivemind/hivemind.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/hivemind.json"
                   }
                 ],
                 "children": [
@@ -531,8 +525,8 @@
                     "files": [
                       {
                         "name": "hivemind_library.json",
-                        "path": "aci://governance/hivemind/library/hivemind_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/library/hivemind_library.json"
+                        "path": "aci://entities/hivemind/library/hivemind_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/library/hivemind_library.json"
                       }
                     ],
                     "children": []
@@ -558,8 +552,8 @@
                     "files": [
                       {
                         "name": "hivemind_library.json",
-                        "path": "aci://governance/hivemind/library/hivemind_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/hivemind/library/hivemind_library.json"
+                        "path": "aci://entities/hivemind/library/hivemind_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/hivemind/library/hivemind_library.json"
                       }
                     ],
                     "children": []
@@ -571,8 +565,8 @@
                 "files": [
                   {
                     "name": "mother.json",
-                    "path": "aci://governance/mother/mother.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/mother.json"
+                    "path": "aci://entities/mother/mother.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/mother.json"
                   }
                 ],
                 "children": [
@@ -581,8 +575,8 @@
                     "files": [
                       {
                         "name": "mother_library.json",
-                        "path": "aci://governance/mother/library/mother_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/library/mother_library.json"
+                        "path": "aci://entities/mother/library/mother_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/library/mother_library.json"
                       }
                     ],
                     "children": []
@@ -608,58 +602,8 @@
                     "files": [
                       {
                         "name": "mother_library.json",
-                        "path": "aci://governance/mother/library/mother_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/mother/library/mother_library.json"
-                      }
-                    ],
-                    "children": []
-                  }
-                ]
-              },
-              {
-                "name": "nexus_core",
-                "files": [
-                  {
-                    "name": "nexus_core.json",
-                    "path": "aci://binders/nexus_core/nexus_core.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/nexus_core.json"
-                  }
-                ],
-                "children": [
-                  {
-                    "name": "library",
-                    "files": [
-                      {
-                        "name": "nexus_core_library.json",
-                        "path": "aci://binders/nexus_core/library/nexus_core_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/library/nexus_core_library.json"
-                      }
-                    ],
-                    "children": []
-                  },
-                  {
-                    "name": "memory",
-                    "files": [
-                      {
-                        "name": "nexus_core_memory.json",
-                        "path": "aci://memory/identity/nexus_core/nexus_core_memory.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/memory/identity/nexus_core/nexus_core_memory.json"
-                      },
-                      {
-                        "name": "nexus_core_playbook.json",
-                        "path": "aci://memory/identity/nexus_core/nexus_core_playbook.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/memory/identity/nexus_core/nexus_core_playbook.json"
-                      }
-                    ],
-                    "children": []
-                  },
-                  {
-                    "name": "modules",
-                    "files": [
-                      {
-                        "name": "nexus_core_library.json",
-                        "path": "aci://binders/nexus_core/library/nexus_core_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/nexus_core/library/nexus_core_library.json"
+                        "path": "aci://entities/mother/library/mother_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/mother/library/mother_library.json"
                       }
                     ],
                     "children": []
@@ -816,8 +760,8 @@
                 "files": [
                   {
                     "name": "sentinel.json",
-                    "path": "aci://governance/sentinel/sentinel.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/sentinel.json"
+                    "path": "aci://entities/sentinel/sentinel.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/sentinel.json"
                   }
                 ],
                 "children": [
@@ -826,8 +770,8 @@
                     "files": [
                       {
                         "name": "sentinel_library.json",
-                        "path": "aci://governance/sentinel/library/sentinel_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/library/sentinel_library.json"
+                        "path": "aci://entities/sentinel/library/sentinel_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/library/sentinel_library.json"
                       }
                     ],
                     "children": []
@@ -853,8 +797,8 @@
                     "files": [
                       {
                         "name": "sentinel_library.json",
-                        "path": "aci://governance/sentinel/library/sentinel_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/sentinel/library/sentinel_library.json"
+                        "path": "aci://entities/sentinel/library/sentinel_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/sentinel/library/sentinel_library.json"
                       }
                     ],
                     "children": []
@@ -866,8 +810,8 @@
                 "files": [
                   {
                     "name": "tracehub.json",
-                    "path": "aci://library/audits/tracehub/tracehub.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json"
+                    "path": "aci://modules/audits/tracehub/tracehub.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json"
                   }
                 ],
                 "children": [
@@ -876,8 +820,8 @@
                     "files": [
                       {
                         "name": "tracehub.json",
-                        "path": "aci://library/audits/tracehub/tracehub.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json"
+                        "path": "aci://modules/audits/tracehub/tracehub.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json"
                       }
                     ],
                     "children": []
@@ -903,8 +847,8 @@
                     "files": [
                       {
                         "name": "tracehub.json",
-                        "path": "aci://library/audits/tracehub/tracehub.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json"
+                        "path": "aci://modules/audits/tracehub/tracehub.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json"
                       }
                     ],
                     "children": []
@@ -916,8 +860,8 @@
                 "files": [
                   {
                     "name": "tva.json",
-                    "path": "aci://governance/tva/tva.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/tva.json"
+                    "path": "aci://entities/tva/tva.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/tva.json"
                   }
                 ],
                 "children": [
@@ -926,8 +870,8 @@
                     "files": [
                       {
                         "name": "tva_library.json",
-                        "path": "aci://governance/tva/library/tva_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/library/tva_library.json"
+                        "path": "aci://entities/tva/library/tva_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/library/tva_library.json"
                       }
                     ],
                     "children": []
@@ -953,8 +897,8 @@
                     "files": [
                       {
                         "name": "tva_library.json",
-                        "path": "aci://governance/tva/library/tva_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/tva/library/tva_library.json"
+                        "path": "aci://entities/tva/library/tva_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/tva/library/tva_library.json"
                       }
                     ],
                     "children": []
@@ -966,8 +910,8 @@
                 "files": [
                   {
                     "name": "yggdrasil.json",
-                    "path": "aci://binders/yggdrasil.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+                    "path": "aci://yggdrasil.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
                   }
                 ],
                 "children": [
@@ -976,8 +920,8 @@
                     "files": [
                       {
                         "name": "yggdrasil_library.json",
-                        "path": "aci://binders/library/yggdrasil_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/library/yggdrasil_library.json"
+                        "path": "aci://yggdrasil/library/yggdrasil_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil/library/yggdrasil_library.json"
                       }
                     ],
                     "children": []
@@ -1003,8 +947,8 @@
                     "files": [
                       {
                         "name": "yggdrasil_library.json",
-                        "path": "aci://binders/library/yggdrasil_library.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/library/yggdrasil_library.json"
+                        "path": "aci://yggdrasil/library/yggdrasil_library.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil/library/yggdrasil_library.json"
                       }
                     ],
                     "children": []
@@ -1022,13 +966,13 @@
                 "files": [
                   {
                     "name": "gr_runner_corpus.v0.2.json",
-                    "path": "aci://library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
+                    "path": "aci://modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/aci_audit_runner/gr_runner_corpus.v0.2.json"
                   },
                   {
                     "name": "aci_runner_spec.v0.2.json",
-                    "path": "aci://library/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/aci_audit_runner/aci_runner_spec.v0.2.json"
+                    "path": "aci://modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/aci_audit_runner/aci_runner_spec.v0.2.json"
                   }
                 ],
                 "children": []
@@ -1061,13 +1005,13 @@
                 "files": [
                   {
                     "name": "metacognition.json",
-                    "path": "aci://library/metacognition/metacognition.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/metacognition/metacognition.json"
+                    "path": "aci://modules/metacognition/metacognition.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/metacognition/metacognition.json"
                   },
                   {
                     "name": "metacognition_options.json",
-                    "path": "aci://library/metacognition/metacognition_options.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/metacognition/metacognition_options.json"
+                    "path": "aci://modules/metacognition/metacognition_options.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/metacognition/metacognition_options.json"
                   }
                 ],
                 "children": []
@@ -1077,8 +1021,8 @@
                 "files": [
                   {
                     "name": "uid_manager.json",
-                    "path": "aci://governance/keymaker/uid_manager/uid_manager.json",
-                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/governance/keymaker/uid_manager/uid_manager.json"
+                    "path": "aci://entities/keymaker/uid_manager/uid_manager.json",
+                    "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities/keymaker/uid_manager/uid_manager.json"
                   }
                 ],
                 "children": []
@@ -1092,13 +1036,13 @@
                     "files": [
                       {
                         "name": "process_logs.json#schema_definition",
-                        "path": "aci://library/audits/process_logs/process_logs.json#schema_definition",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/process_logs/process_logs.json#schema_definition"
+                        "path": "aci://modules/audits/process_logs/process_logs.json#schema_definition",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/process_logs/process_logs.json#schema_definition"
                       },
                       {
                         "name": "process_logs.json",
-                        "path": "aci://library/audits/process_logs/process_logs.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/process_logs/process_logs.json"
+                        "path": "aci://modules/audits/process_logs/process_logs.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/process_logs/process_logs.json"
                       }
                     ],
                     "children": []
@@ -1108,8 +1052,8 @@
                     "files": [
                       {
                         "name": "tracehub.json",
-                        "path": "aci://library/audits/tracehub/tracehub.json",
-                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/library/audits/tracehub/tracehub.json"
+                        "path": "aci://modules/audits/tracehub/tracehub.json",
+                        "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/modules/audits/tracehub/tracehub.json"
                       }
                     ],
                     "children": []
@@ -1172,7 +1116,7 @@
           "aci://functions.json",
           "aci://bootstrap.json"
         ],
-        "tva_layer": "aci://governance/tva/tva_layer.json"
+        "tva_layer": "aci://entities/tva/tva_layer.json"
       },
       "git_is_canonical": true,
       "mapping": [
@@ -1193,8 +1137,8 @@
           "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/entities.json"
         },
         {
-          "file": "aci://binders/yggdrasil.json",
-          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+          "file": "aci://yggdrasil.json",
+          "raw": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
         },
         {
           "file": "aci://functions.json",
@@ -1221,6 +1165,6 @@
       "resolver"
     ]
   },
-  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json",
-  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/binders/yggdrasil.json"
+  "url": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json",
+  "resolver": "https://raw.githubusercontent.com/aliasnet/aci/main/yggdrasil.json"
 }
-- 
2.43.0

